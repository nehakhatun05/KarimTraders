(()=>{var e={};e.id=6821,e.ids=[6821],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14021:e=>{"use strict";e.exports=import("next/dist/compiled/@vercel/og/index.node.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},28819:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c});var r=t(50482),a=t(69108),i=t(62563),l=t.n(i),d=t(68300),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);t.d(s,n);let c=["",{children:["account",{children:["orders",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8090)),"C:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\account\\orders\\[id]\\page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,61702))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(t.bind(t,22879)),"C:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,24117)),"C:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,92793)),"C:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,48206)),"C:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,61702))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],o=["C:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\account\\orders\\[id]\\page.tsx"],x="/account/orders/[id]/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/account/orders/[id]/page",pathname:"/account/orders/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},30676:(e,s,t)=>{Promise.resolve().then(t.bind(t,42899))},55794:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},73229:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},42899:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>P});var r=t(95344),a=t(3729),i=t(20783),l=t.n(i),d=t(47674),n=t(22254),c=t(73714),o=t(7060),x=t(69224);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,x.Z)("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var p=t(91917),u=t(16278),h=t(42739),y=t(97751),g=t(63024),j=t(73229),f=t(85674),b=t(80508),v=t(40626),N=t(55794);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let w=(0,x.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);var E=t(44669);let k=[{value:"PENDING",label:"Order Placed",icon:c.Z,description:"Your order has been placed"},{value:"CONFIRMED",label:"Confirmed",icon:o.Z,description:"Order confirmed by seller"},{value:"PROCESSING",label:"Processing",icon:m,description:"Order is being prepared"},{value:"SHIPPED",label:"Shipped",icon:p.Z,description:"Order has been shipped"},{value:"OUT_FOR_DELIVERY",label:"Out for Delivery",icon:u.Z,description:"Order is on the way"},{value:"DELIVERED",label:"Delivered",icon:o.Z,description:"Order delivered successfully"}],D={PENDING:"bg-yellow-500",CONFIRMED:"bg-blue-500",PROCESSING:"bg-blue-500",SHIPPED:"bg-purple-500",OUT_FOR_DELIVERY:"bg-orange-500",DELIVERED:"bg-green-500",CANCELLED:"bg-red-500"};function P(){var e;let{data:s,status:t}=(0,d.useSession)(),i=(0,n.useRouter)(),c=(0,n.useParams)(),o=c?.id,[x,m]=(0,a.useState)(null),[u,P]=(0,a.useState)(!0);(0,a.useEffect)(()=>{if("unauthenticated"===t){i.push("/login?callbackUrl=/account/orders");return}"authenticated"===t&&o&&C()},[t,i,o]);let C=async()=>{try{P(!0);let e=await fetch(`/api/orders/${o}`);if(e.ok){let s=await e.json();m(s)}else E.ZP.error("Order not found"),i.push("/account/orders")}catch(e){console.error("Error fetching order:",e),E.ZP.error("Failed to load order")}finally{P(!1)}},A=e=>new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});if("loading"===t||u)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx(h.Z,{className:"w-8 h-8 animate-spin text-primary-600"})});if(!x)return null;let Z="CANCELLED"===(e=x.status)?-1:k.findIndex(s=>s.value===e),O="CANCELLED"===x.status;return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b",children:(0,r.jsxs)("div",{className:"container-custom py-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-4",children:[r.jsx(l(),{href:"/",className:"hover:text-primary-600",children:"Home"}),r.jsx(y.Z,{size:16}),r.jsx(l(),{href:"/account",className:"hover:text-primary-600",children:"Account"}),r.jsx(y.Z,{size:16}),r.jsx(l(),{href:"/account/orders",className:"hover:text-primary-600",children:"Orders"}),r.jsx(y.Z,{size:16}),(0,r.jsxs)("span",{className:"text-gray-800",children:["#",x.orderNumber||x.id.slice(-8).toUpperCase()]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(l(),{href:"/account/orders",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(g.Z,{size:20})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold text-gray-800",children:["Order #",x.orderNumber||x.id.slice(-8).toUpperCase()]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Placed on ",A(x.createdAt)]})]})]}),r.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium ${O?"bg-red-100 text-red-700":"DELIVERED"===x.status?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:O?"Cancelled":k.find(e=>e.value===x.status)?.label||x.status})]})]})}),r.jsx("div",{className:"container-custom py-8",children:(0,r.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Order Timeline"}),O?(0,r.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-red-50 rounded-lg",children:[r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(j.Z,{className:"text-red-600",size:24})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-semibold text-red-700",children:"Order Cancelled"}),(0,r.jsxs)("p",{className:"text-sm text-red-600",children:["This order was cancelled on ",A(x.updatedAt)]})]})]}):(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-6 top-6 bottom-6 w-0.5 bg-gray-200"}),r.jsx("div",{className:`absolute left-6 top-6 w-0.5 ${D[x.status]} transition-all duration-500`,style:{height:`${Math.max(0,Z/(k.length-1)*100)}%`,maxHeight:"calc(100% - 48px)"}}),r.jsx("div",{className:"space-y-6",children:k.map((e,s)=>{let t=Z>=s,a=Z===s,i=e.icon,l=x.statusHistory?.find(s=>s.status===e.value),d="PENDING"===e.value?x.createdAt:"DELIVERED"===e.value&&x.deliveredAt?x.deliveredAt:l?.timestamp;return(0,r.jsxs)("div",{className:"relative flex items-start gap-4",children:[r.jsx("div",{className:`
                            w-12 h-12 rounded-full flex items-center justify-center z-10 transition-all
                            ${t?`${D[e.value]} text-white`:"bg-gray-100 text-gray-400"}
                            ${a?"ring-4 ring-offset-2 ring-primary-200":""}
                          `,children:r.jsx(i,{size:20})}),(0,r.jsxs)("div",{className:`flex-1 pt-1 ${t?"":"opacity-50"}`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:`font-semibold ${t?"text-gray-800":"text-gray-500"}`,children:e.label}),d&&t&&r.jsx("span",{className:"text-xs text-gray-500",children:A(d)})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e.description}),a&&!O&&r.jsx("span",{className:"inline-block mt-2 px-2 py-0.5 bg-primary-100 text-primary-600 text-xs rounded-full",children:"Current Status"})]})]},e.value)})})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold mb-4",children:["Order Items (",x.items.length,")"]}),r.jsx("div",{className:"divide-y",children:x.items.map(e=>(0,r.jsxs)("div",{className:"py-4 flex gap-4",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:e.product.images?.[0]?.url?r.jsx("img",{src:e.product.images[0].url,alt:e.product.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(p.Z,{className:"text-gray-400",size:32})})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx(l(),{href:`/products/${e.product.slug}`,className:"font-medium text-gray-800 hover:text-primary-600",children:e.product.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[e.product.unit," \xd7 ",e.quantity]}),(0,r.jsxs)("p",{className:"font-semibold text-primary-600 mt-1",children:["₹",(e.price*e.quantity).toFixed(2)]})]})]},e.id))})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal"}),(0,r.jsxs)("span",{children:["₹",x.subtotal?.toFixed(2)||"0.00"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),r.jsx("span",{children:0===x.deliveryFee?"FREE":`₹${x.deliveryFee?.toFixed(2)}`})]}),x.discount>0&&(0,r.jsxs)("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Discount"}),(0,r.jsxs)("span",{children:["-₹",x.discount?.toFixed(2)]})]}),x.walletUsed>0&&(0,r.jsxs)("div",{className:"flex justify-between text-blue-600",children:[r.jsx("span",{children:"Wallet Used"}),(0,r.jsxs)("span",{children:["-₹",x.walletUsed?.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between font-semibold text-base pt-3 border-t",children:[r.jsx("span",{children:"Total"}),(0,r.jsxs)("span",{className:"text-primary-600",children:["₹",x.total?.toFixed(2)]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(f.Z,{size:20}),"Payment"]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Method"}),r.jsx("span",{className:"font-medium",children:x.paymentMethod||"N/A"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Status"}),r.jsx("span",{className:`font-medium ${"PAID"===x.paymentStatus?"text-green-600":"PENDING"===x.paymentStatus?"text-yellow-600":"text-red-600"}`,children:x.paymentStatus})]})]})]}),x.deliveryAddress&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(b.Z,{size:20}),"Delivery Address"]}),(0,r.jsxs)("div",{className:"text-sm space-y-1",children:[r.jsx("p",{className:"font-medium",children:x.deliveryAddress.name}),r.jsx("p",{className:"text-gray-600",children:x.deliveryAddress.street}),(0,r.jsxs)("p",{className:"text-gray-600",children:[x.deliveryAddress.city,", ",x.deliveryAddress.state," - ",x.deliveryAddress.postalCode]}),x.deliveryAddress.phone&&(0,r.jsxs)("p",{className:"text-gray-600 flex items-center gap-1 mt-2",children:[r.jsx(v.Z,{size:14}),x.deliveryAddress.phone]})]})]}),x.deliverySlot&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(N.Z,{size:20}),"Delivery Slot"]}),(0,r.jsxs)("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium",children:x.deliverySlot.date}),r.jsx("p",{className:"text-gray-600",children:x.deliverySlot.timeSlot})]})]}),x.notes&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(w,{size:20}),"Order Notes"]}),r.jsx("p",{className:"text-sm text-gray-600",children:x.notes})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)(l(),{href:"/account/orders",className:"w-full btn-outline flex items-center justify-center gap-2",children:[r.jsx(g.Z,{size:18}),"Back to Orders"]}),"DELIVERED"===x.status&&r.jsx("button",{className:"w-full btn-primary",children:"Reorder Items"})]})]})]})})]})}},8090:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let r=(0,t(86843).createProxy)(String.raw`C:\Users\basan\Desktop\karim123\KarimTraders\src\app\account\orders\[id]\page.tsx`),{__esModule:a,$$typeof:i}=r,l=r.default}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[1638,7861,9817],()=>t(28819));module.exports=r})();