(()=>{var e={};e.id=3,e.ids=[3],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14021:e=>{"use strict";e.exports=import("next/dist/compiled/@vercel/og/index.node.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},12681:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>p,tree:()=>d});var a=t(50482),r=t(69108),l=t(62563),i=t.n(l),n=t(68300),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,85557)),"C:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\admin\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,61702))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(t.bind(t,22879)),"C:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,24117)),"C:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,92793)),"C:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,48206)),"C:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,61702))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],o=["C:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\admin\\page.tsx"],m="/admin/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},85895:(e,s,t)=>{Promise.resolve().then(t.bind(t,80305))},1960:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},96885:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},53148:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},75695:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},31498:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},89895:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},80305:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>et});var a=t(95344),r=t(3729),l=t(20783),i=t.n(l),n=t(47674),c=t(22254),d=t(69224);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,d.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var m=t(91917);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,d.Z)("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);var p=t(12401),u=t(89895);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,d.Z)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);var g=t(80508),y=t(45961);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let j=(0,d.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),b=(0,d.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var f=t(46064);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let N=(0,d.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),v=(0,d.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var w=t(73714),k=t(42739),C=t(98200),S=t(72086),P=t(33037),A=t(48120),Z=t(14513),D=t(53148),z=t(75695),F=t(28765),O=t(71206),E=t(40626),U=t(51838),T=t(38271),I=t(1960);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let L=(0,d.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var $=t(7060),M=t(31498),R=t(44669);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let _=(0,d.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),V=(0,d.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);function q({value:e=[],onChange:s,maxImages:t=5,folder:l="products",disabled:i=!1}){let[n,c]=(0,r.useState)(!1),[d,o]=(0,r.useState)(!1),m=(0,r.useRef)(null),x=(0,r.useCallback)(async a=>{if(!a||0===a.length)return;let r=t-e.length;if(r<=0){R.ZP.error(`Maximum ${t} images allowed`);return}let i=Array.from(a).slice(0,r),n=["image/jpeg","image/png","image/webp","image/gif"];for(let e of i){if(!n.includes(e.type)){R.ZP.error(`Invalid file type: ${e.name}. Use JPG, PNG, WebP, or GIF.`);return}if(e.size>5242880){R.ZP.error(`File too large: ${e.name}. Maximum 5MB.`);return}}c(!0);let d=[];try{for(let e of i){let s=await p(e),t=await fetch(`/api/upload?folder=${l}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:s})});if(!t.ok){let e=await t.json();throw Error(e.error||"Upload failed")}let a=await t.json();d.push(a.url)}s([...e,...d]),R.ZP.success(`${d.length} image(s) uploaded`)}catch(e){console.error("Upload error:",e),R.ZP.error(e.message||"Failed to upload images")}finally{c(!1),m.current&&(m.current.value="")}},[e,s,t,l]),p=e=>new Promise((s,t)=>{let a=new FileReader;a.readAsDataURL(e),a.onload=()=>s(a.result),a.onerror=e=>t(e)}),u=(0,r.useCallback)(e=>{e.preventDefault(),o(!1),i||x(e.dataTransfer.files)},[i,x]),h=(0,r.useCallback)(e=>{e.preventDefault(),i||o(!0)},[i]),g=(0,r.useCallback)(e=>{e.preventDefault(),o(!1)},[]),y=t=>{s(e.filter((e,s)=>s!==t))},j=(t,a)=>{let r=[...e],[l]=r.splice(t,1);r.splice(a,0,l),s(r)};return(0,a.jsxs)("div",{className:"space-y-4",children:[e.length>0&&a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:e.map((s,t)=>(0,a.jsxs)("div",{className:"relative group aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[a.jsx("img",{src:s,alt:`Product image ${t+1}`,className:"w-full h-full object-cover"}),(0,a.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[t>0&&a.jsx("button",{type:"button",onClick:()=>j(t,t-1),className:"p-1.5 bg-white rounded-full text-gray-700 hover:bg-gray-100",title:"Move left",children:"←"}),a.jsx("button",{type:"button",onClick:()=>y(t),className:"p-1.5 bg-red-500 rounded-full text-white hover:bg-red-600",title:"Remove",children:a.jsx(Z.Z,{size:16})}),t<e.length-1&&a.jsx("button",{type:"button",onClick:()=>j(t,t+1),className:"p-1.5 bg-white rounded-full text-gray-700 hover:bg-gray-100",title:"Move right",children:"→"})]}),0===t&&a.jsx("span",{className:"absolute top-2 left-2 bg-primary-600 text-white text-xs px-2 py-0.5 rounded",children:"Main"})]},s))}),e.length<t&&(0,a.jsxs)("div",{onDrop:u,onDragOver:h,onDragLeave:g,className:`
            border-2 border-dashed rounded-lg p-6 text-center transition-colors
            ${d?"border-primary-500 bg-primary-50":"border-gray-300"}
            ${i?"opacity-50 cursor-not-allowed":"cursor-pointer hover:border-primary-400"}
          `,onClick:()=>!i&&!n&&m.current?.click(),children:[a.jsx("input",{ref:m,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",multiple:!0,onChange:e=>x(e.target.files),className:"hidden",disabled:i||n}),n?(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(k.Z,{className:"w-10 h-10 text-primary-600 animate-spin"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(_,{className:"w-6 h-6 text-gray-400"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Drop images here or click to upload"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["JPG, PNG, WebP or GIF • Max 5MB each • ",t-e.length," remaining"]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(V,{size:16}),a.jsx("span",{children:"Or add image URL directly in the form below"})]})]})}var G=t(70938),B=t(96885),K=t(66138),J=t(62312),H=t(26075);let W={pincode:"",area:"",city:"",state:"",deliveryTime:"30 mins",deliveryFee:0,minOrderValue:0,isActive:!0};function Y(){let[e,s]=(0,r.useState)([]),[t,l]=(0,r.useState)(!0),[i,n]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[o,m]=(0,r.useState)(W),[x,p]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[y,j]=(0,r.useState)(""),[b,f]=(0,r.useState)(!1),[N,v]=(0,r.useState)(""),[w,C]=(0,r.useState)(!1),S=async()=>{try{let e=await fetch("/api/service-areas?all=true"),t=await e.json();s(t.serviceAreas||[])}catch(e){R.ZP.error("Failed to fetch service areas")}finally{l(!1)}};(0,r.useEffect)(()=>{S()},[]);let P=async e=>{if(6===e.length){h(!0);try{let s=await fetch(`https://api.postalpincode.in/pincode/${e}`),t=await s.json();if(t[0]?.Status==="Success"&&t[0]?.PostOffice?.length>0){let e=t[0].PostOffice[0];m(s=>({...s,area:e.Name||s.area,city:e.District||s.city,state:e.State||s.state})),R.ZP.success("Location details fetched!")}else R.ZP.error("Could not find pincode details")}catch(e){console.error("Pincode lookup failed:",e),R.ZP.error("Failed to lookup pincode")}finally{h(!1)}}},A=e=>{let{name:s,value:t,type:a}=e.target,r="number"===a?parseFloat(t)||0:t;m(e=>({...e,[s]:r})),"pincode"!==s||6!==t.length||c||P(t)},D=e=>{let{name:s,checked:t}=e.target;m(e=>({...e,[s]:t}))},z=async e=>{if(e.preventDefault(),!o.pincode||!o.area||!o.city||!o.state){R.ZP.error("Please fill all required fields");return}p(!0);try{let e=await fetch("/api/service-areas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to add service area");R.ZP.success("Service area added successfully"),n(!1),m(W),S()}catch(e){R.ZP.error(e.message)}finally{p(!1)}},O=async e=>{if(e.preventDefault(),c){p(!0);try{let e=await fetch("/api/service-areas",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:c,...o})}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to update service area");R.ZP.success("Service area updated successfully"),d(null),m(W),S()}catch(e){R.ZP.error(e.message)}finally{p(!1)}}},E=async e=>{if(confirm("Are you sure you want to delete this service area?"))try{let s=await fetch(`/api/service-areas?id=${e}`,{method:"DELETE"});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to delete service area")}R.ZP.success("Service area deleted successfully"),S()}catch(e){R.ZP.error(e.message)}},I=e=>{d(e.id),m({pincode:e.pincode,area:e.area,city:e.city,state:e.state,deliveryTime:e.deliveryTime,deliveryFee:e.deliveryFee,minOrderValue:e.minOrderValue,isActive:e.isActive}),n(!1)},L=()=>{d(null),m(W)},$=async e=>{try{if(!(await fetch("/api/service-areas",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,isActive:!e.isActive})})).ok)throw Error("Failed to update status");R.ZP.success(`Service area ${e.isActive?"deactivated":"activated"}`),S()}catch(e){R.ZP.error("Failed to update status")}},V=async()=>{let s=N.split(/[\n,\s]+/).map(e=>e.trim()).filter(e=>6===e.length&&/^\d+$/.test(e));if(0===s.length){R.ZP.error("No valid pincodes found");return}let t=e.map(e=>e.pincode),a=s.filter(e=>!t.includes(e)),r=s.filter(e=>t.includes(e));if(r.length>0&&R.ZP.error(`${r.length} pincode(s) already exist`),0===a.length){R.ZP.error("All pincodes already exist");return}C(!0);let l=0,i=0;for(let e of a)try{let s=await fetch(`https://api.postalpincode.in/pincode/${e}`),t=await s.json(),a="",r="",n="";if(t[0]?.Status==="Success"&&t[0]?.PostOffice?.length>0){let e=t[0].PostOffice[0];a=e.Name||"",r=e.District||"",n=e.State||""}(await fetch("/api/service-areas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pincode:e,area:a||"Unknown",city:r||"Unknown",state:n||"Unknown",deliveryTime:"30 mins",deliveryFee:0,minOrderValue:0,isActive:!0})})).ok?l++:i++}catch(e){i++}C(!1),v(""),f(!1),S(),l>0&&R.ZP.success(`${l} service area(s) added successfully`),i>0&&R.ZP.error(`${i} pincode(s) failed to add`)},q=e.filter(e=>{if(!y)return!0;let s=y.toLowerCase();return e.pincode.includes(s)||e.area.toLowerCase().includes(s)||e.city.toLowerCase().includes(s)||e.state.toLowerCase().includes(s)}),G=({onSubmit:e,isEdit:s=!1})=>(0,a.jsxs)("form",{onSubmit:e,className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 mb-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:s?"Edit Service Area":"Add New Service Area"}),a.jsx("button",{type:"button",onClick:()=>{s?L():(n(!1),m(W))},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Z.Z,{size:18,className:"text-gray-500"})})]}),!s&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:(0,a.jsxs)("p",{className:"text-sm text-green-700",children:["\uD83D\uDCA1 ",a.jsx("strong",{children:"Tip:"})," Enter a 6-digit pincode and we'll auto-fill the area, city, and state!"]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Pincode ",a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{type:"text",name:"pincode",value:o.pincode,onChange:A,maxLength:6,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"400001",disabled:s,required:!0}),u&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx(k.Z,{size:16,className:"animate-spin text-primary"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"area",value:o.area,onChange:A,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"Fort",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["City ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"city",value:o.city,onChange:A,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"Mumbai",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["State ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"state",value:o.state,onChange:A,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"Maharashtra",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Time"}),(0,a.jsxs)("select",{name:"deliveryTime",value:o.deliveryTime,onChange:A,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",children:[a.jsx("option",{value:"10 mins",children:"10 mins"}),a.jsx("option",{value:"15 mins",children:"15 mins"}),a.jsx("option",{value:"20 mins",children:"20 mins"}),a.jsx("option",{value:"30 mins",children:"30 mins"}),a.jsx("option",{value:"45 mins",children:"45 mins"}),a.jsx("option",{value:"1 hour",children:"1 hour"}),a.jsx("option",{value:"Same Day",children:"Same Day"}),a.jsx("option",{value:"Next Day",children:"Next Day"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Fee (₹)"}),a.jsx("input",{type:"number",name:"deliveryFee",value:o.deliveryFee,onChange:A,min:"0",step:"1",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"0"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Order (₹)"}),a.jsx("input",{type:"number",name:"minOrderValue",value:o.minOrderValue,onChange:A,min:"0",step:"1",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"0"})]}),a.jsx("div",{className:"flex items-end pb-2",children:(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"isActive",checked:o.isActive,onChange:D,className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 mt-6 pt-4 border-t border-gray-100",children:[a.jsx("button",{type:"button",onClick:()=>{s?L():(n(!1),m(W))},className:"w-full sm:w-auto px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x||!o.pincode||!o.area||!o.city||!o.state,className:"w-full sm:w-auto px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-medium",children:x?(0,a.jsxs)(a.Fragment,{children:[a.jsx(k.Z,{size:18,className:"animate-spin"}),s?"Updating...":"Adding..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(M.Z,{size:18}),s?"Update Service Area":"Add Service Area"]})})]})]});return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Service Areas"}),(0,a.jsxs)("p",{className:"text-gray-500 mt-1 text-sm",children:[e.length," locations • ",e.filter(e=>e.isActive).length," active"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.length>0&&(0,a.jsxs)("button",{onClick:()=>{let s=[["Pincode","Area","City","State","Delivery Time","Delivery Fee","Min Order","Status"],...e.map(e=>[e.pincode,e.area,e.city,e.state,e.deliveryTime,e.deliveryFee,e.minOrderValue,e.isActive?"Active":"Inactive"])].map(e=>e.join(",")).join("\n"),t=new Blob([s],{type:"text/csv"}),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="service-areas.csv",r.click(),window.URL.revokeObjectURL(a),R.ZP.success("Service areas exported!")},className:"flex items-center gap-2 px-3 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",title:"Export CSV",children:[a.jsx(B.Z,{size:16}),a.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),!i&&!c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-3 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[a.jsx(_,{size:16}),a.jsx("span",{className:"hidden sm:inline",children:"Bulk Import"})]}),(0,a.jsxs)("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm",children:[a.jsx(U.Z,{size:18}),"Add Area"]})]})]})]}),e.length>0&&!i&&!c&&a.jsx("div",{className:"mb-4",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx(F.Z,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by pincode, area, city or state...",value:y,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"})]})}),b&&(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Bulk Import Pincodes"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Add multiple pincodes at once"})]}),a.jsx("button",{onClick:()=>{f(!1),v("")},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Z.Z,{size:18,className:"text-gray-500"})})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:a.jsx("p",{className:"text-sm text-blue-700",children:"Enter pincodes separated by commas, spaces, or new lines. We'll automatically fetch location details for each pincode."})}),a.jsx("textarea",{value:N,onChange:e=>v(e.target.value),placeholder:"400001, 400002, 400003 or 400001 400002 400003",className:"w-full h-40 px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary resize-none font-mono text-sm"}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[a.jsx("button",{onClick:()=>{f(!1),v("")},className:"px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:V,disabled:w||!N.trim(),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 flex items-center gap-2",children:w?(0,a.jsxs)(a.Fragment,{children:[a.jsx(k.Z,{size:16,className:"animate-spin"}),"Importing..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(_,{size:16}),"Import Pincodes"]})})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6 flex items-start gap-3",children:[a.jsx(K.Z,{className:"text-blue-500 flex-shrink-0 mt-0.5",size:20}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Service Area Configuration"}),a.jsx("p",{className:"text-sm text-blue-600 mt-1",children:'Add pincodes where you offer delivery. Users outside these areas will see "Coming Soon" message.'})]})]}),i&&a.jsx(G,{onSubmit:z}),c&&a.jsx(G,{onSubmit:O,isEdit:!0}),t?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(k.Z,{className:"animate-spin text-primary",size:32})}):0===e.length?(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[a.jsx(g.Z,{className:"mx-auto text-gray-300 mb-4",size:48}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Service Areas"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Start by adding your first service area"}),(0,a.jsxs)("button",{onClick:()=>n(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:[a.jsx(U.Z,{size:18}),"Add Service Area"]})]}):0===q.length?(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[a.jsx(F.Z,{className:"mx-auto text-gray-300 mb-4",size:48}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Results Found"}),(0,a.jsxs)("p",{className:"text-gray-500 mb-4",children:['No service areas match "',y,'"']}),a.jsx("button",{onClick:()=>j(""),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear Search"})]}):(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[y&&(0,a.jsxs)("div",{className:"px-4 py-2 bg-gray-50 border-b border-gray-200 text-sm text-gray-600",children:["Showing ",q.length," of ",e.length," service areas"]}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-200",children:[a.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-semibold text-gray-600 uppercase",children:"Pincode"}),a.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-semibold text-gray-600 uppercase",children:"Area"}),a.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-semibold text-gray-600 uppercase hidden sm:table-cell",children:"City"}),a.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-semibold text-gray-600 uppercase hidden md:table-cell",children:"Delivery"}),a.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-semibold text-gray-600 uppercase hidden lg:table-cell",children:"Fee"}),a.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-semibold text-gray-600 uppercase",children:"Status"}),a.jsx("th",{className:"text-right px-4 sm:px-6 py-3 text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:q.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-4 sm:px-6 py-4",children:a.jsx("span",{className:"font-mono font-semibold text-gray-800",children:e.pincode})}),a.jsx("td",{className:"px-4 sm:px-6 py-4",children:(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-800 font-medium",children:e.area}),a.jsx("p",{className:"text-xs text-gray-500 sm:hidden",children:e.city})]})}),a.jsx("td",{className:"px-4 sm:px-6 py-4 text-gray-600 hidden sm:table-cell",children:e.city}),a.jsx("td",{className:"px-4 sm:px-6 py-4 hidden md:table-cell",children:a.jsx("span",{className:"text-sm text-primary-600 font-medium",children:e.deliveryTime})}),a.jsx("td",{className:"px-4 sm:px-6 py-4 hidden lg:table-cell",children:e.deliveryFee>0?(0,a.jsxs)("span",{className:"text-gray-700",children:["₹",e.deliveryFee]}):a.jsx("span",{className:"text-green-600 font-medium",children:"Free"})}),a.jsx("td",{className:"px-4 sm:px-6 py-4",children:a.jsx("button",{onClick:()=>$(e),className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium transition-colors ${e.isActive?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.isActive?(0,a.jsxs)(a.Fragment,{children:[a.jsx(J.Z,{size:10}),"Active"]}):"Inactive"})}),a.jsx("td",{className:"px-4 sm:px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[a.jsx("button",{onClick:()=>I(e),className:"p-2 text-gray-500 hover:text-primary hover:bg-primary/10 rounded-lg transition-colors",title:"Edit",children:a.jsx(H.Z,{size:16})}),a.jsx("button",{onClick:()=>E(e.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:a.jsx(T.Z,{size:16})})]})})]},e.id))})]})}),(0,a.jsxs)("div",{className:"px-4 sm:px-6 py-3 bg-gray-50 border-t border-gray-200 flex flex-wrap gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:[a.jsx("strong",{className:"text-gray-800",children:e.filter(e=>0===e.deliveryFee).length})," free delivery"]}),(0,a.jsxs)("span",{children:[a.jsx("strong",{className:"text-gray-800",children:e.filter(e=>e.deliveryFee>0).length})," paid delivery"]}),(0,a.jsxs)("span",{children:[a.jsx("strong",{className:"text-gray-800",children:new Set(e.map(e=>e.city)).size})," cities covered"]})]})]})]})}let X=[{id:"dashboard",icon:o,label:"Dashboard"},{id:"products",icon:m.Z,label:"Products"},{id:"categories",icon:x,label:"Categories"},{id:"orders",icon:p.Z,label:"Orders"},{id:"customers",icon:u.Z,label:"Customers"},{id:"coupons",icon:h,label:"Coupons"},{id:"service-areas",icon:g.Z,label:"Service Areas"},{id:"inventory",icon:y.Z,label:"Inventory Alerts"},{id:"analytics",icon:j,label:"Analytics"},{id:"settings",icon:b,label:"Settings"}],Q={name:"",slug:"",description:"",shortDescription:"",price:0,originalPrice:0,discount:0,unit:"1 kg",sku:"",stockCount:0,stockStatus:"IN_STOCK",categoryId:"",isActive:!0,isFeatured:!1,isBestSeller:!1,isOrganic:!1,isNew:!1,tags:[],images:[{url:"",alt:""}]},ee={name:"",slug:"",description:"",icon:"",image:"",parentId:"",sortOrder:0,isActive:!0},es={code:"",description:"",type:"PERCENTAGE",value:10,minOrderAmount:0,maxDiscount:0,usageLimit:0,perUserLimit:1,validFrom:new Date().toISOString().split("T")[0],validUntil:new Date(Date.now()+2592e6).toISOString().split("T")[0],isActive:!0};function et(){let{data:e,status:s}=(0,n.useSession)(),t=(0,c.useRouter)(),[l,d]=(0,r.useState)("dashboard"),[o,p]=(0,r.useState)(!1),[b,_]=(0,r.useState)(!0),[V,B]=(0,r.useState)({totalRevenue:0,totalOrders:0,totalCustomers:0,totalProducts:0}),[K,J]=(0,r.useState)([]),[H,W]=(0,r.useState)([]),[et,ea]=(0,r.useState)([]),[er,el]=(0,r.useState)([]),[ei,en]=(0,r.useState)(!1),[ec,ed]=(0,r.useState)(!1),[eo,em]=(0,r.useState)(!1),[ex,ep]=(0,r.useState)(Q),[eu,eh]=(0,r.useState)(null),[eg,ey]=(0,r.useState)(!1),[ej,eb]=(0,r.useState)(!1),[ef,eN]=(0,r.useState)(!1),[ev,ew]=(0,r.useState)(""),[ek,eC]=(0,r.useState)(""),[eS,eP]=(0,r.useState)([]),[eA,eZ]=(0,r.useState)(null),[eD,ez]=(0,r.useState)(!1),[eF,eO]=(0,r.useState)(!1),[eE,eU]=(0,r.useState)(""),[eT,eI]=(0,r.useState)(""),[eL,e$]=(0,r.useState)(!1),[eM,eR]=(0,r.useState)(!1),[e_,eV]=(0,r.useState)(!1),[eq,eG]=(0,r.useState)(ee),[eB,eK]=(0,r.useState)(null),[eJ,eH]=(0,r.useState)(!1),[eW,eY]=(0,r.useState)(!1),[eX,eQ]=(0,r.useState)(!1),[e0,e1]=(0,r.useState)(""),[e2,e5]=(0,r.useState)([]),[e4,e3]=(0,r.useState)(!1),[e6,e7]=(0,r.useState)(!1),[e8,e9]=(0,r.useState)(es),[se,ss]=(0,r.useState)(null),[st,sa]=(0,r.useState)(!1),[sr,sl]=(0,r.useState)(!1),[si,sn]=(0,r.useState)(!1),[sc,sd]=(0,r.useState)(""),[so,sm]=(0,r.useState)(""),[sx,sp]=(0,r.useState)(""),[su,sh]=(0,r.useState)(null),[sg,sy]=(0,r.useState)(!1),[sj,sb]=(0,r.useState)([]),[sf,sN]=(0,r.useState)(!1),[sv,sw]=(0,r.useState)(null),[sk,sC]=(0,r.useState)("30d"),[sS,sP]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if("unauthenticated"===s){t.push("/login");return}if("authenticated"===s){if(e?.user?.role!=="ADMIN"&&e?.user?.role!=="SUPER_ADMIN"){t.push("/account");return}sA()}},[s,e,t]);let sA=async()=>{try{_(!0);let[e,s,t,a,r,l,i]=await Promise.all([fetch("/api/admin/dashboard"),fetch("/api/admin/orders?limit=5"),fetch("/api/admin/users?limit=100"),fetch("/api/products?limit=100"),fetch("/api/admin/categories"),fetch("/api/admin/orders?limit=100"),fetch("/api/admin/coupons")]);if(e.ok){let s=await e.json();B(s)}if(s.ok){let e=await s.json();J(e.orders||[])}if(l.ok){let e=await l.json();eP(e.orders||[])}if(t.ok){let e=await t.json();W(e.users||[])}if(a.ok){let e=await a.json();ea(e.products||[])}if(r.ok){let e=await r.json();el(e.categories||e||[])}if(i.ok){let e=await i.json();e5(e.coupons||[])}}catch(e){console.error("Error fetching dashboard data:",e)}finally{_(!1)}},sZ=e=>{switch(e){case"PENDING":return"bg-yellow-100 text-yellow-700";case"CONFIRMED":case"PROCESSING":return"bg-blue-100 text-blue-700";case"SHIPPED":return"bg-purple-100 text-purple-700";case"OUT_FOR_DELIVERY":return"bg-orange-100 text-orange-700";case"DELIVERED":return"bg-green-100 text-green-700";case"CANCELLED":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},sD=()=>{ep(Q),ey(!1),en(!0)},sz=e=>{ep({id:e.id,name:e.name||"",slug:e.slug||"",description:e.description||"",shortDescription:e.shortDescription||"",price:e.price||0,originalPrice:e.originalPrice||0,discount:e.discount||0,unit:e.unit||"1 kg",sku:e.sku||"",stockCount:e.stockCount||0,stockStatus:e.stockStatus||"IN_STOCK",categoryId:e.categoryId||e.category?.id||"",isActive:e.isActive??!0,isFeatured:e.isFeatured||!1,isBestSeller:e.isBestSeller||!1,isOrganic:e.isOrganic||!1,isNew:e.isNew||!1,tags:e.tags||[],images:e.images?.length>0?e.images.map(e=>({url:e.url,alt:e.alt||""})):[{url:"",alt:""}]}),ey(!0),en(!0)},sF=e=>{eh(e),em(!0)},sO=e=>{eh(e),ed(!0)},sE=e=>e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),sU=(e,s)=>{ep(t=>{let a={...t,[e]:s};if("name"!==e||eg||(a.slug=sE(s)),"price"===e||"originalPrice"===e){let r="price"===e?s:t.price,l="originalPrice"===e?s:t.originalPrice;l>0&&r>0&&l>r&&(a.discount=Math.round((l-r)/l*100))}return a})},sT=(e,s,t)=>{ep(a=>{let r=[...a.images];return r[e]={...r[e],[s]:t},{...a,images:r}})},sI=e=>{ep(s=>({...s,images:s.images.filter((s,t)=>t!==e)}))},sL=async()=>{if(!ex.name||!ex.price||!ex.categoryId){R.ZP.error("Please fill in required fields (Name, Price, Category)");return}eb(!0);try{let e=eg?`/api/products/${ex.slug}`:"/api/products",s=await fetch(e,{method:eg?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...ex,price:parseFloat(ex.price.toString()),originalPrice:parseFloat(ex.originalPrice.toString())||parseFloat(ex.price.toString()),discount:parseInt(ex.discount.toString())||0,stockCount:parseInt(ex.stockCount.toString())||0,images:ex.images.filter(e=>e.url)})});if(s.ok)R.ZP.success(eg?"Product updated successfully!":"Product created successfully!"),en(!1),sA();else{let e=await s.json();R.ZP.error(e.error||"Failed to save product")}}catch(e){console.error("Save product error:",e),R.ZP.error("Failed to save product")}finally{eb(!1)}},s$=async()=>{if(eu){eN(!0);try{let e=await fetch(`/api/products/${eu.slug}`,{method:"DELETE"});if(e.ok)R.ZP.success("Product deleted successfully!"),ed(!1),eh(null),sA();else{let s=await e.json();R.ZP.error(s.error||"Failed to delete product")}}catch(e){console.error("Delete product error:",e),R.ZP.error("Failed to delete product")}finally{eN(!1)}}},sM=async e=>{try{(await fetch(`/api/products/${e.slug}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,isActive:!e.isActive})})).ok&&(R.ZP.success(`Product ${e.isActive?"deactivated":"activated"}`),sA())}catch(e){R.ZP.error("Failed to update product status")}},sR=et.filter(e=>{let s=e.name?.toLowerCase().includes(ev.toLowerCase())||e.sku?.toLowerCase().includes(ev.toLowerCase()),t=!ek||e.categoryId===ek||e.category?.id===ek;return s&&t}),s_=eS.filter(e=>{let s=e.orderNumber?.toLowerCase().includes(eT.toLowerCase())||e.user?.name?.toLowerCase().includes(eT.toLowerCase())||e.user?.email?.toLowerCase().includes(eT.toLowerCase()),t=!eE||e.status===eE;return s&&t}),sV=async e=>{try{let s=await fetch(`/api/admin/orders/${e.id}`);if(s.ok){let e=await s.json();eZ(e),eO(!0)}else R.ZP.error("Failed to load order details")}catch(e){R.ZP.error("Failed to load order details")}},sq=e=>{eZ(e),ez(!0)},sG=async e=>{if(eA){e$(!0);try{let s=await fetch(`/api/admin/orders/${eA.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e})});if(s.ok)R.ZP.success(`Order status updated to ${e.replace("_"," ")}`),ez(!1),eZ(null),sA();else{let e=await s.json();R.ZP.error(e.error||"Failed to update order status")}}catch(e){R.ZP.error("Failed to update order status")}finally{e$(!1)}}},sB=[{value:"PENDING",label:"Pending",color:"bg-yellow-100 text-yellow-700"},{value:"CONFIRMED",label:"Confirmed",color:"bg-blue-100 text-blue-700"},{value:"PROCESSING",label:"Processing",color:"bg-indigo-100 text-indigo-700"},{value:"PACKED",label:"Packed",color:"bg-purple-100 text-purple-700"},{value:"SHIPPED",label:"Shipped",color:"bg-cyan-100 text-cyan-700"},{value:"OUT_FOR_DELIVERY",label:"Out for Delivery",color:"bg-orange-100 text-orange-700"},{value:"DELIVERED",label:"Delivered",color:"bg-green-100 text-green-700"},{value:"CANCELLED",label:"Cancelled",color:"bg-red-100 text-red-700"}],sK=()=>{eG(ee),eH(!1),eR(!0)},sJ=e=>{eG({id:e.id,name:e.name||"",slug:e.slug||"",description:e.description||"",icon:e.icon||"",image:e.image||"",parentId:e.parentId||"",sortOrder:e.sortOrder||0,isActive:e.isActive??!0}),eH(!0),eR(!0)},sH=e=>{eK(e),eV(!0)},sW=e=>e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),sY=(e,s)=>{eG(t=>{let a={...t,[e]:s};return"name"!==e||eJ||(a.slug=sW(s)),a})},sX=async()=>{if(!eq.name){R.ZP.error("Category name is required");return}eY(!0);try{let e=eJ?`/api/admin/categories/${eq.id}`:"/api/admin/categories",s=await fetch(e,{method:eJ?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(eq)});if(s.ok)R.ZP.success(eJ?"Category updated!":"Category created!"),eR(!1),sA();else{let e=await s.json();R.ZP.error(e.error||"Failed to save category")}}catch(e){R.ZP.error("Failed to save category")}finally{eY(!1)}},sQ=async()=>{if(eB){eQ(!0);try{let e=await fetch(`/api/admin/categories/${eB.id}`,{method:"DELETE"});if(e.ok)R.ZP.success("Category deleted!"),eV(!1),eK(null),sA();else{let s=await e.json();R.ZP.error(s.error||"Failed to delete category")}}catch(e){R.ZP.error("Failed to delete category")}finally{eQ(!1)}}},s0=async e=>{try{(await fetch(`/api/admin/categories/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!e.isActive})})).ok&&(R.ZP.success(`Category ${e.isActive?"deactivated":"activated"}`),sA())}catch(e){R.ZP.error("Failed to update category")}},s1=er.filter(e=>e.name?.toLowerCase().includes(e0.toLowerCase())),s2=()=>{e9(es),sa(!1),e3(!0)},s5=e=>{e9({id:e.id,code:e.code||"",description:e.description||"",type:e.type||"PERCENTAGE",value:e.value||0,minOrderAmount:e.minOrderAmount||0,maxDiscount:e.maxDiscount||0,usageLimit:e.usageLimit||0,perUserLimit:e.perUserLimit||1,validFrom:e.validFrom?new Date(e.validFrom).toISOString().split("T")[0]:"",validUntil:e.validUntil?new Date(e.validUntil).toISOString().split("T")[0]:"",isActive:e.isActive??!0}),sa(!0),e3(!0)},s4=e=>{ss(e),e7(!0)},s3=(e,s)=>{e9(t=>({...t,[e]:s}))},s6=async()=>{if(!e8.code||!e8.validFrom||!e8.validUntil){R.ZP.error("Code and validity dates are required");return}sl(!0);try{let e=st?`/api/admin/coupons/${e8.id}`:"/api/admin/coupons",s=await fetch(e,{method:st?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e8)});if(s.ok)R.ZP.success(st?"Coupon updated!":"Coupon created!"),e3(!1),sA();else{let e=await s.json();R.ZP.error(e.error||"Failed to save coupon")}}catch(e){R.ZP.error("Failed to save coupon")}finally{sl(!1)}},s7=async()=>{if(se){sn(!0);try{let e=await fetch(`/api/admin/coupons/${se.id}`,{method:"DELETE"});if(e.ok)R.ZP.success("Coupon deleted!"),e7(!1),ss(null),sA();else{let s=await e.json();R.ZP.error(s.error||"Failed to delete coupon")}}catch(e){R.ZP.error("Failed to delete coupon")}finally{sn(!1)}}},s8=async e=>{try{(await fetch(`/api/admin/coupons/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!e.isActive})})).ok&&(R.ZP.success(`Coupon ${e.isActive?"deactivated":"activated"}`),sA())}catch(e){R.ZP.error("Failed to update coupon")}},s9=e=>{navigator.clipboard.writeText(e),R.ZP.success("Code copied!")},te=e=>{switch(e){case"active":return"bg-green-100 text-green-700";case"expired":return"bg-red-100 text-red-700";case"scheduled":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},ts=e2.filter(e=>{let s=e.code?.toLowerCase().includes(sc.toLowerCase())||e.description?.toLowerCase().includes(sc.toLowerCase()),t=!so||e.status===so;return s&&t}),tt=async e=>{sh(e),sN(!0),sy(!0);try{let s=await fetch(`/api/admin/orders?userId=${e.id}&limit=20`);if(s.ok){let e=await s.json();sb(e.orders||[])}}catch(e){console.error("Error fetching customer orders:",e)}finally{sN(!1)}},ta=H.filter(e=>{let s=sx.toLowerCase();return e.name?.toLowerCase().includes(s)||e.email?.toLowerCase().includes(s)||e.phone?.includes(sx)}),tr=async e=>{sP(!0);try{let s=await fetch(`/api/admin/analytics?period=${e}`);if(s.ok){let e=await s.json();sw(e)}}catch(e){console.error("Error fetching analytics:",e)}finally{sP(!1)}};(0,r.useEffect)(()=>{"analytics"===l&&tr(sk)},[l,sk]);let tl=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(e),ti=e=>e>=0?"text-green-600":"text-red-600",tn=e=>e>=0?a.jsx(f.Z,{size:14}):a.jsx(N,{size:14}),tc=[{label:"Total Revenue",value:`₹${(V.totalRevenue||0).toLocaleString()}`,change:"+12%",trend:"up",icon:v},{label:"Total Orders",value:(V.totalOrders||0).toString(),change:"+8%",trend:"up",icon:w.Z},{label:"Total Customers",value:(V.totalCustomers||0).toString(),change:"+15%",trend:"up",icon:u.Z},{label:"Products",value:(V.totalProducts||0).toString(),change:"+5",trend:"up",icon:m.Z}];return"loading"===s||b||"unauthenticated"===s||e?.user?.role!=="ADMIN"&&e?.user?.role!=="SUPER_ADMIN"?a.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:a.jsx(k.Z,{className:"w-8 h-8 animate-spin text-primary-600"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[a.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between px-2 sm:px-4 py-2 sm:py-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[a.jsx("button",{onClick:()=>p(!o),className:"lg:hidden p-1.5 sm:p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(C.Z,{size:22,className:"sm:w-6 sm:h-6"})}),(0,a.jsxs)(i(),{href:"/admin",className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg sm:text-xl",children:"K"})}),(0,a.jsxs)("div",{className:"hidden sm:block",children:[a.jsx("h1",{className:"font-display font-bold text-lg text-gray-800",children:"KARIM TRADERS"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-4",children:[a.jsx(i(),{href:"/",className:"p-1.5 sm:p-2 hover:bg-gray-100 rounded-lg",title:"Go to Store",children:a.jsx(S.Z,{size:20,className:"sm:w-[22px] sm:h-[22px]"})}),(0,a.jsxs)("button",{className:"relative p-1.5 sm:p-2 hover:bg-gray-100 rounded-lg",children:[a.jsx(P.Z,{size:20,className:"sm:w-[22px] sm:h-[22px]"}),a.jsx("span",{className:"absolute top-0.5 right-0.5 sm:top-1 sm:right-1 w-2 h-2 bg-red-500 rounded-full"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-primary-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"font-medium text-primary-600 text-sm sm:text-base",children:e?.user?.name?.charAt(0)?.toUpperCase()||"A"})}),(0,a.jsxs)("div",{className:"hidden md:block",children:[a.jsx("p",{className:"text-sm font-medium",children:e?.user?.name||"Admin"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Administrator"})]})]}),a.jsx("button",{onClick:()=>{(0,n.signOut)({callbackUrl:"/login"})},className:"p-1.5 sm:p-2 hover:bg-red-50 rounded-lg text-red-600",title:"Logout",children:a.jsx(A.Z,{size:18,className:"sm:w-5 sm:h-5"})})]})]})}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("aside",{className:`fixed lg:static inset-y-0 left-0 z-40 w-64 bg-white shadow-lg transform ${o?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-200`,children:[a.jsx("div",{className:"p-4 lg:hidden flex justify-end",children:a.jsx("button",{onClick:()=>p(!1),children:a.jsx(Z.Z,{size:24})})}),a.jsx("nav",{className:"p-4",children:X.map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>{d(e.id),p(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg mb-1 transition-colors ${l===e.id?"bg-primary-50 text-primary-600":"text-gray-600 hover:bg-gray-50"}`,children:[a.jsx(s,{size:20}),a.jsx("span",{className:"font-medium",children:e.label})]},e.id)})})]}),(0,a.jsxs)("main",{className:"flex-1 p-3 sm:p-4 lg:p-8 overflow-x-hidden",children:["dashboard"===l&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-4 sm:mb-6",children:"Dashboard Overview"}),a.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:tc.map((e,s)=>{let t=e.icon;return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:a.jsx(t,{className:"text-primary-600",size:20})}),(0,a.jsxs)("span",{className:`flex items-center gap-1 text-xs sm:text-sm ${"up"===e.trend?"text-green-600":"text-red-600"}`,children:["up"===e.trend?a.jsx(f.Z,{size:14}):a.jsx(N,{size:14}),e.change]})]}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:e.value}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:e.label})]},s)})}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 mb-6 sm:mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Recent Orders"}),a.jsx("button",{onClick:()=>d("orders"),className:"text-primary-600 text-xs sm:text-sm font-medium",children:"View All"})]}),K.length>0?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"block sm:hidden space-y-3",children:K.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-sm",children:["#",e.orderNumber||e.id.slice(-8).toUpperCase()]}),a.jsx("p",{className:"text-xs text-gray-500",children:e.user?.name||"N/A"})]}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${sZ(e.status)}`,children:e.status.replace("_"," ")})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsxs)("span",{className:"font-semibold",children:["₹",e.total]})]})]},e.id))}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full min-w-[600px]",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"text-left border-b",children:[a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Order ID"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Customer"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Date"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Total"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Status"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Actions"})]})}),a.jsx("tbody",{children:K.map(e=>(0,a.jsxs)("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"py-3 font-medium text-sm",children:e.orderNumber||e.id.slice(-8).toUpperCase()}),a.jsx("td",{className:"py-3 text-sm",children:e.user?.name||"N/A"}),a.jsx("td",{className:"py-3 text-gray-500 text-sm",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsxs)("td",{className:"py-3 font-medium text-sm",children:["₹",e.total]}),a.jsx("td",{className:"py-3",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${sZ(e.status)}`,children:e.status.replace("_"," ")})}),a.jsx("td",{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:a.jsx(D.Z,{size:16,className:"text-gray-500"})}),a.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:a.jsx(z.Z,{size:16,className:"text-gray-500"})})]})})]},e.id))})]})})]}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No orders yet"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Products by Category"}),er.length>0?a.jsx("div",{className:"space-y-3 sm:space-y-4",children:er.slice(0,6).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[a.jsx("span",{className:"text-xl sm:text-2xl",children:e.icon||"\uD83D\uDCE6"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:e.name}),a.jsx("span",{className:"text-gray-500 text-sm ml-2",children:e._count?.products||0})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 sm:h-2",children:a.jsx("div",{className:"bg-primary-600 h-1.5 sm:h-2 rounded-full",style:{width:`${Math.min((e._count?.products||0)/50*100,100)}%`}})})]})]},e.id))}):a.jsx("p",{className:"text-gray-500 text-center py-4 text-sm",children:"No categories yet"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Recent Customers"}),H.length>0?a.jsx("div",{className:"space-y-3 sm:space-y-4",children:H.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"font-medium text-primary-600 text-sm sm:text-base",children:e.name?.charAt(0)?.toUpperCase()||"U"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-800 text-sm sm:text-base truncate",children:e.name}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:e.email})]}),(0,a.jsxs)("span",{className:"text-gray-500 text-xs sm:text-sm whitespace-nowrap",children:[e._count?.orders||0," orders"]})]},e.id))}):a.jsx("p",{className:"text-gray-500 text-center py-4 text-sm",children:"No customers yet"})]})]})]}),"orders"===l&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:(0,a.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:["Orders (",s_.length,")"]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[a.jsx(F.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search by order ID, customer name or email...",value:eT,onChange:e=>eI(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"})]}),(0,a.jsxs)("select",{value:eE,onChange:e=>eU(e.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[a.jsx("option",{value:"",children:"All Statuses"}),sB.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:s_.length>0?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"block sm:hidden space-y-3",children:s_.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-sm",children:["#",e.orderNumber||e.id.slice(-8).toUpperCase()]}),a.jsx("p",{className:"text-xs text-gray-500",children:e.user?.name||"N/A"}),a.jsx("p",{className:"text-xs text-gray-400",children:e.user?.phone||""})]}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${sZ(e.status)}`,children:e.status.replace("_"," ")})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm mb-2",children:[a.jsx("span",{className:"text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsxs)("span",{className:"font-semibold",children:["₹",e.total]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mb-2",children:[e.items?.length||0," items • ",e.paymentMethod||"N/A"]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2 border-t",children:[a.jsx("button",{onClick:()=>sV(e),className:"flex-1 py-1.5 text-xs text-center bg-gray-50 rounded hover:bg-gray-100",children:"View Details"}),a.jsx("button",{onClick:()=>sq(e),className:"flex-1 py-1.5 text-xs text-center bg-primary-50 text-primary-600 rounded hover:bg-primary-100",children:"Update Status"})]})]},e.id))}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full min-w-[800px]",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"text-left border-b",children:[a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Order ID"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Customer"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Items"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Date"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Total"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Payment"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Status"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Actions"})]})}),a.jsx("tbody",{children:s_.map(e=>(0,a.jsxs)("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"py-3 font-medium text-sm",children:["#",e.orderNumber||e.id.slice(-8).toUpperCase()]}),a.jsx("td",{className:"py-3",children:(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:e.user?.name||"N/A"}),a.jsx("p",{className:"text-xs text-gray-500",children:e.user?.phone||e.user?.email})]})}),(0,a.jsxs)("td",{className:"py-3 text-sm",children:[e.items?.length||0," items"]}),a.jsx("td",{className:"py-3 text-gray-500 text-sm",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsxs)("td",{className:"py-3 font-medium text-sm",children:["₹",e.total]}),a.jsx("td",{className:"py-3",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"PAID"===e.paymentStatus?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:e.paymentMethod||"N/A"})}),a.jsx("td",{className:"py-3",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${sZ(e.status)}`,children:e.status.replace("_"," ")})}),a.jsx("td",{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>sV(e),className:"p-1.5 hover:bg-gray-100 rounded",title:"View Details",children:a.jsx(D.Z,{size:16,className:"text-gray-500"})}),a.jsx("button",{onClick:()=>sq(e),className:"p-1.5 hover:bg-gray-100 rounded",title:"Update Status",children:a.jsx(z.Z,{size:16,className:"text-primary-500"})})]})})]},e.id))})]})})]}):a.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:eT||eE?"No orders match your filters":"No orders yet"})})]}),"customers"===l&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:(0,a.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:["Customers (",ta.length,")"]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-4",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx(F.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:sx,onChange:e=>sp(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:ta.length>0?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"block sm:hidden space-y-3",children:ta.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"font-medium text-primary-600",children:e.name?.charAt(0)?.toUpperCase()||"U"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:e.name||"No name"}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.email}),e.phone&&a.jsx("p",{className:"text-xs text-gray-400",children:e.phone})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-3 pt-3 border-t",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium text-gray-700",children:e._count?.orders||0})," orders",e.wallet?.balance>0&&(0,a.jsxs)("span",{className:"ml-2",children:["• Wallet: ₹",e.wallet.balance]})]}),a.jsx("button",{onClick:()=>tt(e),className:"px-3 py-1 text-xs bg-primary-50 text-primary-600 rounded hover:bg-primary-100",children:"View Details"})]})]},e.id))}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full min-w-[600px]",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"text-left border-b",children:[a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Customer"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Contact"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Joined"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Orders"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Wallet"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Actions"})]})}),a.jsx("tbody",{children:ta.map(e=>(0,a.jsxs)("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"font-medium text-primary-600 text-sm",children:e.name?.charAt(0)?.toUpperCase()||"U"})}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium text-sm",children:e.name||"No name"}),a.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs ${"ADMIN"===e.role?"bg-purple-100 text-purple-700":"SUPER_ADMIN"===e.role?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"}`,children:e.role})]})]})}),a.jsx("td",{className:"py-3",children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[a.jsx(O.Z,{size:12})," ",e.email]}),e.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-400 text-xs mt-0.5",children:[a.jsx(E.Z,{size:10})," ",e.phone]})]})}),a.jsx("td",{className:"py-3 text-gray-500 text-sm",children:new Date(e.createdAt).toLocaleDateString()}),a.jsx("td",{className:"py-3",children:a.jsx("span",{className:"font-medium",children:e._count?.orders||0})}),a.jsx("td",{className:"py-3",children:(0,a.jsxs)("span",{className:`font-medium ${e.wallet?.balance>0?"text-green-600":"text-gray-400"}`,children:["₹",e.wallet?.balance||0]})}),a.jsx("td",{className:"py-3",children:a.jsx("button",{onClick:()=>tt(e),className:"p-1.5 hover:bg-primary-50 rounded text-primary-600",title:"View Details",children:a.jsx(D.Z,{size:16})})})]},e.id))})]})})]}):a.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:sx?"No customers match your search":"No customers yet"})})]}),"products"===l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:["Products (",sR.length,")"]}),(0,a.jsxs)("button",{onClick:sD,className:"btn-primary flex items-center justify-center gap-1 sm:gap-2 text-sm px-3 py-2 sm:px-4",children:[a.jsx(U.Z,{size:16}),a.jsx("span",{children:"Add Product"})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[a.jsx(F.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search products by name or SKU...",value:ev,onChange:e=>ew(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"})]}),(0,a.jsxs)("select",{value:ek,onChange:e=>eC(e.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[a.jsx("option",{value:"",children:"All Categories"}),er.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:sR.length>0?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"block sm:hidden space-y-3",children:sR.map(e=>(0,a.jsxs)("div",{className:`border rounded-lg p-3 ${e.isActive?"":"opacity-60 bg-gray-50"}`,children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:e.images?.[0]?.url?a.jsx("img",{src:e.images[0].url,alt:e.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:a.jsx(m.Z,{size:20})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:e.name}),!e.isActive&&a.jsx("span",{className:"text-[10px] bg-red-100 text-red-600 px-1.5 py-0.5 rounded",children:"Inactive"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:e.category?.name||"N/A"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,a.jsxs)("span",{className:"font-semibold text-sm",children:["₹",e.price]}),(0,a.jsxs)("span",{className:`text-xs ${e.stockCount>0?"text-green-600":"text-red-600"}`,children:["Stock: ",e.stockCount]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.isFeatured&&a.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-600 px-1.5 py-0.5 rounded",children:"Featured"}),e.isBestSeller&&a.jsx("span",{className:"text-[10px] bg-orange-100 text-orange-600 px-1.5 py-0.5 rounded",children:"Bestseller"}),e.isOrganic&&a.jsx("span",{className:"text-[10px] bg-green-100 text-green-600 px-1.5 py-0.5 rounded",children:"Organic"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-3 pt-2 border-t",children:[(0,a.jsxs)("button",{onClick:()=>sF(e),className:"flex-1 py-1.5 text-xs text-center bg-gray-50 rounded hover:bg-gray-100 flex items-center justify-center gap-1",children:[a.jsx(D.Z,{size:12})," View"]}),(0,a.jsxs)("button",{onClick:()=>sz(e),className:"flex-1 py-1.5 text-xs text-center bg-primary-50 text-primary-600 rounded hover:bg-primary-100 flex items-center justify-center gap-1",children:[a.jsx(z.Z,{size:12})," Edit"]}),(0,a.jsxs)("button",{onClick:()=>sO(e),className:"flex-1 py-1.5 text-xs text-center bg-red-50 text-red-600 rounded hover:bg-red-100 flex items-center justify-center gap-1",children:[a.jsx(T.Z,{size:12})," Delete"]})]})]},e.id))}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full min-w-[700px]",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"text-left border-b",children:[a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Product"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Category"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Price"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Stock"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Status"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Tags"}),a.jsx("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Actions"})]})}),a.jsx("tbody",{children:sR.map(e=>(0,a.jsxs)("tr",{className:`border-b last:border-0 ${e.isActive?"":"opacity-60 bg-gray-50"}`,children:[a.jsx("td",{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:e.images?.[0]?.url?a.jsx("img",{src:e.images[0].url,alt:e.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:a.jsx(m.Z,{size:18})})}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium text-sm",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["SKU: ",e.sku||"N/A"]})]})]})}),a.jsx("td",{className:"py-3 text-sm",children:e.category?.name||"N/A"}),a.jsx("td",{className:"py-3",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-sm",children:["₹",e.price]}),e.discount>0&&(0,a.jsxs)("p",{className:"text-xs text-gray-400 line-through",children:["₹",e.originalPrice]})]})}),a.jsx("td",{className:"py-3",children:a.jsx("span",{className:`text-sm font-medium ${e.stockCount>10?"text-green-600":e.stockCount>0?"text-orange-600":"text-red-600"}`,children:e.stockCount})}),a.jsx("td",{className:"py-3",children:a.jsx("button",{onClick:()=>sM(e),className:`px-2 py-1 rounded-full text-xs font-medium ${e.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:e.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"py-3",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.isFeatured&&a.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-600 px-1.5 py-0.5 rounded",children:"Featured"}),e.isBestSeller&&a.jsx("span",{className:"text-[10px] bg-orange-100 text-orange-600 px-1.5 py-0.5 rounded",children:"Bestseller"}),e.isOrganic&&a.jsx("span",{className:"text-[10px] bg-green-100 text-green-600 px-1.5 py-0.5 rounded",children:"Organic"}),e.isNew&&a.jsx("span",{className:"text-[10px] bg-blue-100 text-blue-600 px-1.5 py-0.5 rounded",children:"New"})]})}),a.jsx("td",{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>sF(e),className:"p-1.5 hover:bg-gray-100 rounded",title:"View",children:a.jsx(D.Z,{size:16,className:"text-gray-500"})}),a.jsx("button",{onClick:()=>sz(e),className:"p-1.5 hover:bg-blue-50 rounded",title:"Edit",children:a.jsx(z.Z,{size:16,className:"text-blue-500"})}),a.jsx("button",{onClick:()=>sO(e),className:"p-1.5 hover:bg-red-50 rounded",title:"Delete",children:a.jsx(T.Z,{size:16,className:"text-red-500"})})]})})]},e.id))})]})})]}):(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(m.Z,{size:48,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No products found"}),a.jsx("button",{onClick:sD,className:"mt-4 text-primary-600 text-sm font-medium hover:underline",children:"Add your first product"})]})})]}),"settings"===l&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 capitalize",children:l}),a.jsx("p",{className:"text-gray-500",children:"This section is under development."})]}),"categories"===l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:["Categories (",s1.length,")"]}),(0,a.jsxs)("button",{onClick:sK,className:"btn-primary flex items-center justify-center gap-1 sm:gap-2 text-sm px-3 py-2 sm:px-4",children:[a.jsx(U.Z,{size:16}),a.jsx("span",{children:"Add Category"})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-4",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx(F.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search categories...",value:e0,onChange:e=>e1(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:s1.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s1.map(e=>(0,a.jsxs)("div",{className:`border rounded-lg p-4 ${e.isActive?"":"opacity-60 bg-gray-50"}`,children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 text-2xl",children:e.icon||"\uD83D\uDCE6"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold truncate",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.slug}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:[e._count?.products||0," products"]})]}),a.jsx("button",{onClick:()=>s0(e),className:`px-2 py-1 rounded-full text-xs font-medium ${e.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:e.isActive?"Active":"Inactive"})]}),e.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:e.description}),e.parent&&(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Parent: ",e.parent.name]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-3 pt-3 border-t",children:[(0,a.jsxs)("button",{onClick:()=>sJ(e),className:"flex-1 py-1.5 text-xs text-center bg-primary-50 text-primary-600 rounded hover:bg-primary-100 flex items-center justify-center gap-1",children:[a.jsx(z.Z,{size:12})," Edit"]}),(0,a.jsxs)("button",{onClick:()=>sH(e),className:"flex-1 py-1.5 text-xs text-center bg-red-50 text-red-600 rounded hover:bg-red-100 flex items-center justify-center gap-1",children:[a.jsx(T.Z,{size:12})," Delete"]})]})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(x,{size:48,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No categories found"}),a.jsx("button",{onClick:sK,className:"mt-4 text-primary-600 text-sm font-medium hover:underline",children:"Add your first category"})]})})]}),"coupons"===l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:["Coupons (",ts.length,")"]}),(0,a.jsxs)("button",{onClick:s2,className:"btn-primary flex items-center justify-center gap-1 sm:gap-2 text-sm px-3 py-2 sm:px-4",children:[a.jsx(U.Z,{size:16}),a.jsx("span",{children:"Add Coupon"})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[a.jsx(F.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search coupons...",value:sc,onChange:e=>sd(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm"})]}),(0,a.jsxs)("select",{value:so,onChange:e=>sm(e.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"expired",children:"Expired"}),a.jsx("option",{value:"scheduled",children:"Scheduled"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:ts.length>0?a.jsx("div",{className:"space-y-4",children:ts.map(e=>(0,a.jsxs)("div",{className:`border rounded-lg p-4 ${e.isActive?"":"opacity-60 bg-gray-50"}`,children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(h,{className:"text-white",size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-mono font-bold text-lg",children:e.code}),a.jsx("button",{onClick:()=>s9(e.code),className:"p-1 hover:bg-gray-100 rounded",title:"Copy code",children:a.jsx(I.Z,{size:14,className:"text-gray-400"})})]}),a.jsx("p",{className:"text-sm text-gray-500",children:e.description||"No description"})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${te(e.status)}`,children:e.status})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 pt-4 border-t",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Discount"}),a.jsx("p",{className:"font-semibold",children:"PERCENTAGE"===e.type?`${e.value}%`:"FREE_DELIVERY"===e.type?"Free Delivery":`₹${e.value}`})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Min Order"}),a.jsx("p",{className:"font-semibold",children:e.minOrderAmount?`₹${e.minOrderAmount}`:"None"})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Usage"}),(0,a.jsxs)("p",{className:"font-semibold",children:[e.usedCount,"/",e.usageLimit||"∞"]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Valid Until"}),a.jsx("p",{className:"font-semibold",children:new Date(e.validUntil).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-4 pt-3 border-t",children:[(0,a.jsxs)("button",{onClick:()=>s5(e),className:"flex-1 py-2 text-sm text-center bg-primary-50 text-primary-600 rounded-lg hover:bg-primary-100 flex items-center justify-center gap-1",children:[a.jsx(z.Z,{size:14})," Edit"]}),a.jsx("button",{onClick:()=>s8(e),className:`flex-1 py-2 text-sm text-center rounded-lg flex items-center justify-center gap-1 ${e.isActive?"bg-yellow-50 text-yellow-600 hover:bg-yellow-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:e.isActive?(0,a.jsxs)(a.Fragment,{children:[a.jsx(L,{size:14})," Disable"]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx($.Z,{size:14})," Enable"]})}),(0,a.jsxs)("button",{onClick:()=>s4(e),className:"flex-1 py-2 text-sm text-center bg-red-50 text-red-600 rounded-lg hover:bg-red-100 flex items-center justify-center gap-1",children:[a.jsx(T.Z,{size:14})," Delete"]})]})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(h,{size:48,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No coupons found"}),a.jsx("button",{onClick:s2,className:"mt-4 text-primary-600 text-sm font-medium hover:underline",children:"Create your first coupon"})]})})]}),"analytics"===l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Analytics"}),(0,a.jsxs)("select",{value:sk,onChange:e=>sC(e.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm bg-white",children:[a.jsx("option",{value:"7d",children:"Last 7 Days"}),a.jsx("option",{value:"30d",children:"Last 30 Days"}),a.jsx("option",{value:"90d",children:"Last 90 Days"}),a.jsx("option",{value:"365d",children:"Last Year"})]})]}),sS?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(k.Z,{className:"animate-spin text-primary-600",size:32})}):sv?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Total Revenue"}),(0,a.jsxs)("span",{className:`flex items-center gap-1 text-xs ${ti(sv.summary.revenueGrowth)}`,children:[tn(sv.summary.revenueGrowth),sv.summary.revenueGrowth.toFixed(1),"%"]})]}),a.jsx("p",{className:"text-2xl font-bold",children:tl(sv.summary.totalRevenue)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Total Orders"}),(0,a.jsxs)("span",{className:`flex items-center gap-1 text-xs ${ti(sv.summary.ordersGrowth)}`,children:[tn(sv.summary.ordersGrowth),sv.summary.ordersGrowth.toFixed(1),"%"]})]}),a.jsx("p",{className:"text-2xl font-bold",children:sv.summary.totalOrders})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx("span",{className:"text-sm text-gray-500",children:"Avg Order Value"})}),a.jsx("p",{className:"text-2xl font-bold",children:tl(sv.summary.avgOrderValue)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"New Customers"}),(0,a.jsxs)("span",{className:`flex items-center gap-1 text-xs ${ti(sv.summary.customerGrowth)}`,children:[tn(sv.summary.customerGrowth),sv.summary.customerGrowth.toFixed(1),"%"]})]}),a.jsx("p",{className:"text-2xl font-bold",children:sv.summary.newCustomers})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Over Time"}),a.jsx("div",{className:"h-64 flex items-end gap-1",children:sv.dailyRevenue.slice(-30).map((e,s)=>{let t=Math.max(...sv.dailyRevenue.map(e=>e.revenue)),r=t>0?e.revenue/t*100:0;return(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center group relative",children:[a.jsx("div",{className:"w-full bg-primary-500 rounded-t hover:bg-primary-600 transition-colors cursor-pointer",style:{height:`${Math.max(r,2)}%`}}),(0,a.jsxs)("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10",children:[new Date(e.date).toLocaleDateString(),a.jsx("br",{}),"Revenue: ",tl(e.revenue),a.jsx("br",{}),"Orders: ",e.orders]})]},s)})}),(0,a.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[a.jsx("span",{children:sv.dailyRevenue[0]?.date&&new Date(sv.dailyRevenue[0].date).toLocaleDateString()}),a.jsx("span",{children:sv.dailyRevenue[sv.dailyRevenue.length-1]?.date&&new Date(sv.dailyRevenue[sv.dailyRevenue.length-1].date).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Orders by Status"}),a.jsx("div",{className:"space-y-3",children:sv.ordersByStatus.map(e=>{let s=sv.ordersByStatus.reduce((e,s)=>e+s.count,0),t=s>0?e.count/s*100:0;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${sZ(e.status)}`,children:e.status.replace("_"," ")}),a.jsx("span",{className:"text-gray-600",children:e.count})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:`${t}%`}})})]},e.status)})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Payment Methods"}),a.jsx("div",{className:"space-y-3",children:sv.ordersByPayment.map(e=>{let s=sv.ordersByPayment.reduce((e,s)=>e+s.count,0),t=s>0?e.count/s*100:0;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"font-medium",children:e.method}),(0,a.jsxs)("span",{className:"text-gray-600",children:[e.count," (",t.toFixed(1),"%)"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${t}%`}})})]},e.method)})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top Selling Products"}),sv.topProducts.length>0?a.jsx("div",{className:"space-y-3",children:sv.topProducts.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${0===s?"bg-yellow-100 text-yellow-700":1===s?"bg-gray-100 text-gray-700":2===s?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-500"}`,children:s+1}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[e.quantity," sold"]})]}),a.jsx("span",{className:"font-semibold text-sm text-primary-600",children:tl(e.revenue)})]},e.id))}):a.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No sales data"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Category Performance"}),sv.categoryPerformance.length>0?a.jsx("div",{className:"space-y-3",children:sv.categoryPerformance.slice(0,5).map(e=>{let s=Math.max(...sv.categoryPerformance.map(e=>e.revenue)),t=s>0?e.revenue/s*100:0;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"font-medium",children:e.name}),a.jsx("span",{className:"text-gray-600",children:tl(e.revenue)})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${t}%`}})})]},e.id)})}):a.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No category data"})]})]})]}):(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[a.jsx(j,{size:48,className:"mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-gray-500",children:"No analytics data available"})]})]}),"inventory"===l&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Inventory Alerts"})}),a.jsx(G.Z,{})]}),"service-areas"===l&&a.jsx(Y,{})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>p(!1)}),ei&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold",children:eg?"Edit Product":"Add New Product"}),a.jsx("button",{onClick:()=>en(!1),className:"p-1 hover:bg-gray-100 rounded",children:a.jsx(Z.Z,{size:20})})]}),a.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-140px)]",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Basic Information"})}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),a.jsx("input",{type:"text",value:ex.name,onChange:e=>sU("name",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Enter product name"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug"}),a.jsx("input",{type:"text",value:ex.slug,onChange:e=>sU("slug",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"product-slug"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),(0,a.jsxs)("select",{value:ex.categoryId,onChange:e=>sU("categoryId",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[a.jsx("option",{value:"",children:"Select Category"}),er.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU"}),a.jsx("input",{type:"text",value:ex.sku,onChange:e=>sU("sku",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Auto-generated if empty"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Description"}),a.jsx("input",{type:"text",value:ex.shortDescription,onChange:e=>sU("shortDescription",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Brief product description"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Description"}),a.jsx("textarea",{value:ex.description,onChange:e=>sU("description",e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Detailed product description"})]}),a.jsx("div",{className:"md:col-span-2 mt-4",children:a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Pricing & Stock"})}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (₹) *"}),a.jsx("input",{type:"number",value:ex.price,onChange:e=>sU("price",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0",step:"0.01"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Original Price (₹)"}),a.jsx("input",{type:"number",value:ex.originalPrice,onChange:e=>sU("originalPrice",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0",step:"0.01"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount (%)"}),a.jsx("input",{type:"number",value:ex.discount,onChange:e=>sU("discount",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0",max:"100"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),a.jsx("input",{type:"text",value:ex.unit,onChange:e=>sU("unit",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"e.g., 1 kg, 500g, 1 piece"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Count"}),a.jsx("input",{type:"number",value:ex.stockCount,onChange:e=>sU("stockCount",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Status"}),(0,a.jsxs)("select",{value:ex.stockStatus,onChange:e=>sU("stockStatus",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[a.jsx("option",{value:"IN_STOCK",children:"In Stock"}),a.jsx("option",{value:"LOW_STOCK",children:"Low Stock"}),a.jsx("option",{value:"OUT_OF_STOCK",children:"Out of Stock"})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2 mt-4",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Product Images"}),a.jsx(q,{value:ex.images.map(e=>e.url).filter(e=>e),onChange:e=>{let s=e.map((e,s)=>({url:e,alt:ex.images[s]?.alt||ex.name||"Product image"}));0===s.length&&s.push({url:"",alt:""}),sU("images",s)},maxImages:5,folder:"products"}),(0,a.jsxs)("div",{className:"mt-4 space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Or add image URLs manually:"}),ex.images.map((e,s)=>(0,a.jsxs)("div",{className:"flex gap-2 items-start",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",value:e.url,onChange:e=>sT(s,"url",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Image URL"})}),a.jsx("div",{className:"w-32",children:a.jsx("input",{type:"text",value:e.alt,onChange:e=>sT(s,"alt",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Alt text"})}),ex.images.length>1&&a.jsx("button",{type:"button",onClick:()=>sI(s),className:"p-2 text-red-500 hover:bg-red-50 rounded",children:a.jsx(Z.Z,{size:18})})]},s)),(0,a.jsxs)("button",{type:"button",onClick:()=>{ep(e=>({...e,images:[...e.images,{url:"",alt:""}]}))},className:"text-sm text-primary-600 hover:underline flex items-center gap-1",children:[a.jsx(U.Z,{size:16})," Add another image URL"]})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2 mt-4",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Product Flags"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:ex.isActive,onChange:e=>sU("isActive",e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),a.jsx("span",{className:"text-sm",children:"Active"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:ex.isFeatured,onChange:e=>sU("isFeatured",e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),a.jsx("span",{className:"text-sm",children:"Featured"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:ex.isBestSeller,onChange:e=>sU("isBestSeller",e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),a.jsx("span",{className:"text-sm",children:"Best Seller"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:ex.isOrganic,onChange:e=>sU("isOrganic",e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),a.jsx("span",{className:"text-sm",children:"Organic"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:ex.isNew,onChange:e=>sU("isNew",e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),a.jsx("span",{className:"text-sm",children:"New Arrival"})]})]})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[a.jsx("button",{onClick:()=>en(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm",children:"Cancel"}),(0,a.jsxs)("button",{onClick:sL,disabled:ej,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2 text-sm",children:[ej?a.jsx(k.Z,{size:16,className:"animate-spin"}):a.jsx(M.Z,{size:16}),eg?"Update Product":"Create Product"]})]})]})}),eo&&eu&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Product Details"}),a.jsx("button",{onClick:()=>em(!1),className:"p-1 hover:bg-gray-100 rounded",children:a.jsx(Z.Z,{size:20})})]}),a.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-120px)]",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6",children:[a.jsx("div",{className:"sm:w-48 flex-shrink-0",children:a.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:eu.images?.[0]?.url?a.jsx("img",{src:eu.images[0].url,alt:eu.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:a.jsx(m.Z,{size:48})})})}),(0,a.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-xl font-semibold",children:eu.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["SKU: ",eu.sku||"N/A"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-2xl font-bold text-primary-600",children:["₹",eu.price]}),eu.discount>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"text-gray-400 line-through",children:["₹",eu.originalPrice]}),(0,a.jsxs)("span",{className:"text-green-600 text-sm font-medium",children:[eu.discount,"% OFF"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${eu.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:eu.isActive?"Active":"Inactive"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:eu.category?.name||"Uncategorized"}),(0,a.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${eu.stockCount>0?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:["Stock: ",eu.stockCount]})]}),eu.shortDescription&&a.jsx("p",{className:"text-gray-600 text-sm",children:eu.shortDescription}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[eu.isFeatured&&a.jsx("span",{className:"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded",children:"Featured"}),eu.isBestSeller&&a.jsx("span",{className:"text-xs bg-orange-100 text-orange-600 px-2 py-1 rounded",children:"Bestseller"}),eu.isOrganic&&a.jsx("span",{className:"text-xs bg-green-100 text-green-600 px-2 py-1 rounded",children:"Organic"}),eu.isNew&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded",children:"New"})]}),eu.description&&(0,a.jsxs)("div",{children:[a.jsx("h5",{className:"font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("p",{className:"text-gray-600 text-sm",children:eu.description})]})]})]})}),a.jsx("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:(0,a.jsxs)("button",{onClick:()=>{em(!1),sz(eu)},className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center gap-2 text-sm",children:[a.jsx(z.Z,{size:16})," Edit Product"]})})]})}),ec&&eu&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:a.jsx("div",{className:"bg-white rounded-xl w-full max-w-md",children:(0,a.jsxs)("div",{className:"p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(y.Z,{className:"text-red-600",size:32})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Delete Product?"}),(0,a.jsxs)("p",{className:"text-gray-600 text-sm mb-6",children:['Are you sure you want to delete "',eu.name,'"? This action cannot be undone.']}),(0,a.jsxs)("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>{ed(!1),eh(null)},className:"px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),(0,a.jsxs)("button",{onClick:s$,disabled:ef,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center gap-2 text-sm",children:[ef?a.jsx(k.Z,{size:16,className:"animate-spin"}):a.jsx(T.Z,{size:16}),"Delete"]})]})]})})}),eF&&eA&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Order Details"}),a.jsx("button",{onClick:()=>{eO(!1),eZ(null)},className:"p-1 hover:bg-gray-100 rounded",children:a.jsx(Z.Z,{size:20})})]}),(0,a.jsxs)("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-140px)]",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 mb-6 pb-4 border-b",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Order ID"}),a.jsx("p",{className:"font-mono font-semibold",children:eA.orderNumber||eA.id.slice(-8).toUpperCase()}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:new Date(eA.createdAt).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"})})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start sm:items-end gap-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${sB.find(e=>e.value===eA.status)?.color||"bg-gray-100 text-gray-700"}`,children:sB.find(e=>e.value===eA.status)?.label||eA.status}),(0,a.jsxs)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${"PAID"===eA.paymentStatus?"bg-green-100 text-green-700":"PENDING"===eA.paymentStatus?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:["Payment: ",eA.paymentStatus]})]})]}),(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(u.Z,{size:16})," Customer Information"]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 space-y-1",children:[a.jsx("p",{className:"font-medium",children:eA.user?.name||"Guest"}),a.jsx("p",{className:"text-sm text-gray-600",children:eA.user?.email||"N/A"}),a.jsx("p",{className:"text-sm text-gray-600",children:eA.user?.phone||"N/A"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(g.Z,{size:16})," Delivery Address"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:eA.deliveryAddress?(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[a.jsx("p",{className:"font-medium",children:eA.deliveryAddress.name||eA.deliveryAddress.label}),a.jsx("p",{className:"text-gray-600",children:eA.deliveryAddress.street}),(0,a.jsxs)("p",{className:"text-gray-600",children:[eA.deliveryAddress.city,", ",eA.deliveryAddress.state," - ",eA.deliveryAddress.postalCode]}),eA.deliveryAddress.phone&&(0,a.jsxs)("p",{className:"text-gray-600",children:["Phone: ",eA.deliveryAddress.phone]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"No address provided"})})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(m.Z,{size:16})," Order Items (",eA.items?.length||0,")"]}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 text-left",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-sm font-medium text-gray-600",children:"Product"}),a.jsx("th",{className:"px-3 py-2 text-sm font-medium text-gray-600 text-center",children:"Qty"}),a.jsx("th",{className:"px-3 py-2 text-sm font-medium text-gray-600 text-right",children:"Price"}),a.jsx("th",{className:"px-3 py-2 text-sm font-medium text-gray-600 text-right",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y",children:eA.items?.map((e,s)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-3 py-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[e.product?.images?.[0]?.url?a.jsx("img",{src:e.product.images[0].url,alt:e.product.name,className:"w-10 h-10 rounded object-cover"}):a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded flex items-center justify-center",children:a.jsx(m.Z,{size:16,className:"text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:e.product?.name||e.productName||"Product"}),a.jsx("p",{className:"text-xs text-gray-500",children:e.product?.unit||""})]})]})}),a.jsx("td",{className:"px-3 py-2 text-center",children:e.quantity}),a.jsxs("td",{className:"px-3 py-2 text-right text-sm",children:["₹",e.price]}),a.jsxs("td",{className:"px-3 py-2 text-right font-medium",children:["₹",(e.price*e.quantity).toFixed(2)]})]},s))})]})})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Order Summary"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Subtotal"}),(0,a.jsxs)("span",{children:["₹",eA.subtotal?.toFixed(2)||"0.00"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),(0,a.jsxs)("span",{children:["₹",eA.deliveryFee?.toFixed(2)||"0.00"]})]}),eA.discount>0&&(0,a.jsxs)("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:"Discount"}),(0,a.jsxs)("span",{children:["-₹",eA.discount?.toFixed(2)]})]}),eA.walletUsed>0&&(0,a.jsxs)("div",{className:"flex justify-between text-blue-600",children:[a.jsx("span",{children:"Wallet Used"}),(0,a.jsxs)("span",{children:["-₹",eA.walletUsed?.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between font-semibold text-base pt-2 border-t",children:[a.jsx("span",{children:"Total"}),(0,a.jsxs)("span",{className:"text-primary-600",children:["₹",eA.total?.toFixed(2)||"0.00"]})]})]}),(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",eA.paymentMethod||"N/A"]}),eA.deliverySlot&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[a.jsx("span",{className:"font-medium",children:"Delivery Slot:"})," ",eA.deliverySlot.date," (",eA.deliverySlot.timeSlot,")"]}),eA.notes&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[a.jsx("span",{className:"font-medium",children:"Notes:"})," ",eA.notes]})]})]})]}),a.jsx("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:(0,a.jsxs)("button",{onClick:()=>{eO(!1),sq(eA)},className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center gap-2 text-sm",children:[a.jsx(z.Z,{size:16})," Update Status"]})})]})}),eD&&eA&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Update Order Status"}),a.jsx("button",{onClick:()=>{ez(!1),eZ(null)},className:"p-1 hover:bg-gray-100 rounded",children:a.jsx(Z.Z,{size:20})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Order ID"}),a.jsx("p",{className:"font-mono font-semibold",children:eA.orderNumber||eA.id.slice(-8).toUpperCase()})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Current Status"}),a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${sB.find(e=>e.value===eA.status)?.color||"bg-gray-100 text-gray-700"}`,children:sB.find(e=>e.value===eA.status)?.label||eA.status})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Change Status To"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:sB.map(e=>a.jsx("button",{onClick:()=>sG(e.value),disabled:eL||eA.status===e.value,className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${eA.status===e.value?"ring-2 ring-primary-500 opacity-50 cursor-not-allowed":"hover:scale-105 hover:shadow-md"} ${e.color}`,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[eL&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(k.Z,{size:16,className:"animate-spin"}),"Updating..."]}),a.jsx("button",{onClick:()=>{ez(!1),eZ(null)},disabled:eL,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm disabled:opacity-50",children:"Close"})]})]})}),eM&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-lg max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold",children:eJ?"Edit Category":"Add New Category"}),a.jsx("button",{onClick:()=>eR(!1),className:"p-1 hover:bg-gray-100 rounded",children:a.jsx(Z.Z,{size:20})})]}),(0,a.jsxs)("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-140px)] space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name *"}),a.jsx("input",{type:"text",value:eq.name,onChange:e=>sY("name",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Enter category name"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug"}),a.jsx("input",{type:"text",value:eq.slug,onChange:e=>sY("slug",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"category-slug"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:eq.description,onChange:e=>sY("description",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",rows:3,placeholder:"Category description"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon (emoji)"}),a.jsx("input",{type:"text",value:eq.icon,onChange:e=>sY("icon",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"\uD83C\uDF4E"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),a.jsx("input",{type:"number",value:eq.sortOrder,onChange:e=>sY("sortOrder",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),a.jsx("input",{type:"text",value:eq.image,onChange:e=>sY("image",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"https://..."})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Category"}),(0,a.jsxs)("select",{value:eq.parentId,onChange:e=>sY("parentId",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[a.jsx("option",{value:"",children:"None (Top Level)"}),er.filter(e=>e.id!==eq.id).map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:eq.isActive,onChange:e=>sY("isActive",e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),a.jsx("span",{className:"text-sm",children:"Active"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[a.jsx("button",{onClick:()=>eR(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm",children:"Cancel"}),(0,a.jsxs)("button",{onClick:sX,disabled:eW,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2 text-sm",children:[eW?a.jsx(k.Z,{size:16,className:"animate-spin"}):a.jsx(M.Z,{size:16}),eJ?"Update":"Create"]})]})]})}),e_&&eB&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:a.jsx("div",{className:"bg-white rounded-xl w-full max-w-md",children:(0,a.jsxs)("div",{className:"p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(y.Z,{className:"text-red-600",size:32})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Delete Category?"}),(0,a.jsxs)("p",{className:"text-gray-600 text-sm mb-6",children:['Are you sure you want to delete "',eB.name,'"?',eB._count?.products>0&&(0,a.jsxs)("span",{className:"block mt-2 text-red-600",children:["Warning: This category has ",eB._count.products," products."]})]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>{eV(!1),eK(null)},className:"px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),(0,a.jsxs)("button",{onClick:sQ,disabled:eX,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center gap-2 text-sm",children:[eX?a.jsx(k.Z,{size:16,className:"animate-spin"}):a.jsx(T.Z,{size:16}),"Delete"]})]})]})})}),e4&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-lg max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold",children:st?"Edit Coupon":"Add New Coupon"}),a.jsx("button",{onClick:()=>e3(!1),className:"p-1 hover:bg-gray-100 rounded",children:a.jsx(Z.Z,{size:20})})]}),(0,a.jsxs)("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-140px)] space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coupon Code *"}),a.jsx("input",{type:"text",value:e8.code,onChange:e=>s3("code",e.target.value.toUpperCase()),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm font-mono uppercase",placeholder:"SAVE20"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("input",{type:"text",value:e8.description,onChange:e=>s3("description",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Get 20% off on your order"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Type *"}),(0,a.jsxs)("select",{value:e8.type,onChange:e=>s3("type",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[a.jsx("option",{value:"PERCENTAGE",children:"Percentage"}),a.jsx("option",{value:"FIXED",children:"Fixed Amount"}),a.jsx("option",{value:"FREE_DELIVERY",children:"Free Delivery"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Value ","PERCENTAGE"===e8.type?"(%)":"FIXED"===e8.type?"(₹)":""]}),a.jsx("input",{type:"number",value:e8.value,onChange:e=>s3("value",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0",max:"PERCENTAGE"===e8.type?100:void 0,disabled:"FREE_DELIVERY"===e8.type})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Order Amount (₹)"}),a.jsx("input",{type:"number",value:e8.minOrderAmount,onChange:e=>s3("minOrderAmount",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0",placeholder:"0 = No minimum"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Discount (₹)"}),a.jsx("input",{type:"number",value:e8.maxDiscount,onChange:e=>s3("maxDiscount",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0",placeholder:"0 = No limit"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usage Limit"}),a.jsx("input",{type:"number",value:e8.usageLimit,onChange:e=>s3("usageLimit",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0",placeholder:"0 = Unlimited"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per User Limit"}),a.jsx("input",{type:"number",value:e8.perUserLimit,onChange:e=>s3("perUserLimit",parseInt(e.target.value)||1),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"1"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid From *"}),a.jsx("input",{type:"date",value:e8.validFrom,onChange:e=>s3("validFrom",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid Until *"}),a.jsx("input",{type:"date",value:e8.validUntil,onChange:e=>s3("validUntil",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm"})]})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e8.isActive,onChange:e=>s3("isActive",e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),a.jsx("span",{className:"text-sm",children:"Active"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[a.jsx("button",{onClick:()=>e3(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm",children:"Cancel"}),(0,a.jsxs)("button",{onClick:s6,disabled:sr,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2 text-sm",children:[sr?a.jsx(k.Z,{size:16,className:"animate-spin"}):a.jsx(M.Z,{size:16}),st?"Update":"Create"]})]})]})}),e6&&se&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:a.jsx("div",{className:"bg-white rounded-xl w-full max-w-md",children:(0,a.jsxs)("div",{className:"p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(y.Z,{className:"text-red-600",size:32})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Delete Coupon?"}),(0,a.jsxs)("p",{className:"text-gray-600 text-sm mb-6",children:['Are you sure you want to delete coupon "',se.code,'"?']}),(0,a.jsxs)("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>{e7(!1),ss(null)},className:"px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),(0,a.jsxs)("button",{onClick:s7,disabled:si,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center gap-2 text-sm",children:[si?a.jsx(k.Z,{size:16,className:"animate-spin"}):a.jsx(T.Z,{size:16}),"Delete"]})]})]})})}),sg&&su&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Customer Details"}),a.jsx("button",{onClick:()=>{sy(!1),sh(null),sb([])},className:"p-1 hover:bg-gray-100 rounded",children:a.jsx(Z.Z,{size:20})})]}),(0,a.jsxs)("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-120px)]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-2xl font-bold text-primary-600",children:su.name?.charAt(0)?.toUpperCase()||"U"})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-xl font-semibold",children:su.name||"No name"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(O.Z,{size:14})," ",su.email]}),su.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(E.Z,{size:14})," ",su.phone]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:su._count?.orders||0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total Orders"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["₹",su.wallet?.balance||0]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Wallet Balance"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-600",children:new Date(su.createdAt).toLocaleDateString("en-IN",{month:"short",year:"numeric"})}),a.jsx("p",{className:"text-xs text-gray-500",children:"Member Since"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h5",{className:"font-semibold mb-3",children:"Recent Orders"}),sf?a.jsx("div",{className:"text-center py-8",children:a.jsx(k.Z,{className:"animate-spin mx-auto text-primary-600",size:24})}):sj.length>0?a.jsx("div",{className:"space-y-2",children:sj.slice(0,10).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-sm",children:["#",e.orderNumber||e.id.slice(-8).toUpperCase()]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[new Date(e.createdAt).toLocaleDateString()," • ",e.items?.length||0," items"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-semibold",children:["₹",e.total]}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${sZ(e.status)}`,children:e.status})]})]},e.id))}):a.jsx("p",{className:"text-center text-gray-500 py-4 text-sm",children:"No orders yet"})]})]})]})})]})}},85557:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,t(86843).createProxy)(String.raw`C:\Users\basan\Desktop\karim123\KarimTraders\src\app\admin\page.tsx`),{__esModule:r,$$typeof:l}=a,i=a.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[1638,7861,9817,938],()=>t(12681));module.exports=a})();