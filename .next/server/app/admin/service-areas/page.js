(()=>{var e={};e.id=3847,e.ids=[3847],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14021:e=>{"use strict";e.exports=import("next/dist/compiled/@vercel/og/index.node.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},17892:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var t=s(50482),a=s(69108),i=s(62563),n=s.n(i),l=s(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(r,o);let d=["",{children:["admin",{children:["service-areas",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,70883)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\admin\\service-areas\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,61702))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(s.bind(s,22879)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,24117)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,92793)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,48206)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,61702))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],c=["c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\admin\\service-areas\\page.tsx"],m="/admin/service-areas/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/service-areas/page",pathname:"/admin/service-areas",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},94721:(e,r,s)=>{Promise.resolve().then(s.bind(s,37575))},26075:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(69224).Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},31498:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(69224).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},37575:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>y});var t=s(95344),a=s(3729),i=s(42739),n=s(31498),l=s(51838),o=s(66138),d=s(80508),c=s(62312),m=s(26075),x=s(38271),p=s(44669);let u={pincode:"",area:"",city:"",state:"",deliveryTime:"30 mins",deliveryFee:0,minOrderValue:0,isActive:!0};function y(){let[e,r]=(0,a.useState)([]),[s,y]=(0,a.useState)(!0),[h,g]=(0,a.useState)(!1),[b,f]=(0,a.useState)(null),[v,j]=(0,a.useState)(u),[N,w]=(0,a.useState)(!1),k=async()=>{try{let e=await fetch("/api/service-areas?all=true"),s=await e.json();r(s.serviceAreas||[])}catch(e){p.ZP.error("Failed to fetch service areas")}finally{y(!1)}};(0,a.useEffect)(()=>{k()},[]);let P=e=>{let{name:r,value:s,type:t}=e.target;j(e=>({...e,[r]:"number"===t?parseFloat(s)||0:s}))},A=e=>{let{name:r,checked:s}=e.target;j(e=>({...e,[r]:s}))},S=async e=>{if(e.preventDefault(),!v.pincode||!v.area||!v.city||!v.state){p.ZP.error("Please fill all required fields");return}w(!0);try{let e=await fetch("/api/service-areas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}),r=await e.json();if(!e.ok)throw Error(r.error||"Failed to add service area");p.ZP.success("Service area added successfully"),g(!1),j(u),k()}catch(e){p.ZP.error(e.message)}finally{w(!1)}},Z=async e=>{if(e.preventDefault(),b){w(!0);try{let e=await fetch("/api/service-areas",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b,...v})}),r=await e.json();if(!e.ok)throw Error(r.error||"Failed to update service area");p.ZP.success("Service area updated successfully"),f(null),j(u),k()}catch(e){p.ZP.error(e.message)}finally{w(!1)}}},C=async e=>{if(confirm("Are you sure you want to delete this service area?"))try{let r=await fetch(`/api/service-areas?id=${e}`,{method:"DELETE"});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to delete service area")}p.ZP.success("Service area deleted successfully"),k()}catch(e){p.ZP.error(e.message)}},T=e=>{f(e.id),j({pincode:e.pincode,area:e.area,city:e.city,state:e.state,deliveryTime:e.deliveryTime,deliveryFee:e.deliveryFee,minOrderValue:e.minOrderValue,isActive:e.isActive}),g(!1)},F=()=>{f(null),j(u)},D=async e=>{try{if(!(await fetch("/api/service-areas",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,isActive:!e.isActive})})).ok)throw Error("Failed to update status");p.ZP.success(`Service area ${e.isActive?"deactivated":"activated"}`),k()}catch(e){p.ZP.error("Failed to update status")}},_=({onSubmit:e,isEdit:r=!1})=>(0,t.jsxs)("form",{onSubmit:e,className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:r?"Edit Service Area":"Add New Service Area"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Pincode ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"pincode",value:v.pincode,onChange:P,maxLength:6,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"400001",disabled:r})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Area ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"area",value:v.area,onChange:P,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"Fort"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["City ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"city",value:v.city,onChange:P,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"Mumbai"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["State ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"state",value:v.state,onChange:P,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"Maharashtra"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Time"}),(0,t.jsxs)("select",{name:"deliveryTime",value:v.deliveryTime,onChange:P,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",children:[t.jsx("option",{value:"10 mins",children:"10 mins"}),t.jsx("option",{value:"15 mins",children:"15 mins"}),t.jsx("option",{value:"20 mins",children:"20 mins"}),t.jsx("option",{value:"30 mins",children:"30 mins"}),t.jsx("option",{value:"45 mins",children:"45 mins"}),t.jsx("option",{value:"1 hour",children:"1 hour"}),t.jsx("option",{value:"Same Day",children:"Same Day"}),t.jsx("option",{value:"Next Day",children:"Next Day"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Fee (₹)"}),t.jsx("input",{type:"number",name:"deliveryFee",value:v.deliveryFee,onChange:P,min:"0",step:"1",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"0"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Order Value (₹)"}),t.jsx("input",{type:"number",name:"minOrderValue",value:v.minOrderValue,onChange:P,min:"0",step:"1",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"0"})]}),t.jsx("div",{className:"flex items-center",children:(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",name:"isActive",checked:v.isActive,onChange:A,className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[t.jsx("button",{type:"button",onClick:()=>{r?F():(g(!1),j(u))},className:"px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:N,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 flex items-center gap-2",children:N?(0,t.jsxs)(t.Fragment,{children:[t.jsx(i.Z,{size:16,className:"animate-spin"}),r?"Updating...":"Adding..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(n.Z,{size:16}),r?"Update":"Add Service Area"]})})]})]});return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Service Areas"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Manage delivery locations and pincodes"})]}),!h&&!b&&(0,t.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:[t.jsx(l.Z,{size:18}),"Add Service Area"]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6 flex items-start gap-3",children:[t.jsx(o.Z,{className:"text-blue-500 flex-shrink-0 mt-0.5",size:20}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Service Area Configuration"}),t.jsx("p",{className:"text-sm text-blue-600 mt-1",children:'Add pincodes where you want to offer delivery. Users in these areas can place orders. Users outside these areas will see "Coming Soon" message.'})]})]}),h&&t.jsx(_,{onSubmit:S}),b&&t.jsx(_,{onSubmit:Z,isEdit:!0}),s?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(i.Z,{className:"animate-spin text-primary",size:32})}):0===e.length?(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[t.jsx(d.Z,{className:"mx-auto text-gray-300 mb-4",size:48}),t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Service Areas"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"Start by adding your first service area"}),(0,t.jsxs)("button",{onClick:()=>g(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:[t.jsx(l.Z,{size:18}),"Add Service Area"]})]}):t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[t.jsx("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-200",children:[t.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-700",children:"Pincode"}),t.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-700",children:"Area"}),t.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-700",children:"City"}),t.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-700",children:"State"}),t.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-700",children:"Delivery"}),t.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-700",children:"Fee"}),t.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-700",children:"Status"}),t.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-gray-700",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"font-mono font-semibold text-gray-800",children:e.pincode})}),t.jsx("td",{className:"px-6 py-4 text-gray-600",children:e.area}),t.jsx("td",{className:"px-6 py-4 text-gray-600",children:e.city}),t.jsx("td",{className:"px-6 py-4 text-gray-600",children:e.state}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"text-sm text-primary-600 font-medium",children:e.deliveryTime})}),t.jsx("td",{className:"px-6 py-4",children:e.deliveryFee>0?(0,t.jsxs)("span",{className:"text-gray-700",children:["₹",e.deliveryFee]}):t.jsx("span",{className:"text-green-600 font-medium",children:"Free"})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{onClick:()=>D(e),className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium transition-colors ${e.isActive?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.isActive?(0,t.jsxs)(t.Fragment,{children:[t.jsx(c.Z,{size:12}),"Active"]}):"Inactive"})}),t.jsx("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>T(e),className:"p-2 text-gray-500 hover:text-primary hover:bg-primary/10 rounded-lg transition-colors",title:"Edit",children:t.jsx(m.Z,{size:16})}),t.jsx("button",{onClick:()=>C(e.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:t.jsx(x.Z,{size:16})})]})})]},e.id))})]})})})]})}},70883:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let t=(0,s(86843).createProxy)(String.raw`c:\Users\basan\Desktop\karim123\KarimTraders\src\app\admin\service-areas\page.tsx`),{__esModule:a,$$typeof:i}=t,n=t.default}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[1638,7861,4150],()=>s(17892));module.exports=t})();