"use strict";(()=>{var e={};e.id=8100,e.ids=[8100],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},65862:(e,t,i)=>{i.r(t),i.d(t,{headerHooks:()=>m,originalPathname:()=>w,patchFetch:()=>y,requestAsyncStorage:()=>g,routeModule:()=>d,serverHooks:()=>p,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>h});var r={};i.r(r),i.d(r,{GET:()=>u});var a=i(95419),o=i(69108),s=i(99678),n=i(78070),c=i(34490);async function u(){try{let e=await c._.category.findMany({where:{isActive:!0},select:{id:!0,name:!0,slug:!0,image:!0,_count:{select:{products:!0}}},orderBy:{name:"asc"},take:8}),t=await c._.product.findMany({where:{isActive:!0,isFeatured:!0},select:{id:!0,name:!0,slug:!0,images:!0,price:!0,originalPrice:!0,discount:!0,unit:!0,stockCount:!0,rating:!0,reviewCount:!0,isOrganic:!0,category:{select:{name:!0,slug:!0}}},orderBy:{createdAt:"desc"},take:8}),i=await c._.product.findMany({where:{isActive:!0,reviewCount:{gt:0}},select:{id:!0,name:!0,slug:!0,images:!0,price:!0,originalPrice:!0,discount:!0,unit:!0,stockCount:!0,rating:!0,reviewCount:!0,isOrganic:!0,category:{select:{name:!0,slug:!0}}},orderBy:{reviewCount:"desc"},take:8}),r=await c._.product.findMany({where:{isActive:!0,createdAt:{gte:new Date(Date.now()-2592e6)}},select:{id:!0,name:!0,slug:!0,images:!0,price:!0,originalPrice:!0,discount:!0,unit:!0,stockCount:!0,rating:!0,reviewCount:!0,isOrganic:!0,category:{select:{name:!0,slug:!0}}},orderBy:{createdAt:"desc"},take:8}),a=await c._.product.findMany({where:{isActive:!0,discount:{gt:0}},select:{id:!0,name:!0,slug:!0,images:!0,price:!0,originalPrice:!0,discount:!0,unit:!0,stockCount:!0,rating:!0,reviewCount:!0,isOrganic:!0,category:{select:{name:!0,slug:!0}}},orderBy:{discount:"desc"},take:8}),o=e=>({id:e.id,name:e.name,slug:e.slug,images:e.images,price:e.price,originalPrice:e.originalPrice||e.price,discount:e.discount||0,unit:e.unit,stockStatus:e.stockCount>10?"in-stock":e.stockCount>0?"limited":"out-of-stock",rating:e.rating||0,reviewCount:e.reviewCount||0,isOrganic:e.isOrganic||!1,isNewArrival:!1,category:e.category});return n.Z.json({categories:e.map(e=>({id:e.id,name:e.name,slug:e.slug,image:e.image,productCount:e._count.products})),banners:[{id:"1",title:"Fresh Fruits & Vegetables",subtitle:"Get up to 30% off on all fresh produce",image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=1920&q=80",link:"/products?category=fruits",buttonText:"Shop Now"},{id:"2",title:"Organic Products",subtitle:"Pure, Natural & Chemical-Free",image:"https://images.unsplash.com/photo-1488459716781-31db52582fe9?w=1920&q=80",link:"/products?organic=true",buttonText:"Explore"},{id:"3",title:"Premium Dry Fruits",subtitle:"Handpicked quality at best prices",image:"https://images.unsplash.com/photo-1596591868231-05e908752cc1?w=1920&q=80",link:"/products?category=dry-fruits",buttonText:"Buy Now"}],featuredProducts:t.map(o),bestsellerProducts:i.map(o),newArrivals:r.map(e=>({...o(e),isNewArrival:!0})),discountProducts:a.map(o)})}catch(e){return console.error("Homepage data error:",e),n.Z.json({error:"Failed to fetch homepage data"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/homepage/route",pathname:"/api/homepage",filename:"route",bundlePath:"app/api/homepage/route"},resolvedPagePath:"C:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\api\\homepage\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:l,serverHooks:p,headerHooks:m,staticGenerationBailout:h}=d,w="/api/homepage/route";function y(){return(0,s.patchFetch)({serverHooks:p,staticGenerationAsyncStorage:l})}},34490:(e,t,i)=>{i.d(t,{Z:()=>o,_:()=>a});var r=i(53524);let a=globalThis.prisma??new r.PrismaClient({log:["error"]}),o=a}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[1638,6206],()=>i(65862));module.exports=r})();