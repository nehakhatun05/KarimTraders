(()=>{var e={};e.id=2363,e.ids=[2363],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14021:e=>{"use strict";e.exports=import("next/dist/compiled/@vercel/og/index.node.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},91601:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=t(50482),a=t(69108),n=t(62563),i=t.n(n),l=t(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c=["",{children:["reset-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,53136)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\reset-password\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,61702))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(t.bind(t,22879)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,24117)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,92793)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,48206)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,61702))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],d=["c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\reset-password\\page.tsx"],m="/reset-password/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/reset-password/page",pathname:"/reset-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},49133:(e,s,t)=>{Promise.resolve().then(t.bind(t,39998))},1222:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},53148:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},47958:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},73229:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},39998:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var r=t(95344),a=t(3729),n=t(22254),i=t(20783),l=t.n(i),o=t(42739),c=t(73229),d=t(63024),m=t(7060),x=t(47958),p=t(1222),u=t(53148);function h(){let e=(0,n.useRouter)(),s=(0,n.useSearchParams)(),t=s?.get("token")||null,[i,h]=(0,a.useState)(""),[y,f]=(0,a.useState)(""),[g,w]=(0,a.useState)(!1),[j,b]=(0,a.useState)(!1),[v,N]=(0,a.useState)(!1),[k,P]=(0,a.useState)(!0),[Z,q]=(0,a.useState)(""),[_,S]=(0,a.useState)(!1),[T,C]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!t){P(!1),q("Invalid or missing reset token");return}fetch(`/api/auth/verify-reset-token?token=${t}`).then(e=>e.json()).then(e=>{e.valid?S(!0):q(e.error||"Invalid or expired reset token")}).catch(()=>{q("Failed to verify token")}).finally(()=>{P(!1)})},[t]);let E=async s=>{if(s.preventDefault(),q(""),i.length<6){q("Password must be at least 6 characters");return}if(i!==y){q("Passwords do not match");return}N(!0);try{let s=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,password:i})}),r=await s.json();if(!s.ok)throw Error(r.error||"Something went wrong");C(!0),setTimeout(()=>{e.push("/login")},3e3)}catch(e){q(e.message)}finally{N(!1)}};return k?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx(o.Z,{className:"h-12 w-12 animate-spin text-primary mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Verifying reset link..."})]})}):_||T?T?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8 text-center",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"rounded-full bg-green-100 p-3",children:r.jsx(m.Z,{className:"h-12 w-12 text-green-600"})})}),r.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Password Reset!"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Your password has been successfully reset. Redirecting you to login..."}),r.jsx("div",{className:"mt-6",children:(0,r.jsxs)(l(),{href:"/login",className:"inline-flex items-center text-sm font-medium text-primary hover:text-primary/80",children:[r.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Go to Login"]})})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(l(),{href:"/login",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700",children:[r.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Back to Login"]}),r.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Set new password"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Your new password must be at least 6 characters long."})]}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:E,children:[Z&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:Z}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),(0,r.jsxs)("div",{className:"mt-1 relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(x.Z,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"password",name:"password",type:g?"text":"password",required:!0,value:i,onChange:e=>h(e.target.value),className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm",placeholder:"Enter new password"}),r.jsx("button",{type:"button",onClick:()=>w(!g),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:g?r.jsx(p.Z,{className:"h-5 w-5 text-gray-400"}):r.jsx(u.Z,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,r.jsxs)("div",{className:"mt-1 relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(x.Z,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:j?"text":"password",required:!0,value:y,onChange:e=>f(e.target.value),className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm",placeholder:"Confirm new password"}),r.jsx("button",{type:"button",onClick:()=>b(!j),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:j?r.jsx(p.Z,{className:"h-5 w-5 text-gray-400"}):r.jsx(u.Z,{className:"h-5 w-5 text-gray-400"})})]})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:v,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed",children:v?(0,r.jsxs)(r.Fragment,{children:[r.jsx(o.Z,{className:"h-5 w-5 animate-spin mr-2"}),"Resetting..."]}):"Reset Password"})})]})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8 text-center",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"rounded-full bg-red-100 p-3",children:r.jsx(c.Z,{className:"h-12 w-12 text-red-600"})})}),r.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Invalid Reset Link"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:Z||"This password reset link is invalid or has expired."}),(0,r.jsxs)("div",{className:"mt-6 space-y-3",children:[r.jsx(l(),{href:"/forgot-password",className:"inline-flex items-center justify-center w-full py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary/90",children:"Request New Reset Link"}),(0,r.jsxs)(l(),{href:"/login",className:"inline-flex items-center justify-center text-sm font-medium text-gray-500 hover:text-gray-700",children:[r.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Back to Login"]})]})]})})}},53136:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,t(86843).createProxy)(String.raw`c:\Users\basan\Desktop\karim123\KarimTraders\src\app\reset-password\page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[1638,7861,4150],()=>t(91601));module.exports=r})();