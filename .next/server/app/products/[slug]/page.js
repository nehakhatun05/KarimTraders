(()=>{var e={};e.id=9772,e.ids=[9772],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14021:e=>{"use strict";e.exports=import("next/dist/compiled/@vercel/og/index.node.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},5221:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(50482),a=r(69108),i=r(62563),n=r.n(i),o=r(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["products",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,50922)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\products\\[slug]\\page.tsx"]}]},{}]},{loading:[()=>Promise.resolve().then(r.bind(r,88230)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\products\\loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,61702))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(r.bind(r,22879)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,24117)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,92793)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,48206)),"c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,61702))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],d=["c:\\Users\\basan\\Desktop\\karim123\\KarimTraders\\src\\app\\products\\[slug]\\page.tsx"],u="/products/[slug]/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/products/[slug]/page",pathname:"/products/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},75718:(e,t,r)=>{Promise.resolve().then(r.bind(r,78627))},64989:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(69224).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},23485:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(69224).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},78627:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var s=r(95344),a=r(3729),i=r(22254),n=r(20783),o=r.n(n),l=r(41223),c=r.n(l),d=r(97751),u=r(76755),m=r(62312),p=r(91991),g=r(18452),x=r(51838),h=r(12401),f=r(51354);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,r(69224).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var b=r(80508),v=r(16278),j=r(23485),N=r(64989),w=r(43728),S=r(47674),k=r(52726),P=r(44669);function _({product:e,relatedProducts:t,reviews:r}){let n=(0,i.useRouter)(),{data:l}=(0,S.useSession)(),_=l?.user?.id,[R,C]=(0,a.useState)(0),[O,A]=(0,a.useState)(1),[M,E]=(0,a.useState)("description"),[I,T]=(0,a.useState)(""),[D,Z]=(0,a.useState)(null),{addItem:$,syncAddItem:q}=(0,w.xS)(),{addItem:F,removeItem:z,isInWishlist:L}=(0,w.Yl)(),K=L(e.id),H=Math.min(e.stock,10),U=async()=>{let t={id:e.id,name:e.name,slug:e.slug,images:e.images,price:e.price,originalPrice:e.originalPrice,discount:e.discount,unit:e.unit,stockStatus:e.stockStatus,rating:e.rating,reviewCount:e.reviewCount,isOrganic:e.isOrganic,category:e.category};_?await q(t,O,_)?P.ZP.success(`${e.name} added to cart!`):P.ZP.error("Failed to add to cart"):($(t,O),P.ZP.success(`${e.name} added to cart!`))},G=async()=>{await U(),n.push("/checkout")},V=async()=>{let t=window.location.href;if(navigator.share)try{await navigator.share({title:e.name,text:`Check out ${e.name} at KARIM TRADERS`,url:t})}catch(e){}else await navigator.clipboard.writeText(t),P.ZP.success("Link copied to clipboard!")};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b",children:s.jsx("div",{className:"container-custom py-3",children:(0,s.jsxs)("nav",{className:"flex items-center gap-2 text-sm","aria-label":"Breadcrumb",children:[s.jsx(o(),{href:"/",className:"text-gray-500 hover:text-primary-600",children:"Home"}),s.jsx(d.Z,{size:16,className:"text-gray-400","aria-hidden":"true"}),s.jsx(o(),{href:"/products",className:"text-gray-500 hover:text-primary-600",children:"Products"}),s.jsx(d.Z,{size:16,className:"text-gray-400","aria-hidden":"true"}),s.jsx(o(),{href:`/products?category=${e.category.slug}`,className:"text-gray-500 hover:text-primary-600",children:e.category.name}),s.jsx(d.Z,{size:16,className:"text-gray-400","aria-hidden":"true"}),s.jsx("span",{className:"text-gray-800 font-medium","aria-current":"page",children:e.name})]})})}),(0,s.jsxs)("div",{className:"container-custom py-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 p-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"relative aspect-square bg-gray-100 rounded-xl overflow-hidden mb-4",children:[s.jsx(c(),{src:e.images[R]||"/placeholder-product.png",alt:e.name,fill:!0,sizes:"(max-width: 768px) 100vw, 50vw",className:"object-cover",priority:!0}),(0,s.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.discount>0&&(0,s.jsxs)("span",{className:"bg-red-500 text-white text-sm font-bold px-3 py-1 rounded",children:[e.discount,"% OFF"]}),e.isOrganic&&s.jsx("span",{className:"bg-green-500 text-white text-sm font-bold px-3 py-1 rounded",children:"Organic"})]})]}),e.images.length>1&&s.jsx("div",{className:"flex gap-3",role:"listbox","aria-label":"Product images",children:e.images.map((t,r)=>s.jsx("button",{onClick:()=>C(r),className:`relative w-20 h-20 rounded-lg overflow-hidden border-2 transition-colors ${R===r?"border-primary-600":"border-gray-200 hover:border-gray-300"}`,"aria-selected":R===r,"aria-label":`View image ${r+1}`,children:s.jsx(c(),{src:t,alt:`${e.name} ${r+1}`,fill:!0,sizes:"80px",className:"object-cover"})},r))})]}),(0,s.jsxs)("div",{children:[s.jsx(o(),{href:`/products?category=${e.category.slug}`,className:"text-primary-600 text-sm font-medium hover:text-primary-700",children:e.category.name}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mt-2 mb-3",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"flex","aria-label":`Rating: ${e.rating} out of 5 stars`,children:[void 0,void 0,void 0,void 0,void 0].map((t,r)=>s.jsx(u.Z,{size:18,className:r<Math.floor(e.rating)?"text-yellow-400 fill-yellow-400":"text-gray-300","aria-hidden":"true"},r))}),s.jsx("span",{className:"font-medium text-gray-800",children:e.rating.toFixed(1)})]}),(0,s.jsxs)("span",{className:"text-gray-500",children:["(",e.reviewCount," reviews)"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsxs)("span",{className:"text-3xl font-bold text-primary-600",children:["₹",e.price]}),e.discount>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"text-xl text-gray-400 line-through",children:["₹",e.originalPrice]}),(0,s.jsxs)("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded text-sm font-medium",children:["Save ₹",(e.originalPrice-e.price).toFixed(0)]})]})]}),(0,s.jsxs)("p",{className:"text-gray-600 mb-4",children:["Price per ",e.unit]}),(0,s.jsxs)("div",{className:"mb-6",children:["in-stock"===e.stockStatus&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 text-green-600",children:[s.jsx(m.Z,{size:18,"aria-hidden":"true"}),"In Stock (",e.stock," available)"]}),"limited"===e.stockStatus&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 text-orange-600",children:[s.jsx(p.Z,{size:18,"aria-hidden":"true"}),"Limited Stock - Only ",e.stock," left!"]}),"out-of-stock"===e.stockStatus&&s.jsx("span",{className:"inline-flex items-center gap-2 text-red-600",children:"Out of Stock"})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.shortDescription}),"out-of-stock"!==e.stockStatus&&(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center border rounded-lg",children:[s.jsx("button",{onClick:()=>A(Math.max(1,O-1)),className:"p-3 hover:bg-gray-100 transition-colors","aria-label":"Decrease quantity",children:s.jsx(g.Z,{size:18,"aria-hidden":"true"})}),s.jsx("input",{id:"quantity",type:"number",value:O,onChange:e=>{A(Math.max(1,Math.min(H,parseInt(e.target.value)||1)))},className:"w-12 text-center font-medium border-0 focus:ring-0",min:1,max:H}),s.jsx("button",{onClick:()=>A(Math.min(H,O+1)),className:"p-3 hover:bg-gray-100 transition-colors","aria-label":"Increase quantity",children:s.jsx(x.Z,{size:18,"aria-hidden":"true"})})]}),(0,s.jsxs)("span",{className:"text-gray-500 text-sm",children:["Max: ",H," ",e.unit]})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:["out-of-stock"!==e.stockStatus?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{onClick:U,className:"flex-1 btn-primary flex items-center justify-center gap-2",children:[s.jsx(h.Z,{size:20,"aria-hidden":"true"}),"Add to Cart"]}),s.jsx("button",{onClick:G,className:"flex-1 btn-secondary flex items-center justify-center gap-2",children:"Buy Now"})]}):s.jsx("button",{className:"flex-1 bg-gray-300 text-gray-600 py-3 px-6 rounded-lg cursor-not-allowed",disabled:!0,children:"Out of Stock"}),s.jsx("button",{onClick:()=>{K?(z(e.id),P.ZP.success("Removed from wishlist")):(F({id:e.id,name:e.name,slug:e.slug,images:e.images,price:e.price,originalPrice:e.originalPrice,discount:e.discount,unit:e.unit,stockStatus:e.stockStatus,rating:e.rating,reviewCount:e.reviewCount,isOrganic:e.isOrganic,category:e.category}),P.ZP.success("Added to wishlist!"))},className:`p-3 rounded-lg border-2 transition-colors ${K?"bg-red-50 border-red-500 text-red-500":"border-gray-300 text-gray-600 hover:border-gray-400"}`,"aria-label":K?"Remove from wishlist":"Add to wishlist",children:s.jsx(f.Z,{size:20,fill:K?"currentColor":"none","aria-hidden":"true"})}),s.jsx("button",{onClick:V,className:"p-3 rounded-lg border-2 border-gray-300 text-gray-600 hover:border-gray-400","aria-label":"Share product",children:s.jsx(y,{size:20,"aria-hidden":"true"})})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(b.Z,{size:18,className:"text-primary-600","aria-hidden":"true"}),s.jsx("span",{className:"font-medium",children:"Check Delivery"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:I,onChange:e=>T(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Enter pincode",className:"flex-1 input-field",maxLength:6,"aria-label":"Enter pincode for delivery check"}),s.jsx("button",{onClick:()=>{6===I.length?Z("Delivery available in 2-3 days"):P.ZP.error("Please enter a valid 6-digit pincode")},className:"btn-outline",children:"Check"})]}),D&&(0,s.jsxs)("p",{className:"text-green-600 text-sm mt-2 flex items-center gap-2",children:[s.jsx(m.Z,{size:16,"aria-hidden":"true"}),D]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx(v.Z,{className:"mx-auto text-primary-600 mb-2",size:24,"aria-hidden":"true"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Free Delivery"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Above ₹500"})]}),(0,s.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx(j.Z,{className:"mx-auto text-primary-600 mb-2",size:24,"aria-hidden":"true"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Quality Assured"}),s.jsx("p",{className:"text-xs text-gray-500",children:"100% Fresh"})]}),(0,s.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx(N.Z,{className:"mx-auto text-primary-600 mb-2",size:24,"aria-hidden":"true"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Easy Returns"}),s.jsx("p",{className:"text-xs text-gray-500",children:"7 Day Policy"})]})]})]})]}),(0,s.jsxs)("div",{className:"border-t",children:[s.jsx("div",{className:"flex border-b",role:"tablist",children:[{id:"description",label:"Description"},{id:"nutrition",label:"Nutrition Info"},{id:"reviews",label:`Reviews (${r.length})`}].map(e=>s.jsx("button",{onClick:()=>E(e.id),className:`px-6 py-4 font-medium transition-colors ${M===e.id?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-800"}`,role:"tab","aria-selected":M===e.id,"aria-controls":`${e.id}-panel`,children:e.label},e.id))}),(0,s.jsxs)("div",{className:"p-6",children:["description"===M&&s.jsx("div",{id:"description-panel",role:"tabpanel",className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-700 mb-4",children:e.description})}),"nutrition"===M&&s.jsx("div",{id:"nutrition-panel",role:"tabpanel",children:e.nutritionInfo?(0,s.jsxs)("div",{className:"max-w-md",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Nutritional Information (per 100g)"}),s.jsx("div",{className:"space-y-3",children:[{label:"Calories",value:`${e.nutritionInfo.calories} kcal`},{label:"Protein",value:`${e.nutritionInfo.protein}g`},{label:"Carbohydrates",value:`${e.nutritionInfo.carbs}g`},{label:"Fat",value:`${e.nutritionInfo.fat}g`},{label:"Fiber",value:`${e.nutritionInfo.fiber}g`}].map(e=>(0,s.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600",children:e.label}),s.jsx("span",{className:"font-medium text-gray-800",children:e.value})]},e.label))})]}):s.jsx("p",{className:"text-gray-500",children:"Nutritional information not available for this product."})}),"reviews"===M&&s.jsx("div",{id:"reviews-panel",role:"tabpanel",children:r.length>0?s.jsx("div",{className:"space-y-6",children:r.map(e=>s.jsx("article",{className:"border-b pb-6",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-primary-600 font-medium",children:e.userName.charAt(0)})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-gray-800",children:e.userName}),e.isVerifiedPurchase&&s.jsx("span",{className:"badge badge-success text-xs",children:"Verified Purchase"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"flex","aria-label":`Rating: ${e.rating} out of 5`,children:[void 0,void 0,void 0,void 0,void 0].map((t,r)=>s.jsx(u.Z,{size:14,className:r<e.rating?"text-yellow-400 fill-yellow-400":"text-gray-300","aria-hidden":"true"},r))}),s.jsx("time",{className:"text-sm text-gray-500",dateTime:e.createdAt,children:new Date(e.createdAt).toLocaleDateString("en-IN",{dateStyle:"medium"})})]}),e.title&&s.jsx("h4",{className:"font-medium text-gray-800 mb-1",children:e.title}),s.jsx("p",{className:"text-gray-600",children:e.comment})]})]})},e.id))}):(0,s.jsxs)("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500 mb-4",children:"No reviews yet. Be the first to review!"}),s.jsx(o(),{href:`/products/${e.slug}/review`,className:"btn-primary",children:"Write a Review"})]})})]})]})]}),t.length>0&&(0,s.jsxs)("section",{className:"mt-12","aria-labelledby":"related-products-heading",children:[s.jsx("h2",{id:"related-products-heading",className:"section-title mb-6",children:"Related Products"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map(e=>s.jsx(k.Z,{product:e},e.id))})]})]})]})}},34778:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"bailoutToClientRendering",{enumerable:!0,get:function(){return i}});let s=r(4910),a=r(25319);function i(){let e=a.staticGenerationAsyncStorage.getStore();(null==e||!e.forceStatic)&&(null==e?void 0:e.isStaticGeneration)&&(0,s.throwWithNoSSR)()}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},84552:(e,t,r)=>{"use strict";function s(e){}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"clientHookInServerComponentError",{enumerable:!0,get:function(){return s}}),r(46783),r(40002),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},19738:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return p},useSearchParams:function(){return g},usePathname:function(){return x},ServerInsertedHTMLContext:function(){return l.ServerInsertedHTMLContext},useServerInsertedHTML:function(){return l.useServerInsertedHTML},useRouter:function(){return h},useParams:function(){return f},useSelectedLayoutSegments:function(){return y},useSelectedLayoutSegment:function(){return b},redirect:function(){return c.redirect},permanentRedirect:function(){return c.permanentRedirect},RedirectType:function(){return c.RedirectType},notFound:function(){return d.notFound}});let s=r(40002),a=r(78726),i=r(57210),n=r(84552),o=r(83092),l=r(80545),c=r(8010),d=r(1988),u=Symbol("internal for urlsearchparams readonly");function m(){return Error("ReadonlyURLSearchParams cannot be modified")}class p{[Symbol.iterator](){return this[u][Symbol.iterator]()}append(){throw m()}delete(){throw m()}set(){throw m()}sort(){throw m()}constructor(e){this[u]=e,this.entries=e.entries.bind(e),this.forEach=e.forEach.bind(e),this.get=e.get.bind(e),this.getAll=e.getAll.bind(e),this.has=e.has.bind(e),this.keys=e.keys.bind(e),this.values=e.values.bind(e),this.toString=e.toString.bind(e),this.size=e.size}}function g(){(0,n.clientHookInServerComponentError)("useSearchParams");let e=(0,s.useContext)(i.SearchParamsContext),t=(0,s.useMemo)(()=>e?new p(e):null,[e]);{let{bailoutToClientRendering:e}=r(34778);e()}return t}function x(){return(0,n.clientHookInServerComponentError)("usePathname"),(0,s.useContext)(i.PathnameContext)}function h(){(0,n.clientHookInServerComponentError)("useRouter");let e=(0,s.useContext)(a.AppRouterContext);if(null===e)throw Error("invariant expected app router to be mounted");return e}function f(){(0,n.clientHookInServerComponentError)("useParams");let e=(0,s.useContext)(a.GlobalLayoutRouterContext),t=(0,s.useContext)(i.PathParamsContext);return(0,s.useMemo)(()=>(null==e?void 0:e.tree)?function e(t,r){for(let s of(void 0===r&&(r={}),Object.values(t[1]))){let t=s[0],a=Array.isArray(t),i=a?t[1]:t;!i||i.startsWith("__PAGE__")||(a&&("c"===t[2]||"oc"===t[2])?r[t[0]]=t[1].split("/"):a&&(r[t[0]]=t[1]),r=e(s,r))}return r}(e.tree):t,[null==e?void 0:e.tree,t])}function y(e){void 0===e&&(e="children"),(0,n.clientHookInServerComponentError)("useSelectedLayoutSegments");let{tree:t}=(0,s.useContext)(a.LayoutRouterContext);return function e(t,r,s,a){let i;if(void 0===s&&(s=!0),void 0===a&&(a=[]),s)i=t[1][r];else{var n;let e=t[1];i=null!=(n=e.children)?n:Object.values(e)[0]}if(!i)return a;let l=i[0],c=(0,o.getSegmentValue)(l);return!c||c.startsWith("__PAGE__")?a:(a.push(c),e(i,r,!1,a))}(t,e)}function b(e){void 0===e&&(e="children"),(0,n.clientHookInServerComponentError)("useSelectedLayoutSegment");let t=y(e);return 0===t.length?null:t[0]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{notFound:function(){return s},isNotFoundError:function(){return a}});let r="NEXT_NOT_FOUND";function s(){let e=Error(r);throw e.digest=r,e}function a(e){return(null==e?void 0:e.digest)===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},45858:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8010:(e,t,r)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return s},getRedirectError:function(){return l},redirect:function(){return c},permanentRedirect:function(){return d},isRedirectError:function(){return u},getURLFromRedirectError:function(){return m},getRedirectTypeFromError:function(){return p},getRedirectStatusCodeFromError:function(){return g}});let a=r(91877),i=r(25528),n=r(45858),o="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=n.RedirectStatusCode.TemporaryRedirect);let s=Error(o);s.digest=o+";"+t+";"+e+";"+r+";";let i=a.requestAsyncStorage.getStore();return i&&(s.mutableCookies=i.mutableCookies),s}function c(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?n.RedirectStatusCode.SeeOther:n.RedirectStatusCode.TemporaryRedirect)}function d(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?n.RedirectStatusCode.SeeOther:n.RedirectStatusCode.PermanentRedirect)}function u(e){if("string"!=typeof(null==e?void 0:e.digest))return!1;let[t,r,s,a]=e.digest.split(";",4),i=Number(a);return t===o&&("replace"===r||"push"===r)&&"string"==typeof s&&!isNaN(i)&&i in n.RedirectStatusCode}function m(e){return u(e)?e.digest.split(";",3)[2]:null}function p(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function g(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83092:(e,t)=>{"use strict";function r(e){return Array.isArray(e)?e[1]:e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSegmentValue",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},78726:(e,t,r)=>{"use strict";e.exports=r(50482).vendored.contexts.AppRouterContext},57210:(e,t,r)=>{"use strict";e.exports=r(50482).vendored.contexts.HooksClientContext},80545:(e,t,r)=>{"use strict";e.exports=r(50482).vendored.contexts.ServerInsertedHtml},4910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{NEXT_DYNAMIC_NO_SSR_CODE:function(){return r},throwWithNoSSR:function(){return s}});let r="NEXT_DYNAMIC_NO_SSR_CODE";function s(){let e=Error(r);throw e.digest=r,e}},44551:(e,t,r)=>{e.exports=r(19738)},50922:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,generateMetadata:()=>u,generateStaticParams:()=>d});var s=r(25036),a=r(34490);let i=(0,r(86843).createProxy)(String.raw`c:\Users\basan\Desktop\karim123\KarimTraders\src\app\products\[slug]\ProductDetailClient.tsx`),{__esModule:n,$$typeof:o}=i,l=i.default;var c=r(44551);async function d(){try{return(await a._.product.findMany({where:{isActive:!0},select:{slug:!0},take:50})).map(e=>({slug:e.slug}))}catch{return[]}}async function u({params:e}){try{let t=await a._.product.findFirst({where:{slug:e.slug,isActive:!0},include:{category:{select:{name:!0,slug:!0}},images:{select:{url:!0},orderBy:{sortOrder:"asc"},take:1}}});if(!t)return{title:"Product Not Found | KARIM TRADERS",description:"The product you are looking for does not exist."};let r=`${t.name} - Buy Online | KARIM TRADERS`,s=t.description?.slice(0,160)||`Buy ${t.name} online at KARIM TRADERS. Fresh quality ${t.category?.name||"groceries"} at best prices with fast delivery.`,i=t.images?.[0]?.url,n=i?[{url:i,alt:t.name,width:800,height:800}]:[];return{title:r,description:s,keywords:[t.name,t.category?.name||"groceries","buy online","fresh","KARIM TRADERS",...t.isOrganic?["organic"]:[]].join(", "),openGraph:{title:r,description:s,type:"website",url:`http://localhost:3000/products/${t.slug}`,images:n,siteName:"KARIM TRADERS"},twitter:{card:"summary_large_image",title:r,description:s,images:i?[i]:[]},alternates:{canonical:`http://localhost:3000/products/${t.slug}`}}}catch{return{title:"Product | KARIM TRADERS",description:"Shop fresh groceries online at KARIM TRADERS."}}}async function m({params:e}){let t=null,r=[];try{(t=await a._.product.findFirst({where:{slug:e.slug,isActive:!0},include:{category:{select:{id:!0,name:!0,slug:!0}},images:{orderBy:{sortOrder:"asc"}},nutrition:!0,reviews:{where:{isVerified:!0},include:{user:{select:{name:!0,image:!0}}},orderBy:{createdAt:"desc"},take:10}}}))&&(r=await a._.product.findMany({where:{categoryId:t.categoryId,isActive:!0,id:{not:t.id}},include:{images:{where:{isPrimary:!0},take:1},category:{select:{name:!0,slug:!0}}},take:4}))}catch(e){console.error("Error fetching product:",e)}t||(0,c.notFound)();let i=t.images?.map(e=>e.url)||[],n={id:t.id,name:t.name,slug:t.slug,description:t.description||"",shortDescription:t.shortDescription||"",images:i,price:t.price,originalPrice:t.originalPrice||t.price,discount:t.discount||0,unit:t.unit,stock:t.stockCount,stockStatus:t.stockCount>10?"in-stock":t.stockCount>0?"limited":"out-of-stock",rating:t.rating||0,reviewCount:t.reviewCount||0,isOrganic:t.isOrganic||!1,nutritionInfo:t.nutrition||null,category:t.category},o=r.map(e=>({id:e.id,name:e.name,slug:e.slug,images:e.images?.map(e=>e.url)||[],price:e.price,originalPrice:e.originalPrice||e.price,discount:e.discount||0,unit:e.unit,stockStatus:e.stockCount>10?"in-stock":e.stockCount>0?"limited":"out-of-stock",rating:e.rating||0,reviewCount:e.reviewCount||0,isOrganic:e.isOrganic||!1,category:e.category})),d=t.reviews?.map(e=>({id:e.id,rating:e.rating,title:e.title||"",comment:e.comment||"",userName:e.user?.name||"Anonymous",userImage:e.user?.image,createdAt:e.createdAt.toISOString(),isVerifiedPurchase:e.isVerified||!1}))||[],u={"@context":"https://schema.org","@type":"Product",name:t.name,description:t.description,image:i,sku:t.sku||t.id,brand:{"@type":"Brand",name:"KARIM TRADERS"},offers:{"@type":"Offer",url:`http://localhost:3000/products/${t.slug}`,priceCurrency:"INR",price:t.price,priceValidUntil:new Date(Date.now()+2592e6).toISOString().split("T")[0],availability:t.stockCount>0?"https://schema.org/InStock":"https://schema.org/OutOfStock",seller:{"@type":"Organization",name:"KARIM TRADERS"}},aggregateRating:t.reviewCount>0?{"@type":"AggregateRating",ratingValue:t.rating,reviewCount:t.reviewCount}:void 0};return(0,s.jsxs)(s.Fragment,{children:[s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(u)}}),s.jsx(l,{product:n,relatedProducts:o,reviews:d})]})}},88230:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(25036);function a(){return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b",children:(0,s.jsxs)("div",{className:"container-custom py-4",children:[s.jsx("div",{className:"h-4 w-48 bg-gray-200 rounded animate-pulse mb-4"}),s.jsx("div",{className:"h-8 w-64 bg-gray-200 rounded animate-pulse"})]})}),s.jsx("div",{className:"container-custom py-8",children:(0,s.jsxs)("div",{className:"flex gap-8",children:[s.jsx("div",{className:"hidden lg:block w-64 flex-shrink-0",children:s.jsx("div",{className:"bg-white rounded-xl p-6 space-y-6",children:[1,2,3,4].map(e=>(0,s.jsxs)("div",{children:[s.jsx("div",{className:"h-5 w-24 bg-gray-200 rounded animate-pulse mb-3"}),s.jsx("div",{className:"space-y-2",children:[1,2,3].map(e=>s.jsx("div",{className:"h-4 w-full bg-gray-100 rounded animate-pulse"},e))})]},e))})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("div",{className:"h-5 w-32 bg-gray-200 rounded animate-pulse"}),s.jsx("div",{className:"h-10 w-40 bg-gray-200 rounded animate-pulse"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[1,2,3,4,5,6,7,8].map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",children:[s.jsx("div",{className:"aspect-square bg-gray-200 animate-pulse"}),(0,s.jsxs)("div",{className:"p-4 space-y-2",children:[s.jsx("div",{className:"h-4 w-3/4 bg-gray-200 rounded animate-pulse"}),s.jsx("div",{className:"h-3 w-1/2 bg-gray-100 rounded animate-pulse"}),s.jsx("div",{className:"h-5 w-1/3 bg-gray-200 rounded animate-pulse"}),s.jsx("div",{className:"h-10 w-full bg-gray-100 rounded animate-pulse"})]})]},e))})]})]})})]})}},34490:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i,_:()=>a});var s=r(53524);let a=globalThis.prisma??new s.PrismaClient({log:["error"]}),i=a},46783:(e,t,r)=>{"use strict";function s(e){return e&&e.__esModule?e:{default:e}}r.r(t),r.d(t,{_:()=>s,_interop_require_default:()=>s})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,7861,4150,2726],()=>r(5221));module.exports=s})();