(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{8583:function(e,s,t){Promise.resolve().then(t.bind(t,7448))},7448:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return es}});var a=t(7437),r=t(2265),l=t(1396),i=t.n(l),n=t(2749),c=t(4033),d=t(5119),o=t(4322),m=t(4488),x=t(3505),u=t(5750),p=t(2337),h=t(6142),g=t(2894),y=t(2457),j=t(9409),b=t(5790),v=t(4522),f=t(1298),N=t(6712),w=t(6264),C=t(8004),k=t(7480),S=t(3021),A=t(5883),P=t(2549),Z=t(9670),D=t(9617),F=t(1827),z=t(1295),O=t(2741),E=t(9883),I=t(1138),U=t(6224),L=t(1195),T=t(3008),R=t(6245),_=t(5925),M=t(1541),G=t(8438);function V(e){let{value:s=[],onChange:t,maxImages:l=5,folder:i="products",disabled:n=!1}=e,[c,d]=(0,r.useState)(!1),[o,m]=(0,r.useState)(!1),x=(0,r.useRef)(null),u=(0,r.useCallback)(async e=>{if(!e||0===e.length)return;let a=l-s.length;if(a<=0){_.ZP.error("Maximum ".concat(l," images allowed"));return}let r=Array.from(e).slice(0,a),n=["image/jpeg","image/png","image/webp","image/gif"];for(let e of r){if(!n.includes(e.type)){_.ZP.error("Invalid file type: ".concat(e.name,". Use JPG, PNG, WebP, or GIF."));return}if(e.size>5242880){_.ZP.error("File too large: ".concat(e.name,". Maximum 5MB."));return}}d(!0);let c=[];try{for(let e of r){let s=await p(e),t=await fetch("/api/upload?folder=".concat(i),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:s})});if(!t.ok){let e=await t.json();throw Error(e.error||"Upload failed")}let a=await t.json();c.push(a.url)}t([...s,...c]),_.ZP.success("".concat(c.length," image(s) uploaded"))}catch(e){console.error("Upload error:",e),_.ZP.error(e.message||"Failed to upload images")}finally{d(!1),x.current&&(x.current.value="")}},[s,t,l,i]),p=e=>new Promise((s,t)=>{let a=new FileReader;a.readAsDataURL(e),a.onload=()=>s(a.result),a.onerror=e=>t(e)}),h=(0,r.useCallback)(e=>{e.preventDefault(),m(!1),n||u(e.dataTransfer.files)},[n,u]),g=(0,r.useCallback)(e=>{e.preventDefault(),n||m(!0)},[n]),y=(0,r.useCallback)(e=>{e.preventDefault(),m(!1)},[]),j=e=>{t(s.filter((s,t)=>t!==e))},b=(e,a)=>{let r=[...s],[l]=r.splice(e,1);r.splice(a,0,l),t(r)};return(0,a.jsxs)("div",{className:"space-y-4",children:[s.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"relative group aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[(0,a.jsx)("img",{src:e,alt:"Product image ".concat(t+1),className:"w-full h-full object-cover"}),(0,a.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[t>0&&(0,a.jsx)("button",{type:"button",onClick:()=>b(t,t-1),className:"p-1.5 bg-white rounded-full text-gray-700 hover:bg-gray-100",title:"Move left",children:"←"}),(0,a.jsx)("button",{type:"button",onClick:()=>j(t),className:"p-1.5 bg-red-500 rounded-full text-white hover:bg-red-600",title:"Remove",children:(0,a.jsx)(P.Z,{size:16})}),t<s.length-1&&(0,a.jsx)("button",{type:"button",onClick:()=>b(t,t+1),className:"p-1.5 bg-white rounded-full text-gray-700 hover:bg-gray-100",title:"Move right",children:"→"})]}),0===t&&(0,a.jsx)("span",{className:"absolute top-2 left-2 bg-primary-600 text-white text-xs px-2 py-0.5 rounded",children:"Main"})]},e))}),s.length<l&&(0,a.jsxs)("div",{onDrop:h,onDragOver:g,onDragLeave:y,className:"\n            border-2 border-dashed rounded-lg p-6 text-center transition-colors\n            ".concat(o?"border-primary-500 bg-primary-50":"border-gray-300","\n            ").concat(n?"opacity-50 cursor-not-allowed":"cursor-pointer hover:border-primary-400","\n          "),onClick:()=>{var e;return!n&&!c&&(null===(e=x.current)||void 0===e?void 0:e.click())},children:[(0,a.jsx)("input",{ref:x,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",multiple:!0,onChange:e=>u(e.target.files),className:"hidden",disabled:n||c}),c?(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"w-10 h-10 text-primary-600 animate-spin"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(M.Z,{className:"w-6 h-6 text-gray-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-700",children:"Drop images here or click to upload"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["JPG, PNG, WebP or GIF • Max 5MB each • ",l-s.length," remaining"]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)(G.Z,{size:16}),(0,a.jsx)("span",{children:"Or add image URL directly in the form below"})]})]})}var B=t(3631),J=t(5817),q=t(1981),K=t(2442),W=t(4136);let Y={pincode:"",area:"",city:"",state:"",deliveryTime:"30 mins",deliveryFee:0,minOrderValue:0,isActive:!0};function H(){let[e,s]=(0,r.useState)([]),[t,l]=(0,r.useState)(!0),[i,n]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[o,m]=(0,r.useState)(Y),[x,u]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[y,j]=(0,r.useState)(""),[b,v]=(0,r.useState)(!1),[f,N]=(0,r.useState)(""),[C,k]=(0,r.useState)(!1),S=async()=>{try{let e=await fetch("/api/service-areas?all=true"),t=await e.json();s(t.serviceAreas||[])}catch(e){_.ZP.error("Failed to fetch service areas")}finally{l(!1)}};(0,r.useEffect)(()=>{S()},[]);let A=async e=>{if(6===e.length){g(!0);try{var s,t,a;let r=await fetch("https://api.postalpincode.in/pincode/".concat(e)),l=await r.json();if((null===(s=l[0])||void 0===s?void 0:s.Status)==="Success"&&(null===(a=l[0])||void 0===a?void 0:null===(t=a.PostOffice)||void 0===t?void 0:t.length)>0){let e=l[0].PostOffice[0];m(s=>({...s,area:e.Name||s.area,city:e.District||s.city,state:e.State||s.state})),_.ZP.success("Location details fetched!")}else _.ZP.error("Could not find pincode details")}catch(e){console.error("Pincode lookup failed:",e),_.ZP.error("Failed to lookup pincode")}finally{g(!1)}}},Z=e=>{let{name:s,value:t,type:a}=e.target,r="number"===a?parseFloat(t)||0:t;m(e=>({...e,[s]:r})),"pincode"!==s||6!==t.length||c||A(t)},D=e=>{let{name:s,checked:t}=e.target;m(e=>({...e,[s]:t}))},z=async e=>{if(e.preventDefault(),!o.pincode||!o.area||!o.city||!o.state){_.ZP.error("Please fill all required fields");return}u(!0);try{let e=await fetch("/api/service-areas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to add service area");_.ZP.success("Service area added successfully"),n(!1),m(Y),S()}catch(e){_.ZP.error(e.message)}finally{u(!1)}},O=async e=>{if(e.preventDefault(),c){u(!0);try{let e=await fetch("/api/service-areas",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:c,...o})}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to update service area");_.ZP.success("Service area updated successfully"),d(null),m(Y),S()}catch(e){_.ZP.error(e.message)}finally{u(!1)}}},U=async e=>{if(confirm("Are you sure you want to delete this service area?"))try{let s=await fetch("/api/service-areas?id=".concat(e),{method:"DELETE"});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to delete service area")}_.ZP.success("Service area deleted successfully"),S()}catch(e){_.ZP.error(e.message)}},L=e=>{d(e.id),m({pincode:e.pincode,area:e.area,city:e.city,state:e.state,deliveryTime:e.deliveryTime,deliveryFee:e.deliveryFee,minOrderValue:e.minOrderValue,isActive:e.isActive}),n(!1)},T=()=>{d(null),m(Y)},G=async e=>{try{if(!(await fetch("/api/service-areas",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,isActive:!e.isActive})})).ok)throw Error("Failed to update status");_.ZP.success("Service area ".concat(e.isActive?"deactivated":"activated")),S()}catch(e){_.ZP.error("Failed to update status")}},V=async()=>{let s=f.split(/[\n,\s]+/).map(e=>e.trim()).filter(e=>6===e.length&&/^\d+$/.test(e));if(0===s.length){_.ZP.error("No valid pincodes found");return}let t=e.map(e=>e.pincode),a=s.filter(e=>!t.includes(e)),r=s.filter(e=>t.includes(e));if(r.length>0&&_.ZP.error("".concat(r.length," pincode(s) already exist")),0===a.length){_.ZP.error("All pincodes already exist");return}k(!0);let l=0,i=0;for(let e of a)try{var n,c,d;let s=await fetch("https://api.postalpincode.in/pincode/".concat(e)),t=await s.json(),a="",r="",o="";if((null===(n=t[0])||void 0===n?void 0:n.Status)==="Success"&&(null===(d=t[0])||void 0===d?void 0:null===(c=d.PostOffice)||void 0===c?void 0:c.length)>0){let e=t[0].PostOffice[0];a=e.Name||"",r=e.District||"",o=e.State||""}(await fetch("/api/service-areas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pincode:e,area:a||"Unknown",city:r||"Unknown",state:o||"Unknown",deliveryTime:"30 mins",deliveryFee:0,minOrderValue:0,isActive:!0})})).ok?l++:i++}catch(e){i++}k(!1),N(""),v(!1),S(),l>0&&_.ZP.success("".concat(l," service area(s) added successfully")),i>0&&_.ZP.error("".concat(i," pincode(s) failed to add"))},B=e.filter(e=>{if(!y)return!0;let s=y.toLowerCase();return e.pincode.includes(s)||e.area.toLowerCase().includes(s)||e.city.toLowerCase().includes(s)||e.state.toLowerCase().includes(s)}),H=e=>{let{onSubmit:s,isEdit:t=!1}=e;return(0,a.jsxs)("form",{onSubmit:s,className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 mb-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:t?"Edit Service Area":"Add New Service Area"}),(0,a.jsx)("button",{type:"button",onClick:()=>{t?T():(n(!1),m(Y))},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)(P.Z,{size:18,className:"text-gray-500"})})]}),!t&&(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:(0,a.jsxs)("p",{className:"text-sm text-green-700",children:["\uD83D\uDCA1 ",(0,a.jsx)("strong",{children:"Tip:"})," Enter a 6-digit pincode and we'll auto-fill the area, city, and state!"]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Pincode ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",name:"pincode",value:o.pincode,onChange:Z,maxLength:6,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"400001",disabled:t,required:!0}),p&&(0,a.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,a.jsx)(w.Z,{size:16,className:"animate-spin text-primary"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Area ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"area",value:o.area,onChange:Z,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"Fort",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["City ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"city",value:o.city,onChange:Z,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"Mumbai",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["State ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"state",value:o.state,onChange:Z,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"Maharashtra",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Time"}),(0,a.jsxs)("select",{name:"deliveryTime",value:o.deliveryTime,onChange:Z,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",children:[(0,a.jsx)("option",{value:"10 mins",children:"10 mins"}),(0,a.jsx)("option",{value:"15 mins",children:"15 mins"}),(0,a.jsx)("option",{value:"20 mins",children:"20 mins"}),(0,a.jsx)("option",{value:"30 mins",children:"30 mins"}),(0,a.jsx)("option",{value:"45 mins",children:"45 mins"}),(0,a.jsx)("option",{value:"1 hour",children:"1 hour"}),(0,a.jsx)("option",{value:"Same Day",children:"Same Day"}),(0,a.jsx)("option",{value:"Next Day",children:"Next Day"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Fee (₹)"}),(0,a.jsx)("input",{type:"number",name:"deliveryFee",value:o.deliveryFee,onChange:Z,min:"0",step:"1",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Order (₹)"}),(0,a.jsx)("input",{type:"number",name:"minOrderValue",value:o.minOrderValue,onChange:Z,min:"0",step:"1",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"0"})]}),(0,a.jsx)("div",{className:"flex items-end pb-2",children:(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",name:"isActive",checked:o.isActive,onChange:D,className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 mt-6 pt-4 border-t border-gray-100",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{t?T():(n(!1),m(Y))},className:"w-full sm:w-auto px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:x||!o.pincode||!o.area||!o.city||!o.state,className:"w-full sm:w-auto px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-medium",children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.Z,{size:18,className:"animate-spin"}),t?"Updating...":"Adding..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(R.Z,{size:18}),t?"Update Service Area":"Add Service Area"]})})]})]})};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Service Areas"}),(0,a.jsxs)("p",{className:"text-gray-500 mt-1 text-sm",children:[e.length," locations • ",e.filter(e=>e.isActive).length," active"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.length>0&&(0,a.jsxs)("button",{onClick:()=>{let s=[["Pincode","Area","City","State","Delivery Time","Delivery Fee","Min Order","Status"],...e.map(e=>[e.pincode,e.area,e.city,e.state,e.deliveryTime,e.deliveryFee,e.minOrderValue,e.isActive?"Active":"Inactive"])].map(e=>e.join(",")).join("\n"),t=new Blob([s],{type:"text/csv"}),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="service-areas.csv",r.click(),window.URL.revokeObjectURL(a),_.ZP.success("Service areas exported!")},className:"flex items-center gap-2 px-3 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",title:"Export CSV",children:[(0,a.jsx)(J.Z,{size:16}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Export"})]}),!i&&!c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-3 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[(0,a.jsx)(M.Z,{size:16}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Bulk Import"})]}),(0,a.jsxs)("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm",children:[(0,a.jsx)(E.Z,{size:18}),"Add Area"]})]})]})]}),e.length>0&&!i&&!c&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(F.Z,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by pincode, area, city or state...",value:y,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"})]})}),b&&(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Bulk Import Pincodes"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Add multiple pincodes at once"})]}),(0,a.jsx)("button",{onClick:()=>{v(!1),N("")},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)(P.Z,{size:18,className:"text-gray-500"})})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:(0,a.jsx)("p",{className:"text-sm text-blue-700",children:"Enter pincodes separated by commas, spaces, or new lines. We'll automatically fetch location details for each pincode."})}),(0,a.jsx)("textarea",{value:f,onChange:e=>N(e.target.value),placeholder:"400001, 400002, 400003 or 400001 400002 400003",className:"w-full h-40 px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary resize-none font-mono text-sm"}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,a.jsx)("button",{onClick:()=>{v(!1),N("")},className:"px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:V,disabled:C||!f.trim(),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 flex items-center gap-2",children:C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.Z,{size:16,className:"animate-spin"}),"Importing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M.Z,{size:16}),"Import Pincodes"]})})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6 flex items-start gap-3",children:[(0,a.jsx)(q.Z,{className:"text-blue-500 flex-shrink-0 mt-0.5",size:20}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-blue-800 font-medium",children:"Service Area Configuration"}),(0,a.jsx)("p",{className:"text-sm text-blue-600 mt-1",children:'Add pincodes where you offer delivery. Users outside these areas will see "Coming Soon" message.'})]})]}),i&&(0,a.jsx)(H,{onSubmit:z}),c&&(0,a.jsx)(H,{onSubmit:O,isEdit:!0}),t?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(w.Z,{className:"animate-spin text-primary",size:32})}):0===e.length?(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[(0,a.jsx)(h.Z,{className:"mx-auto text-gray-300 mb-4",size:48}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Service Areas"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"Start by adding your first service area"}),(0,a.jsxs)("button",{onClick:()=>n(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:[(0,a.jsx)(E.Z,{size:18}),"Add Service Area"]})]}):0===B.length?(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[(0,a.jsx)(F.Z,{className:"mx-auto text-gray-300 mb-4",size:48}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Results Found"}),(0,a.jsxs)("p",{className:"text-gray-500 mb-4",children:['No service areas match "',y,'"']}),(0,a.jsx)("button",{onClick:()=>j(""),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear Search"})]}):(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[y&&(0,a.jsxs)("div",{className:"px-4 py-2 bg-gray-50 border-b border-gray-200 text-sm text-gray-600",children:["Showing ",B.length," of ",e.length," service areas"]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-200",children:[(0,a.jsx)("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-semibold text-gray-600 uppercase",children:"Pincode"}),(0,a.jsx)("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-semibold text-gray-600 uppercase",children:"Area"}),(0,a.jsx)("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-semibold text-gray-600 uppercase hidden sm:table-cell",children:"City"}),(0,a.jsx)("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-semibold text-gray-600 uppercase hidden md:table-cell",children:"Delivery"}),(0,a.jsx)("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-semibold text-gray-600 uppercase hidden lg:table-cell",children:"Fee"}),(0,a.jsx)("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-semibold text-gray-600 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"text-right px-4 sm:px-6 py-3 text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-100",children:B.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("td",{className:"px-4 sm:px-6 py-4",children:(0,a.jsx)("span",{className:"font-mono font-semibold text-gray-800",children:e.pincode})}),(0,a.jsx)("td",{className:"px-4 sm:px-6 py-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-800 font-medium",children:e.area}),(0,a.jsx)("p",{className:"text-xs text-gray-500 sm:hidden",children:e.city})]})}),(0,a.jsx)("td",{className:"px-4 sm:px-6 py-4 text-gray-600 hidden sm:table-cell",children:e.city}),(0,a.jsx)("td",{className:"px-4 sm:px-6 py-4 hidden md:table-cell",children:(0,a.jsx)("span",{className:"text-sm text-primary-600 font-medium",children:e.deliveryTime})}),(0,a.jsx)("td",{className:"px-4 sm:px-6 py-4 hidden lg:table-cell",children:e.deliveryFee>0?(0,a.jsxs)("span",{className:"text-gray-700",children:["₹",e.deliveryFee]}):(0,a.jsx)("span",{className:"text-green-600 font-medium",children:"Free"})}),(0,a.jsx)("td",{className:"px-4 sm:px-6 py-4",children:(0,a.jsx)("button",{onClick:()=>G(e),className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium transition-colors ".concat(e.isActive?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e.isActive?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(K.Z,{size:10}),"Active"]}):"Inactive"})}),(0,a.jsx)("td",{className:"px-4 sm:px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,a.jsx)("button",{onClick:()=>L(e),className:"p-2 text-gray-500 hover:text-primary hover:bg-primary/10 rounded-lg transition-colors",title:"Edit",children:(0,a.jsx)(W.Z,{size:16})}),(0,a.jsx)("button",{onClick:()=>U(e.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:(0,a.jsx)(I.Z,{size:16})})]})})]},e.id))})]})}),(0,a.jsxs)("div",{className:"px-4 sm:px-6 py-3 bg-gray-50 border-t border-gray-200 flex flex-wrap gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{className:"text-gray-800",children:e.filter(e=>0===e.deliveryFee).length})," free delivery"]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{className:"text-gray-800",children:e.filter(e=>e.deliveryFee>0).length})," paid delivery"]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{className:"text-gray-800",children:new Set(e.map(e=>e.city)).size})," cities covered"]})]})]})]})}let X=[{id:"dashboard",icon:d.Z,label:"Dashboard"},{id:"products",icon:o.Z,label:"Products"},{id:"categories",icon:m.Z,label:"Categories"},{id:"orders",icon:x.Z,label:"Orders"},{id:"customers",icon:u.Z,label:"Customers"},{id:"coupons",icon:p.Z,label:"Coupons"},{id:"service-areas",icon:h.Z,label:"Service Areas"},{id:"inventory",icon:g.Z,label:"Inventory Alerts"},{id:"analytics",icon:y.Z,label:"Analytics"},{id:"settings",icon:j.Z,label:"Settings"}],Q={name:"",slug:"",description:"",shortDescription:"",price:0,originalPrice:0,discount:0,unit:"1 kg",sku:"",stockCount:0,stockStatus:"IN_STOCK",categoryId:"",isActive:!0,isFeatured:!1,isBestSeller:!1,isOrganic:!1,isNew:!1,tags:[],images:[{url:"",alt:""}]},$={name:"",slug:"",description:"",icon:"",image:"",parentId:"",sortOrder:0,isActive:!0},ee={code:"",description:"",type:"PERCENTAGE",value:10,minOrderAmount:0,maxDiscount:0,usageLimit:0,perUserLimit:1,validFrom:new Date().toISOString().split("T")[0],validUntil:new Date(Date.now()+2592e6).toISOString().split("T")[0],isActive:!0};function es(){var e,s,t,l,d,x,j,M,G,J,q,K,W,Y,es,et,ea,er,el,ei,en,ec,ed,eo,em,ex,eu,ep,eh,eg;let{data:ey,status:ej}=(0,n.useSession)(),eb=(0,c.useRouter)(),[ev,ef]=(0,r.useState)("dashboard"),[eN,ew]=(0,r.useState)(!1),[eC,ek]=(0,r.useState)(!0),[eS,eA]=(0,r.useState)({totalRevenue:0,totalOrders:0,totalCustomers:0,totalProducts:0}),[eP,eZ]=(0,r.useState)([]),[eD,eF]=(0,r.useState)([]),[ez,eO]=(0,r.useState)([]),[eE,eI]=(0,r.useState)([]),[eU,eL]=(0,r.useState)(!1),[eT,eR]=(0,r.useState)(!1),[e_,eM]=(0,r.useState)(!1),[eG,eV]=(0,r.useState)(Q),[eB,eJ]=(0,r.useState)(null),[eq,eK]=(0,r.useState)(!1),[eW,eY]=(0,r.useState)(!1),[eH,eX]=(0,r.useState)(!1),[eQ,e$]=(0,r.useState)(""),[e0,e1]=(0,r.useState)(""),[e2,e5]=(0,r.useState)([]),[e4,e6]=(0,r.useState)(null),[e3,e7]=(0,r.useState)(!1),[e8,e9]=(0,r.useState)(!1),[se,ss]=(0,r.useState)(""),[st,sa]=(0,r.useState)(""),[sr,sl]=(0,r.useState)(!1),[si,sn]=(0,r.useState)(!1),[sc,sd]=(0,r.useState)(!1),[so,sm]=(0,r.useState)($),[sx,su]=(0,r.useState)(null),[sp,sh]=(0,r.useState)(!1),[sg,sy]=(0,r.useState)(!1),[sj,sb]=(0,r.useState)(!1),[sv,sf]=(0,r.useState)(""),[sN,sw]=(0,r.useState)([]),[sC,sk]=(0,r.useState)(!1),[sS,sA]=(0,r.useState)(!1),[sP,sZ]=(0,r.useState)(ee),[sD,sF]=(0,r.useState)(null),[sz,sO]=(0,r.useState)(!1),[sE,sI]=(0,r.useState)(!1),[sU,sL]=(0,r.useState)(!1),[sT,sR]=(0,r.useState)(""),[s_,sM]=(0,r.useState)(""),[sG,sV]=(0,r.useState)(""),[sB,sJ]=(0,r.useState)(null),[sq,sK]=(0,r.useState)(!1),[sW,sY]=(0,r.useState)([]),[sH,sX]=(0,r.useState)(!1),[sQ,s$]=(0,r.useState)(null),[s0,s1]=(0,r.useState)("30d"),[s2,s5]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if("unauthenticated"===ej){eb.push("/login");return}if("authenticated"===ej){var e,s;if((null==ey?void 0:null===(e=ey.user)||void 0===e?void 0:e.role)!=="ADMIN"&&(null==ey?void 0:null===(s=ey.user)||void 0===s?void 0:s.role)!=="SUPER_ADMIN"){eb.push("/account");return}s4()}},[ej,ey,eb]);let s4=async()=>{try{ek(!0);let[e,s,t,a,r,l,i]=await Promise.all([fetch("/api/admin/dashboard"),fetch("/api/admin/orders?limit=5"),fetch("/api/admin/users?limit=100"),fetch("/api/products?limit=100"),fetch("/api/admin/categories"),fetch("/api/admin/orders?limit=100"),fetch("/api/admin/coupons")]);if(e.ok){let s=await e.json();eA(s)}if(s.ok){let e=await s.json();eZ(e.orders||[])}if(l.ok){let e=await l.json();e5(e.orders||[])}if(t.ok){let e=await t.json();eF(e.users||[])}if(a.ok){let e=await a.json();eO(e.products||[])}if(r.ok){let e=await r.json();eI(e.categories||e||[])}if(i.ok){let e=await i.json();sw(e.coupons||[])}}catch(e){console.error("Error fetching dashboard data:",e)}finally{ek(!1)}},s6=e=>{switch(e){case"PENDING":return"bg-yellow-100 text-yellow-700";case"CONFIRMED":case"PROCESSING":return"bg-blue-100 text-blue-700";case"SHIPPED":return"bg-purple-100 text-purple-700";case"OUT_FOR_DELIVERY":return"bg-orange-100 text-orange-700";case"DELIVERED":return"bg-green-100 text-green-700";case"CANCELLED":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},s3=()=>{eV(Q),eK(!1),eL(!0)},s7=e=>{var s,t,a;eV({id:e.id,name:e.name||"",slug:e.slug||"",description:e.description||"",shortDescription:e.shortDescription||"",price:e.price||0,originalPrice:e.originalPrice||0,discount:e.discount||0,unit:e.unit||"1 kg",sku:e.sku||"",stockCount:e.stockCount||0,stockStatus:e.stockStatus||"IN_STOCK",categoryId:e.categoryId||(null===(s=e.category)||void 0===s?void 0:s.id)||"",isActive:null===(a=e.isActive)||void 0===a||a,isFeatured:e.isFeatured||!1,isBestSeller:e.isBestSeller||!1,isOrganic:e.isOrganic||!1,isNew:e.isNew||!1,tags:e.tags||[],images:(null===(t=e.images)||void 0===t?void 0:t.length)>0?e.images.map(e=>({url:e.url,alt:e.alt||""})):[{url:"",alt:""}]}),eK(!0),eL(!0)},s8=e=>{eJ(e),eM(!0)},s9=e=>{eJ(e),eR(!0)},te=e=>e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),ts=(e,s)=>{eV(t=>{let a={...t,[e]:s};if("name"!==e||eq||(a.slug=te(s)),"price"===e||"originalPrice"===e){let r="price"===e?s:t.price,l="originalPrice"===e?s:t.originalPrice;l>0&&r>0&&l>r&&(a.discount=Math.round((l-r)/l*100))}return a})},tt=(e,s,t)=>{eV(a=>{let r=[...a.images];return r[e]={...r[e],[s]:t},{...a,images:r}})},ta=e=>{eV(s=>({...s,images:s.images.filter((s,t)=>t!==e)}))},tr=async()=>{if(!eG.name||!eG.price||!eG.categoryId){_.ZP.error("Please fill in required fields (Name, Price, Category)");return}eY(!0);try{let e=eq?"/api/products/".concat(eG.slug):"/api/products",s=await fetch(e,{method:eq?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...eG,price:parseFloat(eG.price.toString()),originalPrice:parseFloat(eG.originalPrice.toString())||parseFloat(eG.price.toString()),discount:parseInt(eG.discount.toString())||0,stockCount:parseInt(eG.stockCount.toString())||0,images:eG.images.filter(e=>e.url)})});if(s.ok)_.ZP.success(eq?"Product updated successfully!":"Product created successfully!"),eL(!1),s4();else{let e=await s.json();_.ZP.error(e.error||"Failed to save product")}}catch(e){console.error("Save product error:",e),_.ZP.error("Failed to save product")}finally{eY(!1)}},tl=async()=>{if(eB){eX(!0);try{let e=await fetch("/api/products/".concat(eB.slug),{method:"DELETE"});if(e.ok)_.ZP.success("Product deleted successfully!"),eR(!1),eJ(null),s4();else{let s=await e.json();_.ZP.error(s.error||"Failed to delete product")}}catch(e){console.error("Delete product error:",e),_.ZP.error("Failed to delete product")}finally{eX(!1)}}},ti=async e=>{try{(await fetch("/api/products/".concat(e.slug),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,isActive:!e.isActive})})).ok&&(_.ZP.success("Product ".concat(e.isActive?"deactivated":"activated")),s4())}catch(e){_.ZP.error("Failed to update product status")}},tn=ez.filter(e=>{var s,t,a;let r=(null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(eQ.toLowerCase()))||(null===(t=e.sku)||void 0===t?void 0:t.toLowerCase().includes(eQ.toLowerCase())),l=!e0||e.categoryId===e0||(null===(a=e.category)||void 0===a?void 0:a.id)===e0;return r&&l}),tc=e2.filter(e=>{var s,t,a,r,l;let i=(null===(s=e.orderNumber)||void 0===s?void 0:s.toLowerCase().includes(st.toLowerCase()))||(null===(a=e.user)||void 0===a?void 0:null===(t=a.name)||void 0===t?void 0:t.toLowerCase().includes(st.toLowerCase()))||(null===(l=e.user)||void 0===l?void 0:null===(r=l.email)||void 0===r?void 0:r.toLowerCase().includes(st.toLowerCase())),n=!se||e.status===se;return i&&n}),td=async e=>{try{let s=await fetch("/api/admin/orders/".concat(e.id));if(s.ok){let e=await s.json();e6(e),e9(!0)}else _.ZP.error("Failed to load order details")}catch(e){_.ZP.error("Failed to load order details")}},to=e=>{e6(e),e7(!0)},tm=async e=>{if(e4){sl(!0);try{let s=await fetch("/api/admin/orders/".concat(e4.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e})});if(s.ok)_.ZP.success("Order status updated to ".concat(e.replace("_"," "))),e7(!1),e6(null),s4();else{let e=await s.json();_.ZP.error(e.error||"Failed to update order status")}}catch(e){_.ZP.error("Failed to update order status")}finally{sl(!1)}}},tx=[{value:"PENDING",label:"Pending",color:"bg-yellow-100 text-yellow-700"},{value:"CONFIRMED",label:"Confirmed",color:"bg-blue-100 text-blue-700"},{value:"PROCESSING",label:"Processing",color:"bg-indigo-100 text-indigo-700"},{value:"PACKED",label:"Packed",color:"bg-purple-100 text-purple-700"},{value:"SHIPPED",label:"Shipped",color:"bg-cyan-100 text-cyan-700"},{value:"OUT_FOR_DELIVERY",label:"Out for Delivery",color:"bg-orange-100 text-orange-700"},{value:"DELIVERED",label:"Delivered",color:"bg-green-100 text-green-700"},{value:"CANCELLED",label:"Cancelled",color:"bg-red-100 text-red-700"}],tu=()=>{sm($),sh(!1),sn(!0)},tp=e=>{var s;sm({id:e.id,name:e.name||"",slug:e.slug||"",description:e.description||"",icon:e.icon||"",image:e.image||"",parentId:e.parentId||"",sortOrder:e.sortOrder||0,isActive:null===(s=e.isActive)||void 0===s||s}),sh(!0),sn(!0)},th=e=>{su(e),sd(!0)},tg=e=>e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),ty=(e,s)=>{sm(t=>{let a={...t,[e]:s};return"name"!==e||sp||(a.slug=tg(s)),a})},tj=async()=>{if(!so.name){_.ZP.error("Category name is required");return}sy(!0);try{let e=sp?"/api/admin/categories/".concat(so.id):"/api/admin/categories",s=await fetch(e,{method:sp?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(so)});if(s.ok)_.ZP.success(sp?"Category updated!":"Category created!"),sn(!1),s4();else{let e=await s.json();_.ZP.error(e.error||"Failed to save category")}}catch(e){_.ZP.error("Failed to save category")}finally{sy(!1)}},tb=async()=>{if(sx){sb(!0);try{let e=await fetch("/api/admin/categories/".concat(sx.id),{method:"DELETE"});if(e.ok)_.ZP.success("Category deleted!"),sd(!1),su(null),s4();else{let s=await e.json();_.ZP.error(s.error||"Failed to delete category")}}catch(e){_.ZP.error("Failed to delete category")}finally{sb(!1)}}},tv=async e=>{try{(await fetch("/api/admin/categories/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!e.isActive})})).ok&&(_.ZP.success("Category ".concat(e.isActive?"deactivated":"activated")),s4())}catch(e){_.ZP.error("Failed to update category")}},tf=eE.filter(e=>{var s;return null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(sv.toLowerCase())}),tN=()=>{sZ(ee),sO(!1),sk(!0)},tw=e=>{var s;sZ({id:e.id,code:e.code||"",description:e.description||"",type:e.type||"PERCENTAGE",value:e.value||0,minOrderAmount:e.minOrderAmount||0,maxDiscount:e.maxDiscount||0,usageLimit:e.usageLimit||0,perUserLimit:e.perUserLimit||1,validFrom:e.validFrom?new Date(e.validFrom).toISOString().split("T")[0]:"",validUntil:e.validUntil?new Date(e.validUntil).toISOString().split("T")[0]:"",isActive:null===(s=e.isActive)||void 0===s||s}),sO(!0),sk(!0)},tC=e=>{sF(e),sA(!0)},tk=(e,s)=>{sZ(t=>({...t,[e]:s}))},tS=async()=>{if(!sP.code||!sP.validFrom||!sP.validUntil){_.ZP.error("Code and validity dates are required");return}sI(!0);try{let e=sz?"/api/admin/coupons/".concat(sP.id):"/api/admin/coupons",s=await fetch(e,{method:sz?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(sP)});if(s.ok)_.ZP.success(sz?"Coupon updated!":"Coupon created!"),sk(!1),s4();else{let e=await s.json();_.ZP.error(e.error||"Failed to save coupon")}}catch(e){_.ZP.error("Failed to save coupon")}finally{sI(!1)}},tA=async()=>{if(sD){sL(!0);try{let e=await fetch("/api/admin/coupons/".concat(sD.id),{method:"DELETE"});if(e.ok)_.ZP.success("Coupon deleted!"),sA(!1),sF(null),s4();else{let s=await e.json();_.ZP.error(s.error||"Failed to delete coupon")}}catch(e){_.ZP.error("Failed to delete coupon")}finally{sL(!1)}}},tP=async e=>{try{(await fetch("/api/admin/coupons/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!e.isActive})})).ok&&(_.ZP.success("Coupon ".concat(e.isActive?"deactivated":"activated")),s4())}catch(e){_.ZP.error("Failed to update coupon")}},tZ=e=>{navigator.clipboard.writeText(e),_.ZP.success("Code copied!")},tD=e=>{switch(e){case"active":return"bg-green-100 text-green-700";case"expired":return"bg-red-100 text-red-700";case"scheduled":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},tF=sN.filter(e=>{var s,t;let a=(null===(s=e.code)||void 0===s?void 0:s.toLowerCase().includes(sT.toLowerCase()))||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(sT.toLowerCase())),r=!s_||e.status===s_;return a&&r}),tz=async e=>{sJ(e),sX(!0),sK(!0);try{let s=await fetch("/api/admin/orders?userId=".concat(e.id,"&limit=20"));if(s.ok){let e=await s.json();sY(e.orders||[])}}catch(e){console.error("Error fetching customer orders:",e)}finally{sX(!1)}},tO=eD.filter(e=>{var s,t,a;let r=sG.toLowerCase();return(null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(r))||(null===(t=e.email)||void 0===t?void 0:t.toLowerCase().includes(r))||(null===(a=e.phone)||void 0===a?void 0:a.includes(sG))}),tE=async e=>{s5(!0);try{let s=await fetch("/api/admin/analytics?period=".concat(e));if(s.ok){let e=await s.json();s$(e)}}catch(e){console.error("Error fetching analytics:",e)}finally{s5(!1)}};(0,r.useEffect)(()=>{"analytics"===ev&&tE(s0)},[ev,s0]);let tI=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(e),tU=e=>e>=0?"text-green-600":"text-red-600",tL=e=>e>=0?(0,a.jsx)(b.Z,{size:14}):(0,a.jsx)(v.Z,{size:14}),tT=[{label:"Total Revenue",value:"₹".concat((eS.totalRevenue||0).toLocaleString()),change:"+12%",trend:"up",icon:f.Z},{label:"Total Orders",value:(eS.totalOrders||0).toString(),change:"+8%",trend:"up",icon:N.Z},{label:"Total Customers",value:(eS.totalCustomers||0).toString(),change:"+15%",trend:"up",icon:u.Z},{label:"Products",value:(eS.totalProducts||0).toString(),change:"+5",trend:"up",icon:o.Z}];return"loading"===ej||eC||"unauthenticated"===ej||(null==ey?void 0:null===(e=ey.user)||void 0===e?void 0:e.role)!=="ADMIN"&&(null==ey?void 0:null===(s=ey.user)||void 0===s?void 0:s.role)!=="SUPER_ADMIN"?(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,a.jsx)(w.Z,{className:"w-8 h-8 animate-spin text-primary-600"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between px-2 sm:px-4 py-2 sm:py-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[(0,a.jsx)("button",{onClick:()=>ew(!eN),className:"lg:hidden p-1.5 sm:p-2 hover:bg-gray-100 rounded-lg",children:(0,a.jsx)(C.Z,{size:22,className:"sm:w-6 sm:h-6"})}),(0,a.jsxs)(i(),{href:"/admin",className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg sm:text-xl",children:"K"})}),(0,a.jsxs)("div",{className:"hidden sm:block",children:[(0,a.jsx)("h1",{className:"font-display font-bold text-lg text-gray-800",children:"KARIM TRADERS"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-4",children:[(0,a.jsx)(i(),{href:"/",className:"p-1.5 sm:p-2 hover:bg-gray-100 rounded-lg",title:"Go to Store",children:(0,a.jsx)(k.Z,{size:20,className:"sm:w-[22px] sm:h-[22px]"})}),(0,a.jsxs)("button",{className:"relative p-1.5 sm:p-2 hover:bg-gray-100 rounded-lg",children:[(0,a.jsx)(S.Z,{size:20,className:"sm:w-[22px] sm:h-[22px]"}),(0,a.jsx)("span",{className:"absolute top-0.5 right-0.5 sm:top-1 sm:right-1 w-2 h-2 bg-red-500 rounded-full"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"font-medium text-primary-600 text-sm sm:text-base",children:(null==ey?void 0:null===(d=ey.user)||void 0===d?void 0:null===(l=d.name)||void 0===l?void 0:null===(t=l.charAt(0))||void 0===t?void 0:t.toUpperCase())||"A"})}),(0,a.jsxs)("div",{className:"hidden md:block",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:(null==ey?void 0:null===(x=ey.user)||void 0===x?void 0:x.name)||"Admin"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Administrator"})]})]}),(0,a.jsx)("button",{onClick:()=>{(0,n.signOut)({callbackUrl:"/login"})},className:"p-1.5 sm:p-2 hover:bg-red-50 rounded-lg text-red-600",title:"Logout",children:(0,a.jsx)(A.Z,{size:18,className:"sm:w-5 sm:h-5"})})]})]})}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("aside",{className:"fixed lg:static inset-y-0 left-0 z-40 w-64 bg-white shadow-lg transform ".concat(eN?"translate-x-0":"-translate-x-full"," lg:translate-x-0 transition-transform duration-200"),children:[(0,a.jsx)("div",{className:"p-4 lg:hidden flex justify-end",children:(0,a.jsx)("button",{onClick:()=>ew(!1),children:(0,a.jsx)(P.Z,{size:24})})}),(0,a.jsx)("nav",{className:"p-4",children:X.map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>{ef(e.id),ew(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg mb-1 transition-colors ".concat(ev===e.id?"bg-primary-50 text-primary-600":"text-gray-600 hover:bg-gray-50"),children:[(0,a.jsx)(s,{size:20}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]},e.id)})})]}),(0,a.jsxs)("main",{className:"flex-1 p-3 sm:p-4 lg:p-8 overflow-x-hidden",children:["dashboard"===ev&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-4 sm:mb-6",children:"Dashboard Overview"}),(0,a.jsx)("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:tT.map((e,s)=>{let t=e.icon;return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(t,{className:"text-primary-600",size:20})}),(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs sm:text-sm ".concat("up"===e.trend?"text-green-600":"text-red-600"),children:["up"===e.trend?(0,a.jsx)(b.Z,{size:14}):(0,a.jsx)(v.Z,{size:14}),e.change]})]}),(0,a.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:e.value}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:e.label})]},s)})}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 mb-6 sm:mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[(0,a.jsx)("h3",{className:"text-base sm:text-lg font-semibold",children:"Recent Orders"}),(0,a.jsx)("button",{onClick:()=>ef("orders"),className:"text-primary-600 text-xs sm:text-sm font-medium",children:"View All"})]}),eP.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"block sm:hidden space-y-3",children:eP.slice(0,5).map(e=>{var s;return(0,a.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-sm",children:["#",e.orderNumber||e.id.slice(-8).toUpperCase()]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:(null===(s=e.user)||void 0===s?void 0:s.name)||"N/A"})]}),(0,a.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium ".concat(s6(e.status)),children:e.status.replace("_"," ")})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsxs)("span",{className:"font-semibold",children:["₹",e.total]})]})]},e.id)})}),(0,a.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full min-w-[600px]",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-left border-b",children:[(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Order ID"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Customer"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Date"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Total"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Status"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:eP.map(e=>{var s;return(0,a.jsxs)("tr",{className:"border-b last:border-0",children:[(0,a.jsx)("td",{className:"py-3 font-medium text-sm",children:e.orderNumber||e.id.slice(-8).toUpperCase()}),(0,a.jsx)("td",{className:"py-3 text-sm",children:(null===(s=e.user)||void 0===s?void 0:s.name)||"N/A"}),(0,a.jsx)("td",{className:"py-3 text-gray-500 text-sm",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsxs)("td",{className:"py-3 font-medium text-sm",children:["₹",e.total]}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(s6(e.status)),children:e.status.replace("_"," ")})}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(Z.Z,{size:16,className:"text-gray-500"})}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(D.Z,{size:16,className:"text-gray-500"})})]})})]},e.id)})})]})})]}):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No orders yet"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Products by Category"}),eE.length>0?(0,a.jsx)("div",{className:"space-y-3 sm:space-y-4",children:eE.slice(0,6).map(e=>{var s,t;return(0,a.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,a.jsx)("span",{className:"text-xl sm:text-2xl",children:e.icon||"\uD83D\uDCE6"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-sm sm:text-base truncate",children:e.name}),(0,a.jsx)("span",{className:"text-gray-500 text-sm ml-2",children:(null===(s=e._count)||void 0===s?void 0:s.products)||0})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 sm:h-2",children:(0,a.jsx)("div",{className:"bg-primary-600 h-1.5 sm:h-2 rounded-full",style:{width:"".concat(Math.min(((null===(t=e._count)||void 0===t?void 0:t.products)||0)/50*100,100),"%")}})})]})]},e.id)})}):(0,a.jsx)("p",{className:"text-gray-500 text-center py-4 text-sm",children:"No categories yet"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Recent Customers"}),eD.length>0?(0,a.jsx)("div",{className:"space-y-3 sm:space-y-4",children:eD.slice(0,5).map(e=>{var s,t,r;return(0,a.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("span",{className:"font-medium text-primary-600 text-sm sm:text-base",children:(null===(t=e.name)||void 0===t?void 0:null===(s=t.charAt(0))||void 0===s?void 0:s.toUpperCase())||"U"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-gray-800 text-sm sm:text-base truncate",children:e.name}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:e.email})]}),(0,a.jsxs)("span",{className:"text-gray-500 text-xs sm:text-sm whitespace-nowrap",children:[(null===(r=e._count)||void 0===r?void 0:r.orders)||0," orders"]})]},e.id)})}):(0,a.jsx)("p",{className:"text-gray-500 text-center py-4 text-sm",children:"No customers yet"})]})]})]}),"orders"===ev&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:(0,a.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:["Orders (",tc.length,")"]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(F.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,a.jsx)("input",{type:"text",placeholder:"Search by order ID, customer name or email...",value:st,onChange:e=>sa(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"})]}),(0,a.jsxs)("select",{value:se,onChange:e=>ss(e.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[(0,a.jsx)("option",{value:"",children:"All Statuses"}),tx.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:tc.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"block sm:hidden space-y-3",children:tc.map(e=>{var s,t,r;return(0,a.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-sm",children:["#",e.orderNumber||e.id.slice(-8).toUpperCase()]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:(null===(s=e.user)||void 0===s?void 0:s.name)||"N/A"}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:(null===(t=e.user)||void 0===t?void 0:t.phone)||""})]}),(0,a.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium ".concat(s6(e.status)),children:e.status.replace("_"," ")})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm mb-2",children:[(0,a.jsx)("span",{className:"text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsxs)("span",{className:"font-semibold",children:["₹",e.total]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mb-2",children:[(null===(r=e.items)||void 0===r?void 0:r.length)||0," items • ",e.paymentMethod||"N/A"]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2 border-t",children:[(0,a.jsx)("button",{onClick:()=>td(e),className:"flex-1 py-1.5 text-xs text-center bg-gray-50 rounded hover:bg-gray-100",children:"View Details"}),(0,a.jsx)("button",{onClick:()=>to(e),className:"flex-1 py-1.5 text-xs text-center bg-primary-50 text-primary-600 rounded hover:bg-primary-100",children:"Update Status"})]})]},e.id)})}),(0,a.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full min-w-[800px]",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-left border-b",children:[(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Order ID"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Customer"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Items"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Date"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Total"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Payment"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Status"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:tc.map(e=>{var s,t,r,l;return(0,a.jsxs)("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"py-3 font-medium text-sm",children:["#",e.orderNumber||e.id.slice(-8).toUpperCase()]}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:(null===(s=e.user)||void 0===s?void 0:s.name)||"N/A"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:(null===(t=e.user)||void 0===t?void 0:t.phone)||(null===(r=e.user)||void 0===r?void 0:r.email)})]})}),(0,a.jsxs)("td",{className:"py-3 text-sm",children:[(null===(l=e.items)||void 0===l?void 0:l.length)||0," items"]}),(0,a.jsx)("td",{className:"py-3 text-gray-500 text-sm",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsxs)("td",{className:"py-3 font-medium text-sm",children:["₹",e.total]}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("PAID"===e.paymentStatus?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"),children:e.paymentMethod||"N/A"})}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(s6(e.status)),children:e.status.replace("_"," ")})}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("button",{onClick:()=>td(e),className:"p-1.5 hover:bg-gray-100 rounded",title:"View Details",children:(0,a.jsx)(Z.Z,{size:16,className:"text-gray-500"})}),(0,a.jsx)("button",{onClick:()=>to(e),className:"p-1.5 hover:bg-gray-100 rounded",title:"Update Status",children:(0,a.jsx)(D.Z,{size:16,className:"text-primary-500"})})]})})]},e.id)})})]})})]}):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm",children:st||se?"No orders match your filters":"No orders yet"})})]}),"customers"===ev&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:(0,a.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:["Customers (",tO.length,")"]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(F.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,a.jsx)("input",{type:"text",placeholder:"Search by name, email, or phone...",value:sG,onChange:e=>sV(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:tO.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"block sm:hidden space-y-3",children:tO.map(e=>{var s,t,r,l;return(0,a.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("span",{className:"font-medium text-primary-600",children:(null===(t=e.name)||void 0===t?void 0:null===(s=t.charAt(0))||void 0===s?void 0:s.toUpperCase())||"U"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-sm truncate",children:e.name||"No name"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.email}),e.phone&&(0,a.jsx)("p",{className:"text-xs text-gray-400",children:e.phone})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-3 pt-3 border-t",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:(null===(r=e._count)||void 0===r?void 0:r.orders)||0})," orders",(null===(l=e.wallet)||void 0===l?void 0:l.balance)>0&&(0,a.jsxs)("span",{className:"ml-2",children:["• Wallet: ₹",e.wallet.balance]})]}),(0,a.jsx)("button",{onClick:()=>tz(e),className:"px-3 py-1 text-xs bg-primary-50 text-primary-600 rounded hover:bg-primary-100",children:"View Details"})]})]},e.id)})}),(0,a.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full min-w-[600px]",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-left border-b",children:[(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Customer"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Contact"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Joined"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Orders"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Wallet"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:tO.map(e=>{var s,t,r,l,i;return(0,a.jsxs)("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"font-medium text-primary-600 text-sm",children:(null===(t=e.name)||void 0===t?void 0:null===(s=t.charAt(0))||void 0===s?void 0:s.toUpperCase())||"U"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.name||"No name"}),(0,a.jsx)("span",{className:"ml-2 px-2 py-0.5 rounded text-xs ".concat("ADMIN"===e.role?"bg-purple-100 text-purple-700":"SUPER_ADMIN"===e.role?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"),children:e.role})]})]})}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,a.jsx)(z.Z,{size:12})," ",e.email]}),e.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-400 text-xs mt-0.5",children:[(0,a.jsx)(O.Z,{size:10})," ",e.phone]})]})}),(0,a.jsx)("td",{className:"py-3 text-gray-500 text-sm",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsx)("span",{className:"font-medium",children:(null===(r=e._count)||void 0===r?void 0:r.orders)||0})}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsxs)("span",{className:"font-medium ".concat((null===(l=e.wallet)||void 0===l?void 0:l.balance)>0?"text-green-600":"text-gray-400"),children:["₹",(null===(i=e.wallet)||void 0===i?void 0:i.balance)||0]})}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsx)("button",{onClick:()=>tz(e),className:"p-1.5 hover:bg-primary-50 rounded text-primary-600",title:"View Details",children:(0,a.jsx)(Z.Z,{size:16})})})]},e.id)})})]})})]}):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm",children:sG?"No customers match your search":"No customers yet"})})]}),"products"===ev&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:["Products (",tn.length,")"]}),(0,a.jsxs)("button",{onClick:s3,className:"btn-primary flex items-center justify-center gap-1 sm:gap-2 text-sm px-3 py-2 sm:px-4",children:[(0,a.jsx)(E.Z,{size:16}),(0,a.jsx)("span",{children:"Add Product"})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(F.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,a.jsx)("input",{type:"text",placeholder:"Search products by name or SKU...",value:eQ,onChange:e=>e$(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"})]}),(0,a.jsxs)("select",{value:e0,onChange:e=>e1(e.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[(0,a.jsx)("option",{value:"",children:"All Categories"}),eE.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:tn.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"block sm:hidden space-y-3",children:tn.map(e=>{var s,t,r;return(0,a.jsxs)("div",{className:"border rounded-lg p-3 ".concat(e.isActive?"":"opacity-60 bg-gray-50"),children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:(null===(t=e.images)||void 0===t?void 0:null===(s=t[0])||void 0===s?void 0:s.url)?(0,a.jsx)("img",{src:e.images[0].url,alt:e.name,className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,a.jsx)(o.Z,{size:20})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsx)("p",{className:"font-medium text-sm truncate",children:e.name}),!e.isActive&&(0,a.jsx)("span",{className:"text-[10px] bg-red-100 text-red-600 px-1.5 py-0.5 rounded",children:"Inactive"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:(null===(r=e.category)||void 0===r?void 0:r.name)||"N/A"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,a.jsxs)("span",{className:"font-semibold text-sm",children:["₹",e.price]}),(0,a.jsxs)("span",{className:"text-xs ".concat(e.stockCount>0?"text-green-600":"text-red-600"),children:["Stock: ",e.stockCount]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.isFeatured&&(0,a.jsx)("span",{className:"text-[10px] bg-purple-100 text-purple-600 px-1.5 py-0.5 rounded",children:"Featured"}),e.isBestSeller&&(0,a.jsx)("span",{className:"text-[10px] bg-orange-100 text-orange-600 px-1.5 py-0.5 rounded",children:"Bestseller"}),e.isOrganic&&(0,a.jsx)("span",{className:"text-[10px] bg-green-100 text-green-600 px-1.5 py-0.5 rounded",children:"Organic"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-3 pt-2 border-t",children:[(0,a.jsxs)("button",{onClick:()=>s8(e),className:"flex-1 py-1.5 text-xs text-center bg-gray-50 rounded hover:bg-gray-100 flex items-center justify-center gap-1",children:[(0,a.jsx)(Z.Z,{size:12})," View"]}),(0,a.jsxs)("button",{onClick:()=>s7(e),className:"flex-1 py-1.5 text-xs text-center bg-primary-50 text-primary-600 rounded hover:bg-primary-100 flex items-center justify-center gap-1",children:[(0,a.jsx)(D.Z,{size:12})," Edit"]}),(0,a.jsxs)("button",{onClick:()=>s9(e),className:"flex-1 py-1.5 text-xs text-center bg-red-50 text-red-600 rounded hover:bg-red-100 flex items-center justify-center gap-1",children:[(0,a.jsx)(I.Z,{size:12})," Delete"]})]})]},e.id)})}),(0,a.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full min-w-[700px]",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-left border-b",children:[(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Product"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Category"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Price"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Stock"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Status"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Tags"}),(0,a.jsx)("th",{className:"pb-3 font-medium text-gray-500 text-sm",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:tn.map(e=>{var s,t,r;return(0,a.jsxs)("tr",{className:"border-b last:border-0 ".concat(e.isActive?"":"opacity-60 bg-gray-50"),children:[(0,a.jsx)("td",{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:(null===(t=e.images)||void 0===t?void 0:null===(s=t[0])||void 0===s?void 0:s.url)?(0,a.jsx)("img",{src:e.images[0].url,alt:e.name,className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,a.jsx)(o.Z,{size:18})})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["SKU: ",e.sku||"N/A"]})]})]})}),(0,a.jsx)("td",{className:"py-3 text-sm",children:(null===(r=e.category)||void 0===r?void 0:r.name)||"N/A"}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-sm",children:["₹",e.price]}),e.discount>0&&(0,a.jsxs)("p",{className:"text-xs text-gray-400 line-through",children:["₹",e.originalPrice]})]})}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsx)("span",{className:"text-sm font-medium ".concat(e.stockCount>10?"text-green-600":e.stockCount>0?"text-orange-600":"text-red-600"),children:e.stockCount})}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsx)("button",{onClick:()=>ti(e),className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.isActive?"Active":"Inactive"})}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.isFeatured&&(0,a.jsx)("span",{className:"text-[10px] bg-purple-100 text-purple-600 px-1.5 py-0.5 rounded",children:"Featured"}),e.isBestSeller&&(0,a.jsx)("span",{className:"text-[10px] bg-orange-100 text-orange-600 px-1.5 py-0.5 rounded",children:"Bestseller"}),e.isOrganic&&(0,a.jsx)("span",{className:"text-[10px] bg-green-100 text-green-600 px-1.5 py-0.5 rounded",children:"Organic"}),e.isNew&&(0,a.jsx)("span",{className:"text-[10px] bg-blue-100 text-blue-600 px-1.5 py-0.5 rounded",children:"New"})]})}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("button",{onClick:()=>s8(e),className:"p-1.5 hover:bg-gray-100 rounded",title:"View",children:(0,a.jsx)(Z.Z,{size:16,className:"text-gray-500"})}),(0,a.jsx)("button",{onClick:()=>s7(e),className:"p-1.5 hover:bg-blue-50 rounded",title:"Edit",children:(0,a.jsx)(D.Z,{size:16,className:"text-blue-500"})}),(0,a.jsx)("button",{onClick:()=>s9(e),className:"p-1.5 hover:bg-red-50 rounded",title:"Delete",children:(0,a.jsx)(I.Z,{size:16,className:"text-red-500"})})]})})]},e.id)})})]})})]}):(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,a.jsx)(o.Z,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{className:"text-sm",children:"No products found"}),(0,a.jsx)("button",{onClick:s3,className:"mt-4 text-primary-600 text-sm font-medium hover:underline",children:"Add your first product"})]})})]}),"settings"===ev&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4 capitalize",children:ev}),(0,a.jsx)("p",{className:"text-gray-500",children:"This section is under development."})]}),"categories"===ev&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:["Categories (",tf.length,")"]}),(0,a.jsxs)("button",{onClick:tu,className:"btn-primary flex items-center justify-center gap-1 sm:gap-2 text-sm px-3 py-2 sm:px-4",children:[(0,a.jsx)(E.Z,{size:16}),(0,a.jsx)("span",{children:"Add Category"})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(F.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,a.jsx)("input",{type:"text",placeholder:"Search categories...",value:sv,onChange:e=>sf(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:tf.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:tf.map(e=>{var s;return(0,a.jsxs)("div",{className:"border rounded-lg p-4 ".concat(e.isActive?"":"opacity-60 bg-gray-50"),children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 text-2xl",children:e.icon||"\uD83D\uDCE6"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold truncate",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.slug}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:[(null===(s=e._count)||void 0===s?void 0:s.products)||0," products"]})]}),(0,a.jsx)("button",{onClick:()=>tv(e),className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.isActive?"Active":"Inactive"})]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:e.description}),e.parent&&(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Parent: ",e.parent.name]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-3 pt-3 border-t",children:[(0,a.jsxs)("button",{onClick:()=>tp(e),className:"flex-1 py-1.5 text-xs text-center bg-primary-50 text-primary-600 rounded hover:bg-primary-100 flex items-center justify-center gap-1",children:[(0,a.jsx)(D.Z,{size:12})," Edit"]}),(0,a.jsxs)("button",{onClick:()=>th(e),className:"flex-1 py-1.5 text-xs text-center bg-red-50 text-red-600 rounded hover:bg-red-100 flex items-center justify-center gap-1",children:[(0,a.jsx)(I.Z,{size:12})," Delete"]})]})]},e.id)})}):(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,a.jsx)(m.Z,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{className:"text-sm",children:"No categories found"}),(0,a.jsx)("button",{onClick:tu,className:"mt-4 text-primary-600 text-sm font-medium hover:underline",children:"Add your first category"})]})})]}),"coupons"===ev&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:["Coupons (",tF.length,")"]}),(0,a.jsxs)("button",{onClick:tN,className:"btn-primary flex items-center justify-center gap-1 sm:gap-2 text-sm px-3 py-2 sm:px-4",children:[(0,a.jsx)(E.Z,{size:16}),(0,a.jsx)("span",{children:"Add Coupon"})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(F.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,a.jsx)("input",{type:"text",placeholder:"Search coupons...",value:sT,onChange:e=>sR(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm"})]}),(0,a.jsxs)("select",{value:s_,onChange:e=>sM(e.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"expired",children:"Expired"}),(0,a.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,a.jsx)("option",{value:"inactive",children:"Inactive"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:tF.length>0?(0,a.jsx)("div",{className:"space-y-4",children:tF.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 ".concat(e.isActive?"":"opacity-60 bg-gray-50"),children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"text-white",size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h3",{className:"font-mono font-bold text-lg",children:e.code}),(0,a.jsx)("button",{onClick:()=>tZ(e.code),className:"p-1 hover:bg-gray-100 rounded",title:"Copy code",children:(0,a.jsx)(U.Z,{size:14,className:"text-gray-400"})})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.description||"No description"})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(tD(e.status)),children:e.status})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 pt-4 border-t",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Discount"}),(0,a.jsx)("p",{className:"font-semibold",children:"PERCENTAGE"===e.type?"".concat(e.value,"%"):"FREE_DELIVERY"===e.type?"Free Delivery":"₹".concat(e.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Min Order"}),(0,a.jsx)("p",{className:"font-semibold",children:e.minOrderAmount?"₹".concat(e.minOrderAmount):"None"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Usage"}),(0,a.jsxs)("p",{className:"font-semibold",children:[e.usedCount,"/",e.usageLimit||"∞"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Valid Until"}),(0,a.jsx)("p",{className:"font-semibold",children:new Date(e.validUntil).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-4 pt-3 border-t",children:[(0,a.jsxs)("button",{onClick:()=>tw(e),className:"flex-1 py-2 text-sm text-center bg-primary-50 text-primary-600 rounded-lg hover:bg-primary-100 flex items-center justify-center gap-1",children:[(0,a.jsx)(D.Z,{size:14})," Edit"]}),(0,a.jsx)("button",{onClick:()=>tP(e),className:"flex-1 py-2 text-sm text-center rounded-lg flex items-center justify-center gap-1 ".concat(e.isActive?"bg-yellow-50 text-yellow-600 hover:bg-yellow-100":"bg-green-50 text-green-600 hover:bg-green-100"),children:e.isActive?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.Z,{size:14})," Disable"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Z,{size:14})," Enable"]})}),(0,a.jsxs)("button",{onClick:()=>tC(e),className:"flex-1 py-2 text-sm text-center bg-red-50 text-red-600 rounded-lg hover:bg-red-100 flex items-center justify-center gap-1",children:[(0,a.jsx)(I.Z,{size:14})," Delete"]})]})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,a.jsx)(p.Z,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{className:"text-sm",children:"No coupons found"}),(0,a.jsx)("button",{onClick:tN,className:"mt-4 text-primary-600 text-sm font-medium hover:underline",children:"Create your first coupon"})]})})]}),"analytics"===ev&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Analytics"}),(0,a.jsxs)("select",{value:s0,onChange:e=>s1(e.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm bg-white",children:[(0,a.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,a.jsx)("option",{value:"30d",children:"Last 30 Days"}),(0,a.jsx)("option",{value:"90d",children:"Last 90 Days"}),(0,a.jsx)("option",{value:"365d",children:"Last Year"})]})]}),s2?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)(w.Z,{className:"animate-spin text-primary-600",size:32})}):sQ?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Total Revenue"}),(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs ".concat(tU(sQ.summary.revenueGrowth)),children:[tL(sQ.summary.revenueGrowth),sQ.summary.revenueGrowth.toFixed(1),"%"]})]}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:tI(sQ.summary.totalRevenue)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Total Orders"}),(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs ".concat(tU(sQ.summary.ordersGrowth)),children:[tL(sQ.summary.ordersGrowth),sQ.summary.ordersGrowth.toFixed(1),"%"]})]}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:sQ.summary.totalOrders})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Avg Order Value"})}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:tI(sQ.summary.avgOrderValue)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"New Customers"}),(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs ".concat(tU(sQ.summary.customerGrowth)),children:[tL(sQ.summary.customerGrowth),sQ.summary.customerGrowth.toFixed(1),"%"]})]}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:sQ.summary.newCustomers})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Over Time"}),(0,a.jsx)("div",{className:"h-64 flex items-end gap-1",children:sQ.dailyRevenue.slice(-30).map((e,s)=>{let t=Math.max(...sQ.dailyRevenue.map(e=>e.revenue)),r=t>0?e.revenue/t*100:0;return(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center group relative",children:[(0,a.jsx)("div",{className:"w-full bg-primary-500 rounded-t hover:bg-primary-600 transition-colors cursor-pointer",style:{height:"".concat(Math.max(r,2),"%")}}),(0,a.jsxs)("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10",children:[new Date(e.date).toLocaleDateString(),(0,a.jsx)("br",{}),"Revenue: ",tI(e.revenue),(0,a.jsx)("br",{}),"Orders: ",e.orders]})]},s)})}),(0,a.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{children:(null===(j=sQ.dailyRevenue[0])||void 0===j?void 0:j.date)&&new Date(sQ.dailyRevenue[0].date).toLocaleDateString()}),(0,a.jsx)("span",{children:(null===(M=sQ.dailyRevenue[sQ.dailyRevenue.length-1])||void 0===M?void 0:M.date)&&new Date(sQ.dailyRevenue[sQ.dailyRevenue.length-1].date).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Orders by Status"}),(0,a.jsx)("div",{className:"space-y-3",children:sQ.ordersByStatus.map(e=>{let s=sQ.ordersByStatus.reduce((e,s)=>e+s.count,0),t=s>0?e.count/s*100:0;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium ".concat(s6(e.status)),children:e.status.replace("_"," ")}),(0,a.jsx)("span",{className:"text-gray-600",children:e.count})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:"".concat(t,"%")}})})]},e.status)})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Payment Methods"}),(0,a.jsx)("div",{className:"space-y-3",children:sQ.ordersByPayment.map(e=>{let s=sQ.ordersByPayment.reduce((e,s)=>e+s.count,0),t=s>0?e.count/s*100:0;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"font-medium",children:e.method}),(0,a.jsxs)("span",{className:"text-gray-600",children:[e.count," (",t.toFixed(1),"%)"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"".concat(t,"%")}})})]},e.method)})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Top Selling Products"}),sQ.topProducts.length>0?(0,a.jsx)("div",{className:"space-y-3",children:sQ.topProducts.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(0===s?"bg-yellow-100 text-yellow-700":1===s?"bg-gray-100 text-gray-700":2===s?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-500"),children:s+1}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-sm truncate",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[e.quantity," sold"]})]}),(0,a.jsx)("span",{className:"font-semibold text-sm text-primary-600",children:tI(e.revenue)})]},e.id))}):(0,a.jsx)("p",{className:"text-gray-500 text-sm text-center py-4",children:"No sales data"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Category Performance"}),sQ.categoryPerformance.length>0?(0,a.jsx)("div",{className:"space-y-3",children:sQ.categoryPerformance.slice(0,5).map(e=>{let s=Math.max(...sQ.categoryPerformance.map(e=>e.revenue)),t=s>0?e.revenue/s*100:0;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"font-medium",children:e.name}),(0,a.jsx)("span",{className:"text-gray-600",children:tI(e.revenue)})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"".concat(t,"%")}})})]},e.id)})}):(0,a.jsx)("p",{className:"text-gray-500 text-sm text-center py-4",children:"No category data"})]})]})]}):(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[(0,a.jsx)(y.Z,{size:48,className:"mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No analytics data available"})]})]}),"inventory"===ev&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Inventory Alerts"})}),(0,a.jsx)(B.Z,{})]}),"service-areas"===ev&&(0,a.jsx)(H,{})]})]}),eN&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>ew(!1)}),eU&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:eq?"Edit Product":"Add New Product"}),(0,a.jsx)("button",{onClick:()=>eL(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(P.Z,{size:20})})]}),(0,a.jsx)("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-140px)]",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Basic Information"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),(0,a.jsx)("input",{type:"text",value:eG.name,onChange:e=>ts("name",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Enter product name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug"}),(0,a.jsx)("input",{type:"text",value:eG.slug,onChange:e=>ts("slug",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"product-slug"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),(0,a.jsxs)("select",{value:eG.categoryId,onChange:e=>ts("categoryId",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[(0,a.jsx)("option",{value:"",children:"Select Category"}),eE.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU"}),(0,a.jsx)("input",{type:"text",value:eG.sku,onChange:e=>ts("sku",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Auto-generated if empty"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Description"}),(0,a.jsx)("input",{type:"text",value:eG.shortDescription,onChange:e=>ts("shortDescription",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Brief product description"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Description"}),(0,a.jsx)("textarea",{value:eG.description,onChange:e=>ts("description",e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Detailed product description"})]}),(0,a.jsx)("div",{className:"md:col-span-2 mt-4",children:(0,a.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Pricing & Stock"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (₹) *"}),(0,a.jsx)("input",{type:"number",value:eG.price,onChange:e=>ts("price",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0",step:"0.01"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Original Price (₹)"}),(0,a.jsx)("input",{type:"number",value:eG.originalPrice,onChange:e=>ts("originalPrice",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0",step:"0.01"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount (%)"}),(0,a.jsx)("input",{type:"number",value:eG.discount,onChange:e=>ts("discount",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0",max:"100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),(0,a.jsx)("input",{type:"text",value:eG.unit,onChange:e=>ts("unit",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"e.g., 1 kg, 500g, 1 piece"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Count"}),(0,a.jsx)("input",{type:"number",value:eG.stockCount,onChange:e=>ts("stockCount",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Status"}),(0,a.jsxs)("select",{value:eG.stockStatus,onChange:e=>ts("stockStatus",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[(0,a.jsx)("option",{value:"IN_STOCK",children:"In Stock"}),(0,a.jsx)("option",{value:"LOW_STOCK",children:"Low Stock"}),(0,a.jsx)("option",{value:"OUT_OF_STOCK",children:"Out of Stock"})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2 mt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Product Images"}),(0,a.jsx)(V,{value:eG.images.map(e=>e.url).filter(e=>e),onChange:e=>{let s=e.map((e,s)=>{var t;return{url:e,alt:(null===(t=eG.images[s])||void 0===t?void 0:t.alt)||eG.name||"Product image"}});0===s.length&&s.push({url:"",alt:""}),ts("images",s)},maxImages:5,folder:"products"}),(0,a.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Or add image URLs manually:"}),eG.images.map((e,s)=>(0,a.jsxs)("div",{className:"flex gap-2 items-start",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("input",{type:"text",value:e.url,onChange:e=>tt(s,"url",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Image URL"})}),(0,a.jsx)("div",{className:"w-32",children:(0,a.jsx)("input",{type:"text",value:e.alt,onChange:e=>tt(s,"alt",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Alt text"})}),eG.images.length>1&&(0,a.jsx)("button",{type:"button",onClick:()=>ta(s),className:"p-2 text-red-500 hover:bg-red-50 rounded",children:(0,a.jsx)(P.Z,{size:18})})]},s)),(0,a.jsxs)("button",{type:"button",onClick:()=>{eV(e=>({...e,images:[...e.images,{url:"",alt:""}]}))},className:"text-sm text-primary-600 hover:underline flex items-center gap-1",children:[(0,a.jsx)(E.Z,{size:16})," Add another image URL"]})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2 mt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Product Flags"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:eG.isActive,onChange:e=>ts("isActive",e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),(0,a.jsx)("span",{className:"text-sm",children:"Active"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:eG.isFeatured,onChange:e=>ts("isFeatured",e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),(0,a.jsx)("span",{className:"text-sm",children:"Featured"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:eG.isBestSeller,onChange:e=>ts("isBestSeller",e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),(0,a.jsx)("span",{className:"text-sm",children:"Best Seller"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:eG.isOrganic,onChange:e=>ts("isOrganic",e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),(0,a.jsx)("span",{className:"text-sm",children:"Organic"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:eG.isNew,onChange:e=>ts("isNew",e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),(0,a.jsx)("span",{className:"text-sm",children:"New Arrival"})]})]})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[(0,a.jsx)("button",{onClick:()=>eL(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm",children:"Cancel"}),(0,a.jsxs)("button",{onClick:tr,disabled:eW,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2 text-sm",children:[eW?(0,a.jsx)(w.Z,{size:16,className:"animate-spin"}):(0,a.jsx)(R.Z,{size:16}),eq?"Update Product":"Create Product"]})]})]})}),e_&&eB&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Product Details"}),(0,a.jsx)("button",{onClick:()=>eM(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(P.Z,{size:20})})]}),(0,a.jsx)("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-120px)]",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6",children:[(0,a.jsx)("div",{className:"sm:w-48 flex-shrink-0",children:(0,a.jsx)("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:(null===(J=eB.images)||void 0===J?void 0:null===(G=J[0])||void 0===G?void 0:G.url)?(0,a.jsx)("img",{src:eB.images[0].url,alt:eB.name,className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,a.jsx)(o.Z,{size:48})})})}),(0,a.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-xl font-semibold",children:eB.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["SKU: ",eB.sku||"N/A"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-2xl font-bold text-primary-600",children:["₹",eB.price]}),eB.discount>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"text-gray-400 line-through",children:["₹",eB.originalPrice]}),(0,a.jsxs)("span",{className:"text-green-600 text-sm font-medium",children:[eB.discount,"% OFF"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(eB.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:eB.isActive?"Active":"Inactive"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:(null===(q=eB.category)||void 0===q?void 0:q.name)||"Uncategorized"}),(0,a.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(eB.stockCount>0?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"),children:["Stock: ",eB.stockCount]})]}),eB.shortDescription&&(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:eB.shortDescription}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[eB.isFeatured&&(0,a.jsx)("span",{className:"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded",children:"Featured"}),eB.isBestSeller&&(0,a.jsx)("span",{className:"text-xs bg-orange-100 text-orange-600 px-2 py-1 rounded",children:"Bestseller"}),eB.isOrganic&&(0,a.jsx)("span",{className:"text-xs bg-green-100 text-green-600 px-2 py-1 rounded",children:"Organic"}),eB.isNew&&(0,a.jsx)("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded",children:"New"})]}),eB.description&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:eB.description})]})]})]})}),(0,a.jsx)("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:(0,a.jsxs)("button",{onClick:()=>{eM(!1),s7(eB)},className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center gap-2 text-sm",children:[(0,a.jsx)(D.Z,{size:16})," Edit Product"]})})]})}),eT&&eB&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"bg-white rounded-xl w-full max-w-md",children:(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(g.Z,{className:"text-red-600",size:32})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Delete Product?"}),(0,a.jsxs)("p",{className:"text-gray-600 text-sm mb-6",children:['Are you sure you want to delete "',eB.name,'"? This action cannot be undone.']}),(0,a.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,a.jsx)("button",{onClick:()=>{eR(!1),eJ(null)},className:"px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),(0,a.jsxs)("button",{onClick:tl,disabled:eH,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center gap-2 text-sm",children:[eH?(0,a.jsx)(w.Z,{size:16,className:"animate-spin"}):(0,a.jsx)(I.Z,{size:16}),"Delete"]})]})]})})}),e8&&e4&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Order Details"}),(0,a.jsx)("button",{onClick:()=>{e9(!1),e6(null)},className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(P.Z,{size:20})})]}),(0,a.jsxs)("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-140px)]",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 mb-6 pb-4 border-b",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Order ID"}),(0,a.jsx)("p",{className:"font-mono font-semibold",children:e4.orderNumber||e4.id.slice(-8).toUpperCase()}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:new Date(e4.createdAt).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"})})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start sm:items-end gap-2",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat((null===(K=tx.find(e=>e.value===e4.status))||void 0===K?void 0:K.color)||"bg-gray-100 text-gray-700"),children:(null===(W=tx.find(e=>e.value===e4.status))||void 0===W?void 0:W.label)||e4.status}),(0,a.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("PAID"===e4.paymentStatus?"bg-green-100 text-green-700":"PENDING"===e4.paymentStatus?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:["Payment: ",e4.paymentStatus]})]})]}),(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,a.jsx)(u.Z,{size:16})," Customer Information"]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 space-y-1",children:[(0,a.jsx)("p",{className:"font-medium",children:(null===(Y=e4.user)||void 0===Y?void 0:Y.name)||"Guest"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:(null===(es=e4.user)||void 0===es?void 0:es.email)||"N/A"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:(null===(et=e4.user)||void 0===et?void 0:et.phone)||"N/A"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,a.jsx)(h.Z,{size:16})," Delivery Address"]}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:e4.deliveryAddress?(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[(0,a.jsx)("p",{className:"font-medium",children:e4.deliveryAddress.name||e4.deliveryAddress.label}),(0,a.jsx)("p",{className:"text-gray-600",children:e4.deliveryAddress.street}),(0,a.jsxs)("p",{className:"text-gray-600",children:[e4.deliveryAddress.city,", ",e4.deliveryAddress.state," - ",e4.deliveryAddress.postalCode]}),e4.deliveryAddress.phone&&(0,a.jsxs)("p",{className:"text-gray-600",children:["Phone: ",e4.deliveryAddress.phone]})]}):(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"No address provided"})})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,a.jsx)(o.Z,{size:16})," Order Items (",(null===(ea=e4.items)||void 0===ea?void 0:ea.length)||0,")"]}),(0,a.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 text-left",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-3 py-2 text-sm font-medium text-gray-600",children:"Product"}),(0,a.jsx)("th",{className:"px-3 py-2 text-sm font-medium text-gray-600 text-center",children:"Qty"}),(0,a.jsx)("th",{className:"px-3 py-2 text-sm font-medium text-gray-600 text-right",children:"Price"}),(0,a.jsx)("th",{className:"px-3 py-2 text-sm font-medium text-gray-600 text-right",children:"Total"})]})}),(0,a.jsx)("tbody",{className:"divide-y",children:null===(er=e4.items)||void 0===er?void 0:er.map((e,s)=>{var t,r,l,i,n;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(null===(l=e.product)||void 0===l?void 0:null===(r=l.images)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.url)?(0,a.jsx)("img",{src:e.product.images[0].url,alt:e.product.name,className:"w-10 h-10 rounded object-cover"}):(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded flex items-center justify-center",children:(0,a.jsx)(o.Z,{size:16,className:"text-gray-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:(null===(i=e.product)||void 0===i?void 0:i.name)||e.productName||"Product"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:(null===(n=e.product)||void 0===n?void 0:n.unit)||""})]})]})}),(0,a.jsx)("td",{className:"px-3 py-2 text-center",children:e.quantity}),(0,a.jsxs)("td",{className:"px-3 py-2 text-right text-sm",children:["₹",e.price]}),(0,a.jsxs)("td",{className:"px-3 py-2 text-right font-medium",children:["₹",(e.price*e.quantity).toFixed(2)]})]},s)})})]})})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-700 mb-3",children:"Order Summary"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,a.jsxs)("span",{children:["₹",(null===(el=e4.subtotal)||void 0===el?void 0:el.toFixed(2))||"0.00"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Delivery Fee"}),(0,a.jsxs)("span",{children:["₹",(null===(ei=e4.deliveryFee)||void 0===ei?void 0:ei.toFixed(2))||"0.00"]})]}),e4.discount>0&&(0,a.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,a.jsx)("span",{children:"Discount"}),(0,a.jsxs)("span",{children:["-₹",null===(en=e4.discount)||void 0===en?void 0:en.toFixed(2)]})]}),e4.walletUsed>0&&(0,a.jsxs)("div",{className:"flex justify-between text-blue-600",children:[(0,a.jsx)("span",{children:"Wallet Used"}),(0,a.jsxs)("span",{children:["-₹",null===(ec=e4.walletUsed)||void 0===ec?void 0:ec.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between font-semibold text-base pt-2 border-t",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsxs)("span",{className:"text-primary-600",children:["₹",(null===(ed=e4.total)||void 0===ed?void 0:ed.toFixed(2))||"0.00"]})]})]}),(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Payment Method:"})," ",e4.paymentMethod||"N/A"]}),e4.deliverySlot&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[(0,a.jsx)("span",{className:"font-medium",children:"Delivery Slot:"})," ",e4.deliverySlot.date," (",e4.deliverySlot.timeSlot,")"]}),e4.notes&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[(0,a.jsx)("span",{className:"font-medium",children:"Notes:"})," ",e4.notes]})]})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:(0,a.jsxs)("button",{onClick:()=>{e9(!1),to(e4)},className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center gap-2 text-sm",children:[(0,a.jsx)(D.Z,{size:16})," Update Status"]})})]})}),e3&&e4&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Update Order Status"}),(0,a.jsx)("button",{onClick:()=>{e7(!1),e6(null)},className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(P.Z,{size:20})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Order ID"}),(0,a.jsx)("p",{className:"font-mono font-semibold",children:e4.orderNumber||e4.id.slice(-8).toUpperCase()})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Current Status"}),(0,a.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium ".concat((null===(eo=tx.find(e=>e.value===e4.status))||void 0===eo?void 0:eo.color)||"bg-gray-100 text-gray-700"),children:(null===(em=tx.find(e=>e.value===e4.status))||void 0===em?void 0:em.label)||e4.status})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Change Status To"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:tx.map(e=>(0,a.jsx)("button",{onClick:()=>tm(e.value),disabled:sr||e4.status===e.value,className:"px-3 py-2 rounded-lg text-sm font-medium transition-all ".concat(e4.status===e.value?"ring-2 ring-primary-500 opacity-50 cursor-not-allowed":"hover:scale-105 hover:shadow-md"," ").concat(e.color),children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[sr&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(w.Z,{size:16,className:"animate-spin"}),"Updating..."]}),(0,a.jsx)("button",{onClick:()=>{e7(!1),e6(null)},disabled:sr,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm disabled:opacity-50",children:"Close"})]})]})}),si&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-lg max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:sp?"Edit Category":"Add New Category"}),(0,a.jsx)("button",{onClick:()=>sn(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(P.Z,{size:20})})]}),(0,a.jsxs)("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-140px)] space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name *"}),(0,a.jsx)("input",{type:"text",value:so.name,onChange:e=>ty("name",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Enter category name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug"}),(0,a.jsx)("input",{type:"text",value:so.slug,onChange:e=>ty("slug",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"category-slug"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("textarea",{value:so.description,onChange:e=>ty("description",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",rows:3,placeholder:"Category description"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon (emoji)"}),(0,a.jsx)("input",{type:"text",value:so.icon,onChange:e=>ty("icon",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"\uD83C\uDF4E"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),(0,a.jsx)("input",{type:"number",value:so.sortOrder,onChange:e=>ty("sortOrder",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),(0,a.jsx)("input",{type:"text",value:so.image,onChange:e=>ty("image",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"https://..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Category"}),(0,a.jsxs)("select",{value:so.parentId,onChange:e=>ty("parentId",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[(0,a.jsx)("option",{value:"",children:"None (Top Level)"}),eE.filter(e=>e.id!==so.id).map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:so.isActive,onChange:e=>ty("isActive",e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),(0,a.jsx)("span",{className:"text-sm",children:"Active"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[(0,a.jsx)("button",{onClick:()=>sn(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm",children:"Cancel"}),(0,a.jsxs)("button",{onClick:tj,disabled:sg,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2 text-sm",children:[sg?(0,a.jsx)(w.Z,{size:16,className:"animate-spin"}):(0,a.jsx)(R.Z,{size:16}),sp?"Update":"Create"]})]})]})}),sc&&sx&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"bg-white rounded-xl w-full max-w-md",children:(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(g.Z,{className:"text-red-600",size:32})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Delete Category?"}),(0,a.jsxs)("p",{className:"text-gray-600 text-sm mb-6",children:['Are you sure you want to delete "',sx.name,'"?',(null===(ex=sx._count)||void 0===ex?void 0:ex.products)>0&&(0,a.jsxs)("span",{className:"block mt-2 text-red-600",children:["Warning: This category has ",sx._count.products," products."]})]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,a.jsx)("button",{onClick:()=>{sd(!1),su(null)},className:"px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),(0,a.jsxs)("button",{onClick:tb,disabled:sj,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center gap-2 text-sm",children:[sj?(0,a.jsx)(w.Z,{size:16,className:"animate-spin"}):(0,a.jsx)(I.Z,{size:16}),"Delete"]})]})]})})}),sC&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-lg max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:sz?"Edit Coupon":"Add New Coupon"}),(0,a.jsx)("button",{onClick:()=>sk(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(P.Z,{size:20})})]}),(0,a.jsxs)("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-140px)] space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coupon Code *"}),(0,a.jsx)("input",{type:"text",value:sP.code,onChange:e=>tk("code",e.target.value.toUpperCase()),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm font-mono uppercase",placeholder:"SAVE20"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("input",{type:"text",value:sP.description,onChange:e=>tk("description",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Get 20% off on your order"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Type *"}),(0,a.jsxs)("select",{value:sP.type,onChange:e=>tk("type",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[(0,a.jsx)("option",{value:"PERCENTAGE",children:"Percentage"}),(0,a.jsx)("option",{value:"FIXED",children:"Fixed Amount"}),(0,a.jsx)("option",{value:"FREE_DELIVERY",children:"Free Delivery"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Value ","PERCENTAGE"===sP.type?"(%)":"FIXED"===sP.type?"(₹)":""]}),(0,a.jsx)("input",{type:"number",value:sP.value,onChange:e=>tk("value",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0",max:"PERCENTAGE"===sP.type?100:void 0,disabled:"FREE_DELIVERY"===sP.type})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Order Amount (₹)"}),(0,a.jsx)("input",{type:"number",value:sP.minOrderAmount,onChange:e=>tk("minOrderAmount",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0",placeholder:"0 = No minimum"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Discount (₹)"}),(0,a.jsx)("input",{type:"number",value:sP.maxDiscount,onChange:e=>tk("maxDiscount",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0",placeholder:"0 = No limit"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usage Limit"}),(0,a.jsx)("input",{type:"number",value:sP.usageLimit,onChange:e=>tk("usageLimit",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"0",placeholder:"0 = Unlimited"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per User Limit"}),(0,a.jsx)("input",{type:"number",value:sP.perUserLimit,onChange:e=>tk("perUserLimit",parseInt(e.target.value)||1),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",min:"1"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid From *"}),(0,a.jsx)("input",{type:"date",value:sP.validFrom,onChange:e=>tk("validFrom",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid Until *"}),(0,a.jsx)("input",{type:"date",value:sP.validUntil,onChange:e=>tk("validUntil",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 text-sm"})]})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:sP.isActive,onChange:e=>tk("isActive",e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),(0,a.jsx)("span",{className:"text-sm",children:"Active"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 p-4 border-t bg-gray-50",children:[(0,a.jsx)("button",{onClick:()=>sk(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm",children:"Cancel"}),(0,a.jsxs)("button",{onClick:tS,disabled:sE,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2 text-sm",children:[sE?(0,a.jsx)(w.Z,{size:16,className:"animate-spin"}):(0,a.jsx)(R.Z,{size:16}),sz?"Update":"Create"]})]})]})}),sS&&sD&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"bg-white rounded-xl w-full max-w-md",children:(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(g.Z,{className:"text-red-600",size:32})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Delete Coupon?"}),(0,a.jsxs)("p",{className:"text-gray-600 text-sm mb-6",children:['Are you sure you want to delete coupon "',sD.code,'"?']}),(0,a.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,a.jsx)("button",{onClick:()=>{sA(!1),sF(null)},className:"px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),(0,a.jsxs)("button",{onClick:tA,disabled:sU,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center gap-2 text-sm",children:[sU?(0,a.jsx)(w.Z,{size:16,className:"animate-spin"}):(0,a.jsx)(I.Z,{size:16}),"Delete"]})]})]})})}),sq&&sB&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Customer Details"}),(0,a.jsx)("button",{onClick:()=>{sK(!1),sJ(null),sY([])},className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(P.Z,{size:20})})]}),(0,a.jsxs)("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-120px)]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-2xl font-bold text-primary-600",children:(null===(ep=sB.name)||void 0===ep?void 0:null===(eu=ep.charAt(0))||void 0===eu?void 0:eu.toUpperCase())||"U"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-xl font-semibold",children:sB.name||"No name"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,a.jsx)(z.Z,{size:14})," ",sB.email]}),sB.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,a.jsx)(O.Z,{size:14})," ",sB.phone]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-primary-600",children:(null===(eh=sB._count)||void 0===eh?void 0:eh.orders)||0}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Total Orders"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["₹",(null===(eg=sB.wallet)||void 0===eg?void 0:eg.balance)||0]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Wallet Balance"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-600",children:new Date(sB.createdAt).toLocaleDateString("en-IN",{month:"short",year:"numeric"})}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Member Since"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-semibold mb-3",children:"Recent Orders"}),sH?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)(w.Z,{className:"animate-spin mx-auto text-primary-600",size:24})}):sW.length>0?(0,a.jsx)("div",{className:"space-y-2",children:sW.slice(0,10).map(e=>{var s;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-sm",children:["#",e.orderNumber||e.id.slice(-8).toUpperCase()]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[new Date(e.createdAt).toLocaleDateString()," • ",(null===(s=e.items)||void 0===s?void 0:s.length)||0," items"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-semibold",children:["₹",e.total]}),(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full ".concat(s6(e.status)),children:e.status})]})]},e.id)})}):(0,a.jsx)("p",{className:"text-center text-gray-500 py-4 text-sm",children:"No orders yet"})]})]})]})})]})}}},function(e){e.O(0,[6221,2749,2964,3631,2971,4938,1744],function(){return e(e.s=8583)}),_N_E=e.O()}]);