(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9772],{2442:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(2898).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},7158:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(2898).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},4056:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(2898).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},6142:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(2898).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5432:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(2898).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},9036:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(2898).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},1961:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(2898).Z)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]])},6582:function(e,a,t){Promise.resolve().then(t.bind(t,758))},758:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return S}});var s=t(7437),i=t(2265),r=t(4033),c=t(1396),n=t.n(c),l=t(6691),d=t.n(l),o=t(7158),x=t(2245),m=t(2442),u=t(4056),h=t(4891),g=t(9883),p=t(3505),y=t(7810);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,t(2898).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var j=t(6142),f=t(1961),v=t(9036),N=t(5432),k=t(7039),w=t(2749),Z=t(3494),C=t(5925);function S(e){var a;let{product:t,relatedProducts:c,reviews:l}=e,S=(0,r.useRouter)(),{data:P}=(0,w.useSession)(),z=null==P?void 0:null===(a=P.user)||void 0===a?void 0:a.id,[M,I]=(0,i.useState)(0),[R,q]=(0,i.useState)(1),[F,O]=(0,i.useState)("description"),[D,A]=(0,i.useState)(""),[E,_]=(0,i.useState)(null),{addItem:L,syncAddItem:V}=(0,k.xS)(),{addItem:T,removeItem:B,isInWishlist:H}=(0,k.Yl)(),Q=H(t.id),K=Math.min(t.stock,10),W=async()=>{let e={id:t.id,name:t.name,slug:t.slug,images:t.images,price:t.price,originalPrice:t.originalPrice,discount:t.discount,unit:t.unit,stockStatus:t.stockStatus,rating:t.rating,reviewCount:t.reviewCount,isOrganic:t.isOrganic,category:t.category};z?await V(e,R,z)?C.ZP.success("".concat(t.name," added to cart!")):C.ZP.error("Failed to add to cart"):(L(e,R),C.ZP.success("".concat(t.name," added to cart!")))},Y=async()=>{await W(),S.push("/checkout")},G=async()=>{let e=window.location.href;if(navigator.share)try{await navigator.share({title:t.name,text:"Check out ".concat(t.name," at KARIM TRADERS"),url:e})}catch(e){}else await navigator.clipboard.writeText(e),C.ZP.success("Link copied to clipboard!")};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"bg-white border-b",children:(0,s.jsx)("div",{className:"container-custom py-3",children:(0,s.jsxs)("nav",{className:"flex items-center gap-2 text-sm","aria-label":"Breadcrumb",children:[(0,s.jsx)(n(),{href:"/",className:"text-gray-500 hover:text-primary-600",children:"Home"}),(0,s.jsx)(o.Z,{size:16,className:"text-gray-400","aria-hidden":"true"}),(0,s.jsx)(n(),{href:"/products",className:"text-gray-500 hover:text-primary-600",children:"Products"}),(0,s.jsx)(o.Z,{size:16,className:"text-gray-400","aria-hidden":"true"}),(0,s.jsx)(n(),{href:"/products?category=".concat(t.category.slug),className:"text-gray-500 hover:text-primary-600",children:t.category.name}),(0,s.jsx)(o.Z,{size:16,className:"text-gray-400","aria-hidden":"true"}),(0,s.jsx)("span",{className:"text-gray-800 font-medium","aria-current":"page",children:t.name})]})})}),(0,s.jsxs)("div",{className:"container-custom py-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 p-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"relative aspect-square bg-gray-100 rounded-xl overflow-hidden mb-4",children:[(0,s.jsx)(d(),{src:t.images[M]||"/placeholder-product.png",alt:t.name,fill:!0,sizes:"(max-width: 768px) 100vw, 50vw",className:"object-cover",priority:!0}),(0,s.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[t.discount>0&&(0,s.jsxs)("span",{className:"bg-red-500 text-white text-sm font-bold px-3 py-1 rounded",children:[t.discount,"% OFF"]}),t.isOrganic&&(0,s.jsx)("span",{className:"bg-green-500 text-white text-sm font-bold px-3 py-1 rounded",children:"Organic"})]})]}),t.images.length>1&&(0,s.jsx)("div",{className:"flex gap-3",role:"listbox","aria-label":"Product images",children:t.images.map((e,a)=>(0,s.jsx)("button",{onClick:()=>I(a),className:"relative w-20 h-20 rounded-lg overflow-hidden border-2 transition-colors ".concat(M===a?"border-primary-600":"border-gray-200 hover:border-gray-300"),"aria-selected":M===a,"aria-label":"View image ".concat(a+1),children:(0,s.jsx)(d(),{src:e,alt:"".concat(t.name," ").concat(a+1),fill:!0,sizes:"80px",className:"object-cover"})},a))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(n(),{href:"/products?category=".concat(t.category.slug),className:"text-primary-600 text-sm font-medium hover:text-primary-700",children:t.category.name}),(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mt-2 mb-3",children:t.name}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"flex","aria-label":"Rating: ".concat(t.rating," out of 5 stars"),children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,s.jsx)(x.Z,{size:18,className:a<Math.floor(t.rating)?"text-yellow-400 fill-yellow-400":"text-gray-300","aria-hidden":"true"},a))}),(0,s.jsx)("span",{className:"font-medium text-gray-800",children:t.rating.toFixed(1)})]}),(0,s.jsxs)("span",{className:"text-gray-500",children:["(",t.reviewCount," reviews)"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsxs)("span",{className:"text-3xl font-bold text-primary-600",children:["₹",t.price]}),t.discount>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"text-xl text-gray-400 line-through",children:["₹",t.originalPrice]}),(0,s.jsxs)("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded text-sm font-medium",children:["Save ₹",(t.originalPrice-t.price).toFixed(0)]})]})]}),(0,s.jsxs)("p",{className:"text-gray-600 mb-4",children:["Price per ",t.unit]}),(0,s.jsxs)("div",{className:"mb-6",children:["in-stock"===t.stockStatus&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 text-green-600",children:[(0,s.jsx)(m.Z,{size:18,"aria-hidden":"true"}),"In Stock (",t.stock," available)"]}),"limited"===t.stockStatus&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 text-orange-600",children:[(0,s.jsx)(u.Z,{size:18,"aria-hidden":"true"}),"Limited Stock - Only ",t.stock," left!"]}),"out-of-stock"===t.stockStatus&&(0,s.jsx)("span",{className:"inline-flex items-center gap-2 text-red-600",children:"Out of Stock"})]}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:t.shortDescription}),"out-of-stock"!==t.stockStatus&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center border rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>q(Math.max(1,R-1)),className:"p-3 hover:bg-gray-100 transition-colors","aria-label":"Decrease quantity",children:(0,s.jsx)(h.Z,{size:18,"aria-hidden":"true"})}),(0,s.jsx)("input",{id:"quantity",type:"number",value:R,onChange:e=>{q(Math.max(1,Math.min(K,parseInt(e.target.value)||1)))},className:"w-12 text-center font-medium border-0 focus:ring-0",min:1,max:K}),(0,s.jsx)("button",{onClick:()=>q(Math.min(K,R+1)),className:"p-3 hover:bg-gray-100 transition-colors","aria-label":"Increase quantity",children:(0,s.jsx)(g.Z,{size:18,"aria-hidden":"true"})})]}),(0,s.jsxs)("span",{className:"text-gray-500 text-sm",children:["Max: ",K," ",t.unit]})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:["out-of-stock"!==t.stockStatus?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{onClick:W,className:"flex-1 btn-primary flex items-center justify-center gap-2",children:[(0,s.jsx)(p.Z,{size:20,"aria-hidden":"true"}),"Add to Cart"]}),(0,s.jsx)("button",{onClick:Y,className:"flex-1 btn-secondary flex items-center justify-center gap-2",children:"Buy Now"})]}):(0,s.jsx)("button",{className:"flex-1 bg-gray-300 text-gray-600 py-3 px-6 rounded-lg cursor-not-allowed",disabled:!0,children:"Out of Stock"}),(0,s.jsx)("button",{onClick:()=>{Q?(B(t.id),C.ZP.success("Removed from wishlist")):(T({id:t.id,name:t.name,slug:t.slug,images:t.images,price:t.price,originalPrice:t.originalPrice,discount:t.discount,unit:t.unit,stockStatus:t.stockStatus,rating:t.rating,reviewCount:t.reviewCount,isOrganic:t.isOrganic,category:t.category}),C.ZP.success("Added to wishlist!"))},className:"p-3 rounded-lg border-2 transition-colors ".concat(Q?"bg-red-50 border-red-500 text-red-500":"border-gray-300 text-gray-600 hover:border-gray-400"),"aria-label":Q?"Remove from wishlist":"Add to wishlist",children:(0,s.jsx)(y.Z,{size:20,fill:Q?"currentColor":"none","aria-hidden":"true"})}),(0,s.jsx)("button",{onClick:G,className:"p-3 rounded-lg border-2 border-gray-300 text-gray-600 hover:border-gray-400","aria-label":"Share product",children:(0,s.jsx)(b,{size:20,"aria-hidden":"true"})})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)(j.Z,{size:18,className:"text-primary-600","aria-hidden":"true"}),(0,s.jsx)("span",{className:"font-medium",children:"Check Delivery"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:D,onChange:e=>A(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Enter pincode",className:"flex-1 input-field",maxLength:6,"aria-label":"Enter pincode for delivery check"}),(0,s.jsx)("button",{onClick:()=>{6===D.length?_("Delivery available in 2-3 days"):C.ZP.error("Please enter a valid 6-digit pincode")},className:"btn-outline",children:"Check"})]}),E&&(0,s.jsxs)("p",{className:"text-green-600 text-sm mt-2 flex items-center gap-2",children:[(0,s.jsx)(m.Z,{size:16,"aria-hidden":"true"}),E]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)(f.Z,{className:"mx-auto text-primary-600 mb-2",size:24,"aria-hidden":"true"}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Free Delivery"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Above ₹500"})]}),(0,s.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)(v.Z,{className:"mx-auto text-primary-600 mb-2",size:24,"aria-hidden":"true"}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Quality Assured"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"100% Fresh"})]}),(0,s.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)(N.Z,{className:"mx-auto text-primary-600 mb-2",size:24,"aria-hidden":"true"}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Easy Returns"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"7 Day Policy"})]})]})]})]}),(0,s.jsxs)("div",{className:"border-t",children:[(0,s.jsx)("div",{className:"flex border-b",role:"tablist",children:[{id:"description",label:"Description"},{id:"nutrition",label:"Nutrition Info"},{id:"reviews",label:"Reviews (".concat(l.length,")")}].map(e=>(0,s.jsx)("button",{onClick:()=>O(e.id),className:"px-6 py-4 font-medium transition-colors ".concat(F===e.id?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-800"),role:"tab","aria-selected":F===e.id,"aria-controls":"".concat(e.id,"-panel"),children:e.label},e.id))}),(0,s.jsxs)("div",{className:"p-6",children:["description"===F&&(0,s.jsx)("div",{id:"description-panel",role:"tabpanel",className:"prose max-w-none",children:(0,s.jsx)("p",{className:"text-gray-700 mb-4",children:t.description})}),"nutrition"===F&&(0,s.jsx)("div",{id:"nutrition-panel",role:"tabpanel",children:t.nutritionInfo?(0,s.jsxs)("div",{className:"max-w-md",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-800 mb-4",children:"Nutritional Information (per 100g)"}),(0,s.jsx)("div",{className:"space-y-3",children:[{label:"Calories",value:"".concat(t.nutritionInfo.calories," kcal")},{label:"Protein",value:"".concat(t.nutritionInfo.protein,"g")},{label:"Carbohydrates",value:"".concat(t.nutritionInfo.carbs,"g")},{label:"Fat",value:"".concat(t.nutritionInfo.fat,"g")},{label:"Fiber",value:"".concat(t.nutritionInfo.fiber,"g")}].map(e=>(0,s.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,s.jsx)("span",{className:"text-gray-600",children:e.label}),(0,s.jsx)("span",{className:"font-medium text-gray-800",children:e.value})]},e.label))})]}):(0,s.jsx)("p",{className:"text-gray-500",children:"Nutritional information not available for this product."})}),"reviews"===F&&(0,s.jsx)("div",{id:"reviews-panel",role:"tabpanel",children:l.length>0?(0,s.jsx)("div",{className:"space-y-6",children:l.map(e=>(0,s.jsx)("article",{className:"border-b pb-6",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("span",{className:"text-primary-600 font-medium",children:e.userName.charAt(0)})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"font-medium text-gray-800",children:e.userName}),e.isVerifiedPurchase&&(0,s.jsx)("span",{className:"badge badge-success text-xs",children:"Verified Purchase"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("div",{className:"flex","aria-label":"Rating: ".concat(e.rating," out of 5"),children:[void 0,void 0,void 0,void 0,void 0].map((a,t)=>(0,s.jsx)(x.Z,{size:14,className:t<e.rating?"text-yellow-400 fill-yellow-400":"text-gray-300","aria-hidden":"true"},t))}),(0,s.jsx)("time",{className:"text-sm text-gray-500",dateTime:e.createdAt,children:new Date(e.createdAt).toLocaleDateString("en-IN",{dateStyle:"medium"})})]}),e.title&&(0,s.jsx)("h4",{className:"font-medium text-gray-800 mb-1",children:e.title}),(0,s.jsx)("p",{className:"text-gray-600",children:e.comment})]})]})},e.id))}):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"No reviews yet. Be the first to review!"}),(0,s.jsx)(n(),{href:"/products/".concat(t.slug,"/review"),className:"btn-primary",children:"Write a Review"})]})})]})]})]}),c.length>0&&(0,s.jsxs)("section",{className:"mt-12","aria-labelledby":"related-products-heading",children:[(0,s.jsx)("h2",{id:"related-products-heading",className:"section-title mb-6",children:"Related Products"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.map(e=>(0,s.jsx)(Z.Z,{product:e},e.id))})]})]})]})}},4033:function(e,a,t){e.exports=t(5313)}},function(e){e.O(0,[6221,2749,4356,1084,3494,2971,4938,1744],function(){return e(e.s=6582)}),_N_E=e.O()}]);